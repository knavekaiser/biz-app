{"version":3,"file":"static/js/262.94520a4d.chunk.js","mappings":"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","sources":["webpack://cash-app/./src/Views/AuthViews/auth.module.scss?b4ef","Views/AuthViews/Signup.js","Views/AuthViews/Signin.js","Views/AuthViews/ResetPassword.js","Views/AuthViews/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"auth_container__5S++a\",\"background\":\"auth_background__TwPHd\",\"illustration\":\"auth_illustration__m6Qo5\",\"userTypes\":\"auth_userTypes__S3RrS\",\"active\":\"auth_active__g4OhT\",\"resetPasswordLink\":\"auth_resetPasswordLink__sf-ux\",\"resend\":\"auth_resend__1Y0fK\"};","import { useContext } from \"react\";\nimport { SiteContext } from \"SiteContext\";\nimport { useForm } from \"react-hook-form\";\nimport { Input } from \"Components/elements\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useYup, useFetch } from \"hooks\";\nimport { paths, endpoints } from \"config\";\nimport { Prompt } from \"Components/modal\";\nimport * as yup from \"yup\";\nimport s from \"./auth.module.scss\";\n\nconst validationSchema = yup.object({\n  phone: yup.string().required(\"Required\"),\n  name: yup.string().required(\"Required\"),\n  password: yup\n    .string()\n    .min(8, \"Password must be 8 characters or longer\")\n    .required(\"Required\"),\n});\n\nconst Form = () => {\n  const { setUser, userType, setUserType } = useContext(SiteContext);\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(validationSchema),\n  });\n  const { post: signup, loading } = useFetch(endpoints[`${userType}SignUp`]);\n\n  const navigate = useNavigate();\n  return (\n    <form\n      className=\"grid gap-1 p-1 m-a\"\n      autoComplete=\"off\"\n      onSubmit={handleSubmit((values) => {\n        signup({\n          phone: values.phone,\n          password: values.password,\n          name: values.name,\n        }).then(({ data }) => {\n          if (data.success) {\n            setUser(data.data);\n            localStorage.setItem(\"userType\", data.data.userType);\n            navigate(paths.dashboard, { replace: true });\n          } else {\n            Prompt({\n              type: \"error\",\n              message: data.message,\n            });\n          }\n        });\n      })}\n    >\n      <img className={s.illustration} src=\"/assets/comify.png\" />\n      <div className={\"grid gap-1\"}>\n        <h1 className=\"text-center\">Comify Studio</h1>\n        <div className=\"flex justify-space-between align-center\">\n          <h2>Sign Up</h2>\n        </div>\n        <ul className={s.userTypes}>\n          <li\n            className={userType === \"business\" ? s.active : \"\"}\n            onClick={() => {\n              setUserType(\"business\");\n              localStorage.setItem(\"userType\", \"business\");\n            }}\n          >\n            Business\n          </li>\n          <li\n            className={userType === \"admin\" ? s.active : \"\"}\n            onClick={() => {\n              setUserType(\"admin\");\n              localStorage.setItem(\"userType\", \"admin\");\n            }}\n          >\n            Admin\n          </li>\n          <li\n            className={userType === \"staff\" ? s.active : \"\"}\n            onClick={() => {\n              setUserType(\"staff\");\n              localStorage.setItem(\"userType\", \"staff\");\n            }}\n          >\n            Staff\n          </li>\n        </ul>\n        <Input\n          label=\"Phone\"\n          required\n          {...register(\"phone\")}\n          error={errors.phone}\n        />\n        <Input\n          label=\"Name\"\n          required\n          {...register(\"name\")}\n          error={errors.name}\n        />\n        <Input\n          label=\"Password\"\n          required\n          type=\"password\"\n          {...register(\"password\")}\n          error={errors.password}\n        />\n        <button className=\"btn\" disabled={loading}>\n          Sign Up\n        </button>\n        <Link to={paths.signIn}>Already have an account</Link>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import { useState, useContext } from \"react\";\nimport { SiteContext } from \"SiteContext\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, Link, useLocation } from \"react-router-dom\";\nimport { Input } from \"Components/elements\";\nimport { useYup, useFetch } from \"hooks\";\nimport { paths, endpoints } from \"config\";\nimport { Prompt } from \"Components/modal\";\nimport * as yup from \"yup\";\nimport s from \"./auth.module.scss\";\n\nconst validationSchema = yup.object({\n  phone: yup.string().required(\"Required\"),\n  password: yup.string().required(\"Required\"),\n});\n\nconst Form = () => {\n  const { setUser, userType, setUserType } = useContext(SiteContext);\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm({ resolver: useYup(validationSchema) });\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [invalidCred, setInvalidCred] = useState(false);\n  const { post: login, loading } = useFetch(endpoints[`${userType}SignIn`]);\n  return (\n    <form\n      className=\"grid gap-1 p-1 m-a\"\n      onSubmit={handleSubmit((values) => {\n        setInvalidCred(false);\n        login({ phone: values.phone, password: values.password })\n          .then(({ data }) => {\n            if (data.success) {\n              setUser(data.data);\n              localStorage.setItem(\"userType\", data.data.userType);\n              localStorage.setItem(\"access_token\", data.token);\n              const path = [\"/signin\", \"/signup\"].includes(location.pathname)\n                ? paths.home\n                : location.pathname || paths.home;\n              // console.log(path);\n              navigate(path, { replace: true });\n            } else {\n              setInvalidCred(true);\n            }\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <img className={s.illustration} src=\"/assets/comify.png\" />\n      <div className={`grid gap-1`}>\n        <h1 className=\"text-center\">Comify Studio</h1>\n        <div className=\"flex justify-space-between align-center\">\n          <h2>Sign In as</h2>\n        </div>\n        <ul className={s.userTypes}>\n          <li\n            className={userType === \"business\" ? s.active : \"\"}\n            onClick={() => {\n              setUserType(\"business\");\n              localStorage.setItem(\"userType\", \"business\");\n            }}\n          >\n            Business\n          </li>\n          <li\n            className={userType === \"admin\" ? s.active : \"\"}\n            onClick={() => {\n              setUserType(\"admin\");\n              localStorage.setItem(\"userType\", \"admin\");\n            }}\n          >\n            Admin\n          </li>\n          <li\n            className={userType === \"staff\" ? s.active : \"\"}\n            onClick={() => {\n              setUserType(\"staff\");\n              localStorage.setItem(\"userType\", \"staff\");\n            }}\n          >\n            Staff\n          </li>\n        </ul>\n        {invalidCred && <p className=\"error\">Invalid credentials</p>}\n        <Input\n          required\n          label=\"Phone\"\n          {...register(\"phone\")}\n          error={errors.phone}\n        />\n        <Input\n          required\n          label=\"Password\"\n          type=\"password\"\n          {...register(\"password\")}\n          error={errors.password}\n        />\n        <Link className={s.resetPasswordLink} to={paths.resetPassword}>\n          Forgot Password?\n        </Link>\n        <button className=\"btn\" disabled={loading}>\n          Sign In\n        </button>\n        <Link to={paths.signUp}>Create New Account</Link>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Input, Countdown } from \"Components/elements\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useYup, useFetch } from \"hooks\";\nimport { paths, endpoints } from \"config\";\nimport { Prompt } from \"Components/modal\";\nimport * as yup from \"yup\";\nimport s from \"./auth.module.scss\";\n\nconst otpSchema = yup.object({\n  phone: yup.string().required(\"Required\"),\n});\nconst passwordResetSchema = yup.object({\n  code: yup.string().required(\"Required\"),\n  password: yup\n    .string()\n    .min(8, \"Password must be 8 characters or longer\")\n    .required(\"Required\"),\n  confirmPassword: yup\n    .string()\n    .required(\"Required\")\n    .oneOf([yup.ref(\"password\")], \"Password does not match\"),\n});\n\nconst Form = () => {\n  const [step, setStep] = useState(1);\n  const [phone, setPhone] = useState(null);\n  const [timeout, setTimeout] = useState(null);\n  const navigate = useNavigate();\n\n  return (\n    <>\n      {step === 1 && (\n        <SendOtpForm\n          onSuccess={(otpDetail) => {\n            setPhone(otpDetail.phone);\n            setTimeout(otpDetail.timeout);\n            setStep(2);\n          }}\n        />\n      )}\n      {step === 2 && (\n        <PasswordResetForm\n          setPhone={setPhone}\n          phone={phone}\n          setStep={setStep}\n          timeout={timeout}\n          setTimeout={setTimeout}\n          onSuccess={(resp) => {\n            Prompt({\n              type: \"information\",\n              message: resp.message,\n              callback: () => navigate(paths.signIn),\n            });\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nconst SendOtpForm = ({ onSuccess }) => {\n  const { post: sendOtp, loading } = useFetch(endpoints.forgotPassword);\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(otpSchema),\n  });\n  return (\n    <form\n      className=\"grid gap-1 p-1 m-a\"\n      onSubmit={handleSubmit((values) => {\n        sendOtp({ phone: values.phone }).then(({ data }) => {\n          if (data.success) {\n            Prompt({\n              type: \"information\",\n              message: data.message,\n            });\n            onSuccess(data.data);\n          } else {\n            Prompt({\n              type: \"error\",\n              message: data.message,\n            });\n          }\n        });\n      })}\n    >\n      <img className={s.illustration} src=\"/assets/comify.png\" />\n      <div className={\"grid gap-1\"}>\n        <h1 className=\"text-center\">Comify Studio</h1>\n        <h2>Reset Password</h2>\n        <Input\n          label=\"Phone\"\n          required\n          {...register(\"phone\")}\n          error={errors.phone}\n        />\n        <button className=\"btn\" disabled={loading}>\n          Next\n        </button>\n        <Link to={paths.signIn}>Back to Login</Link>\n      </div>\n    </form>\n  );\n};\n\nconst PasswordResetForm = ({\n  setPhone,\n  phone,\n  setStep,\n  timeout,\n  setTimeout,\n  onSuccess,\n}) => {\n  const { post: resendOtp, loading: resendingOtp } = useFetch(\n    endpoints.forgotPassword\n  );\n  const { post: resetPassword, loading: resettingPass } = useFetch(\n    endpoints.resetPassword\n  );\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm({ resolver: useYup(passwordResetSchema) });\n  useEffect(() => {\n    if (!phone) {\n      setStep(1);\n    }\n  }, [phone]);\n  return (\n    <form\n      className=\"grid gap-1 p-1 m-a\"\n      onSubmit={handleSubmit((values) => {\n        resetPassword({\n          phone,\n          password: values.password,\n          code: values.code,\n        }).then(({ data }) => {\n          if (data.success) {\n            onSuccess(data);\n          } else {\n            Prompt({\n              type: \"error\",\n              message: data.message,\n            });\n          }\n        });\n      })}\n    >\n      <img className={s.illustration} src=\"/assets/comify.png\" />\n      <div className={\"grid gap-1\"}>\n        <h1 className=\"text-center\">Comify</h1>\n        <h2>Reset Password</h2>\n\n        <p>Please enter the 6 digit code sent to {phone}.</p>\n\n        <Input\n          type=\"number\"\n          label=\"Code\"\n          required\n          {...register(\"code\")}\n          error={errors.code}\n        />\n        <p className={s.resend}>\n          Didn't recieve the Code?{\" \"}\n          {timeout ? (\n            <>\n              Please wait{\" \"}\n              <Countdown\n                time={new Date().setSeconds(new Date().getSeconds() + timeout)}\n                format={\"mm:ss\"}\n                onEnd={() => setTimeout(null)}\n              />\n            </>\n          ) : (\n            <button\n              type=\"button\"\n              onClick={() => {\n                resendOtp({ phone }).then(({ data }) => {\n                  if (data.success) {\n                    setPhone(data.data.phone);\n                    setTimeout(data.data.timeout);\n                  } else {\n                    Prompt({\n                      type: \"error\",\n                      message: data.message,\n                    });\n                  }\n                });\n              }}\n              disabled={resendingOtp}\n            >\n              Resend\n            </button>\n          )}\n        </p>\n\n        <hr />\n\n        <Input\n          label=\"New Password\"\n          type=\"password\"\n          required\n          {...register(\"password\")}\n          error={errors.password}\n        />\n        <Input\n          label=\"Config Password\"\n          type=\"password\"\n          required\n          {...register(\"confirmPassword\")}\n          error={errors.confirmPassword}\n        />\n\n        <button\n          className=\"btn\"\n          type=\"submit\"\n          disabled={resendingOtp || resettingPass}\n        >\n          Submit\n        </button>\n        <Link to={paths.signIn}>Back to Login</Link>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import { useContext, useEffect } from \"react\";\nimport { SiteContext } from \"SiteContext\";\nimport { Routes, Route, useNavigate, useLocation } from \"react-router-dom\";\nimport Signup from \"./Signup\";\nimport SignIn from \"./Signin\";\nimport ResetPassword from \"./ResetPassword\";\nimport { paths } from \"config\";\n\nimport s from \"./auth.module.scss\";\nimport { Footer, Header } from \"Components/ui\";\n\nconst Auth = () => {\n  const { user } = useContext(SiteContext);\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    if (user) {\n      navigate(paths.home, { replace: true });\n    }\n  }, [user, location]);\n  return (\n    <>\n      <Header />\n      <div className={s.container}>\n        <Routes>\n          <Route path={paths.signUp} element={<Signup />} />\n          <Route path={paths.signIn} element={<SignIn />} />\n          <Route path={paths.resetPassword} element={<ResetPassword />} />\n        </Routes>\n        <img\n          className={s.background}\n          src={`https://images.unsplash.com/photo-1522441815192-d9f04eb0615c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=${window.innerWidth}&h=${window.innerHeight}&q=100`}\n        />\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default Auth;\n"],"names":["validationSchema","yup","phone","required","name","password","min","useContext","SiteContext","setUser","userType","setUserType","useForm","resolver","useYup","handleSubmit","register","errors","formState","useFetch","endpoints","signup","post","loading","navigate","useNavigate","className","autoComplete","onSubmit","values","then","data","success","localStorage","setItem","paths","replace","Prompt","type","message","s","src","onClick","label","error","disabled","to","location","useLocation","useState","invalidCred","setInvalidCred","login","token","path","includes","pathname","catch","err","otpSchema","passwordResetSchema","code","confirmPassword","oneOf","SendOtpForm","onSuccess","sendOtp","PasswordResetForm","setPhone","setStep","timeout","setTimeout","resendOtp","resendingOtp","resetPassword","resettingPass","useEffect","time","Date","setSeconds","getSeconds","format","onEnd","step","otpDetail","resp","callback","user","element","Signup","ResetPassword","window","innerWidth","innerHeight"],"sourceRoot":""}