{"version":3,"file":"static/js/901.453e309c.chunk.js","mappings":"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","sources":["webpack://cash-app/./src/Views/Home/home.module.scss?1852","Views/Home/Filter.js","Views/Home/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"landingPage\":\"home_landingPage__PGhRk\",\"allProducts\":\"home_allProducts__375Ny\",\"store\":\"home_store__wGYk6\",\"featured\":\"home_featured__G3PDC\",\"products\":\"home_products__qc9X5\",\"sidebar\":\"home_sidebar__tYk+c\",\"filterBtn\":\"home_filterBtn__24Ikb\",\"categories\":\"home_categories__j8-l5\",\"subCategories\":\"home_subCategories__Moeme\",\"section\":\"home_section__+YX1m\",\"head\":\"home_head__O5-Gv\",\"sectionContent\":\"home_sectionContent__IXOOI\",\"filterList\":\"home_filterList__PpK91\"};","import { useEffect, useState, useRef } from \"react\";\r\nimport { Input, Select, Combobox, Range } from \"Components/elements\";\r\nimport { HiOutlineX } from \"react-icons/hi\";\r\nimport s from \"./home.module.scss\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useFetch } from \"hooks\";\r\nimport { endpoints, paths } from \"config\";\r\nimport { useLocation, useNavigate, useSearchParams } from \"react-router-dom\";\r\n\r\nconst Filters = ({ schema, fields, filters, setFilters }) => {\r\n  const queryLoaded = useRef(false);\r\n  const fieldsRef = useRef({});\r\n  const [query, setQuery] = useSearchParams();\r\n  const { pathname } = useLocation();\r\n\r\n  const navigate = useNavigate();\r\n  const { handleSubmit, control, reset, watch, getValues, setValue } = useForm({\r\n    defaultValues: { sort: \"price-asc\" },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (fields.length && !queryLoaded.current) {\r\n      const values = {};\r\n      fields.forEach((field) => {\r\n        if (query[field.fieldName]) {\r\n          values[field.fieldName] = query[field.fieldName];\r\n        } else if (\r\n          query[field.fieldName + \"-min\"] ||\r\n          query[field.fieldName + \"-max\"]\r\n        ) {\r\n          if (field.filterType === \"range\") {\r\n            values[field.fieldName + \"-range\"] = {\r\n              min: +query[field.fieldName + \"-min\"],\r\n              max: +query[field.fieldName + \"-max\"],\r\n            };\r\n          } else {\r\n            values[field.fieldName + \"-min\"] = +query[field.fieldName + \"-min\"];\r\n            values[field.fieldName + \"-max\"] = +query[field.fieldName + \"-max\"];\r\n          }\r\n        }\r\n      });\r\n\r\n      reset(values);\r\n      queryLoaded.current = true;\r\n    }\r\n  }, [fields, query]);\r\n\r\n  return (\r\n    <form\r\n      className=\"all-columns\"\r\n      onSubmit={handleSubmit((values) => {\r\n        //\r\n      })}\r\n    >\r\n      {Object.keys(query).length > 1 && (\r\n        <div className={s.clearFilters}>\r\n          <button\r\n            className=\"btn\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              // setFilters({});\r\n              reset(fieldsRef.current);\r\n              navigate(\r\n                {\r\n                  pathname: pathname,\r\n                  query: { sort: query.sort },\r\n                },\r\n                undefined,\r\n                { shallow: true, replace: true }\r\n              );\r\n            }}\r\n          >\r\n            <HiOutlineX />\r\n            Clear All Filters\r\n          </button>\r\n        </div>\r\n      )}\r\n      {/* <Section label=\"Sort\">\r\n        <Combobox\r\n          control={control}\r\n          name=\"sort\"\r\n          options={[\r\n            // { label: \"Popularity\", value: \"popular\" },\r\n            { label: \"Price Low to High\", value: \"price-asc\" },\r\n            { label: \"Price High to Low\", value: \"price-dsc\" },\r\n          ]}\r\n          onChange={(opt) => setFilters({ ...filters, sort: opt.value })}\r\n        />\r\n      </Section> */}\r\n      {schema &&\r\n        (fields || []).map((f) => {\r\n          const field = schema.find((field) => field.name === f.fieldName);\r\n          if (!field) {\r\n            return null;\r\n          }\r\n          if (f.filterType === \"textSearch\" || f.filterType === \"match\") {\r\n            fieldsRef.current = {\r\n              ...fieldsRef.current,\r\n              [field.name]: \"\",\r\n            };\r\n            return (\r\n              <Section label={field.label} key={f.fieldName}>\r\n                <Input\r\n                  control={control}\r\n                  name={field.name}\r\n                  type={field.inputType}\r\n                  onChange={(e) => {\r\n                    setFilters((prev) => ({\r\n                      ...prev,\r\n                      [field.name]: e.target.value || \"\",\r\n                    }));\r\n                  }}\r\n                />\r\n              </Section>\r\n            );\r\n          } else if (f.filterType === \"minMax\") {\r\n            fieldsRef.current = {\r\n              ...fieldsRef.current,\r\n              [`${field.name}-min`]: \"\",\r\n              [`${field.name}-max`]: \"\",\r\n            };\r\n            return (\r\n              <Section label={field.label} key={f.fieldName}>\r\n                <Input\r\n                  control={control}\r\n                  name={`${field.name}-min`}\r\n                  type={field.inputType}\r\n                  placeholder=\"MIN\"\r\n                  onChange={(e) => {\r\n                    const max = getValues(`${field.name}-max`);\r\n\r\n                    if (+e.target.value <= +max) {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        [`${field.name}-min`]: +e.target.value,\r\n                        [`${field.name}-max`]: +max,\r\n                      }));\r\n                    } else {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        [`${field.name}-min`]: \"\",\r\n                        [`${field.name}-max`]: \"\",\r\n                      }));\r\n                    }\r\n                  }}\r\n                />\r\n                <Input\r\n                  control={control}\r\n                  name={`${field.name}-max`}\r\n                  type={field.inputType}\r\n                  placeholder=\"MAX\"\r\n                  onChange={(e) => {\r\n                    const min = getValues(`${field.name}-min`);\r\n                    if (+e.target.value >= +min) {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        [`${field.name}-max`]: +e.target.value,\r\n                        [`${field.name}-min`]: +min,\r\n                      }));\r\n                    } else {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        [`${field.name}-max`]: \"\",\r\n                        [`${field.name}-min`]: \"\",\r\n                      }));\r\n                    }\r\n                  }}\r\n                />\r\n\r\n                {+getValues(`${field.name}-max`) <\r\n                  +getValues(`${field.name}-min`) && (\r\n                  <p className=\"subtitle1\">Max must be greater then Min</p>\r\n                )}\r\n              </Section>\r\n            );\r\n          } else if (f.filterType === \"range\") {\r\n            return (\r\n              <Section label={field.label} key={f.fieldName}>\r\n                <Range\r\n                  control={control}\r\n                  name={`${field.name}-range`}\r\n                  setValue={setValue}\r\n                  type={field.inputType}\r\n                  placeholder={`${field.label} range`}\r\n                  onChange={({ min, max }) => {\r\n                    if (min <= max) {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        [`${field.name}-min`]: min,\r\n                        [`${field.name}-max`]: max,\r\n                      }));\r\n                    } else {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        [`${field.name}-min`]: \"\",\r\n                        [`${field.name}-max`]: \"\",\r\n                      }));\r\n                    }\r\n                  }}\r\n                  min={+f.min}\r\n                  max={+f.max}\r\n                />\r\n              </Section>\r\n            );\r\n          } else if ([\"list\", \"dropdown\"].includes(f.filterStyle)) {\r\n            fieldsRef.current = {\r\n              ...fieldsRef.current,\r\n              [field.name]: [],\r\n            };\r\n            return (\r\n              <FilterList\r\n                key={f.fieldName}\r\n                field={field}\r\n                sidebarItem={f}\r\n                setFilters={setFilters}\r\n                control={control}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n\r\n      <button hidden type=\"submit\" disabled></button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst FilterList = ({ field, setFilters, sidebarItem, control }) => {\r\n  const [selected, setSelected] = useState([]);\r\n  const [options, setOptions] = useState([]);\r\n  const { get: getOptions } = useFetch(\r\n    endpoints.elements + `/${field?.collection || \"\"}`\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (sidebarItem.filterStyle === \"list\") {\r\n      setFilters((prev) => {\r\n        return {\r\n          ...prev,\r\n          [field.name]: selected?.length ? selected : \"\",\r\n        };\r\n      });\r\n    }\r\n  }, [selected]);\r\n\r\n  useEffect(() => {\r\n    if (field.optionType === \"collection\") {\r\n      getOptions()\r\n        .then(({ data }) => {\r\n          if (data?.success) {\r\n            return setOptions(\r\n              data.data.map((item) => ({\r\n                label: item[field.optionLabel],\r\n                value: item[field.optionValue],\r\n              }))\r\n            );\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, []);\r\n\r\n  if (sidebarItem.filterStyle === \"list\") {\r\n    return (\r\n      <Section label={field.label}>\r\n        <ul className={s.filterList}>\r\n          {(field.optionType === \"array\" ? field.options : options).map(\r\n            (option, i) => (\r\n              <li key={i}>\r\n                <input\r\n                  id={`${field.name}_${option.label}`}\r\n                  type=\"checkbox\"\r\n                  checked={selected.includes(option.value)}\r\n                  onChange={(e) => {\r\n                    if (selected.includes(option.value)) {\r\n                      setSelected((prev) =>\r\n                        prev.filter((item) => item !== option.value)\r\n                      );\r\n                    } else {\r\n                      setSelected((prev) => [...prev, option.value]);\r\n                    }\r\n                  }}\r\n                />{\" \"}\r\n                <label htmlFor={`${field.name}_${option.label}`}>\r\n                  {option.label}\r\n                </label>\r\n              </li>\r\n            )\r\n          )}\r\n        </ul>\r\n      </Section>\r\n    );\r\n  } else if (sidebarItem.filterStyle === \"dropdown\") {\r\n    return (\r\n      <Section label={field.label}>\r\n        <Select\r\n          control={control}\r\n          {...(field.optionType === \"array\" && {\r\n            options: field.options,\r\n          })}\r\n          {...(field.optionType === \"collection\" && {\r\n            url: `${endpoints.elements}/${field.collection}`,\r\n            getQuery: (inputValue, selected) => ({\r\n              ...(inputValue && { [field.optionLabel]: inputValue }),\r\n              ...(selected && { [field.optionValue]: selected }),\r\n            }),\r\n            handleData: (item) => ({\r\n              label: item[field.optionLabel],\r\n              value: item[field.optionValue],\r\n            }),\r\n          })}\r\n          multiple\r\n          name={field.name}\r\n          formOptions={{ required: field.required }}\r\n          className={s.itemName}\r\n          onChange={(e) => {\r\n            setFilters((prev) => ({\r\n              ...prev,\r\n              [field.name]: e.length ? e.map((item) => item.value) : \"\",\r\n            }));\r\n          }}\r\n        />\r\n      </Section>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst Section = ({ label, children, className }) => {\r\n  return (\r\n    <div className={`${s.section} ${className || \"\"}`}>\r\n      <div className={s.head}>{label}</div>\r\n      <div className={s.sectionContent} onClick={(e) => e.stopPropagation()}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filters;\r\n","import { Checkbox } from \"Components/elements\";\r\nimport { Prompt } from \"Components/modal\";\r\nimport { Header, Footer } from \"Components/ui\";\r\nimport { endpoints } from \"config\";\r\nimport { useFetch } from \"hooks\";\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport s from \"./home.module.scss\";\r\nimport { ProductThumb } from \"./productThumbnail\";\r\nimport { BsArrowLeft } from \"react-icons/bs\";\r\nimport { FiChevronRight } from \"react-icons/fi\";\r\nimport { BiFilterAlt } from \"react-icons/bi\";\r\nimport Filters from \"./Filter\";\r\n\r\nconst Home = () => {\r\n  const [filters, setFilters] = useState({});\r\n  const [config, setConfig] = useState(null);\r\n  const [stores, setStores] = useState([]);\r\n\r\n  const { get: fetchStores, loading } = useFetch(endpoints.homeStores);\r\n  const { get: getConfig } = useFetch(endpoints.homeConfig);\r\n\r\n  const getStores = useCallback(() => {\r\n    fetchStores({\r\n      query: filters,\r\n    })\r\n      .then(({ data }) => {\r\n        if (data.success) {\r\n          setStores(data.data);\r\n        } else {\r\n          Prompt({ type: \"error\", message: data.message });\r\n        }\r\n      })\r\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\r\n  }, [filters]);\r\n\r\n  useEffect(() => {\r\n    getStores();\r\n  }, [filters]);\r\n\r\n  useEffect(() => {\r\n    getConfig()\r\n      .then(({ data }) => {\r\n        if (data.success) {\r\n          setConfig(data.data);\r\n        } else {\r\n          Prompt({ type: \"error\", message: data.message });\r\n        }\r\n      })\r\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header home filters={filters} setFilters={setFilters} />\r\n      <div className={s.landingPage}>\r\n        <Sidebar filters={filters} config={config} setFilters={setFilters} />\r\n        <div className={s.allProducts}>\r\n          {stores.length === 0 && (\r\n            <p className=\"all-columns text-center p-2\">Nothing for now.</p>\r\n          )}\r\n          {stores.map((item) =>\r\n            item.featured ? (\r\n              <div\r\n                key={item._id}\r\n                className={`${s.store} ${item.featured ? s.featured : \"\"}`}\r\n              >\r\n                <h2>{item.business.name}</h2>\r\n                <div className={s.products}>\r\n                  {item.products.map((product) => (\r\n                    <ProductThumb\r\n                      order={item.order}\r\n                      business={item.business}\r\n                      key={product._id}\r\n                      product={product}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <ProductThumb\r\n                order={item.order}\r\n                business={item.business}\r\n                key={item._id}\r\n                product={item.products[0]}\r\n              />\r\n            )\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Sidebar = ({ filters, setFilters, config }) => {\r\n  const mobile = useRef(window.innerWidth <= 480 ? true : false);\r\n  const [showSidebar, setShowSidebar] = useState(mobile.current ? false : true);\r\n  const [schema, setSchema] = useState(null);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { get: getCategories } = useFetch(endpoints.homeCategories);\r\n\r\n  useEffect(() => {\r\n    getCategories()\r\n      .then(({ data }) => {\r\n        if (data.success) {\r\n          setCategories(data.data);\r\n        } else {\r\n          Prompt({ type: \"error\", message: data.message });\r\n        }\r\n      })\r\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\r\n  }, []);\r\n\r\n  if (!showSidebar) {\r\n    return (\r\n      <div className={`${s.sidebar} flex justify-end`}>\r\n        <button\r\n          className={`${s.filterBtn} btn clear`}\r\n          onClick={() => setShowSidebar(true)}\r\n        >\r\n          <BiFilterAlt />\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={s.sidebar}>\r\n      {schema &&\r\n      config?.sidebarFilters?.find(\r\n        (item) =>\r\n          item.category === filters.category &&\r\n          item.subcategory === filters.subcategory\r\n      )?.filters?.length > 0 ? (\r\n        <div\r\n          className={`flex align-center gap_5 ${\r\n            mobile.current ? \"justify-space-between\" : \"\"\r\n          } pointer wrap`}\r\n          onClick={() => {\r\n            setSchema(null);\r\n            setFilters((prev) => ({\r\n              category: prev.category,\r\n              subcategory: undefined,\r\n            }));\r\n          }}\r\n        >\r\n          <BsArrowLeft style={{ fontSize: \"1.3em\" }} />{\" \"}\r\n          <div className=\"flex align-center gap_5\">\r\n            <p className=\"flex align-center gap_5\">\r\n              {filters.category} <FiChevronRight /> {filters.subcategory}\r\n            </p>\r\n          </div>\r\n          <button\r\n            className={`${s.filterBtn} btn clear`}\r\n            onClick={() => setShowSidebar(false)}\r\n          >\r\n            <BiFilterAlt />\r\n          </button>\r\n          <Filters\r\n            filters={filters}\r\n            setFilters={setFilters}\r\n            schema={schema}\r\n            fields={\r\n              config?.sidebarFilters?.find(\r\n                (item) =>\r\n                  item.category === filters.category &&\r\n                  item.subcategory === filters.subcategory\r\n              )?.filters || []\r\n            }\r\n          />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"flex align-center justify-space-between gap_5 pb-1\">\r\n            <p>\r\n              <strong>Categories</strong>\r\n            </p>\r\n            {mobile.current && (\r\n              <button\r\n                className={`${s.filterBtn} btn clear`}\r\n                onClick={() => setShowSidebar(false)}\r\n              >\r\n                <BiFilterAlt />\r\n              </button>\r\n            )}\r\n          </div>\r\n          <ul className={s.categories}>\r\n            {categories.map((cat) => (\r\n              <li key={cat.name}>\r\n                <Checkbox\r\n                  label={cat.name}\r\n                  checked={filters.category === cat.name}\r\n                  onChange={(e) => {\r\n                    if (filters.category === cat.name) {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        category: undefined,\r\n                      }));\r\n                    } else {\r\n                      setFilters((prev) => ({\r\n                        ...prev,\r\n                        category: cat.name,\r\n                      }));\r\n                    }\r\n                  }}\r\n                />\r\n                {cat.subCategories?.length > 0 && (\r\n                  <ul className={s.subCategories}>\r\n                    {cat.subCategories.map((subCat) => (\r\n                      <li key={subCat.name}>\r\n                        <Checkbox\r\n                          label={subCat.name}\r\n                          checked={filters.subcategory === subCat.name}\r\n                          onChange={(e) => {\r\n                            if (filters.subcategory === subCat.name) {\r\n                              setFilters((prev) => ({\r\n                                ...prev,\r\n                                subcategory: undefined,\r\n                              }));\r\n                            } else {\r\n                              setFilters((prev) => ({\r\n                                ...prev,\r\n                                category: cat.name,\r\n                                subcategory: subCat.name,\r\n                              }));\r\n                            }\r\n                            setSchema(e.target.checked ? subCat.fields : null);\r\n                          }}\r\n                        />\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["FilterList","field","setFilters","sidebarItem","control","useState","selected","setSelected","options","setOptions","getOptions","useFetch","endpoints","collection","get","useEffect","filterStyle","prev","name","length","optionType","then","data","success","map","item","label","optionLabel","value","optionValue","catch","err","console","log","Section","className","s","option","i","id","type","checked","includes","onChange","e","filter","htmlFor","url","getQuery","inputValue","handleData","multiple","formOptions","required","children","onClick","stopPropagation","schema","fields","filters","queryLoaded","useRef","fieldsRef","useSearchParams","query","pathname","useLocation","navigate","useNavigate","useForm","defaultValues","sort","handleSubmit","reset","getValues","watch","setValue","current","values","forEach","fieldName","filterType","min","max","onSubmit","Object","keys","undefined","shallow","replace","f","find","inputType","target","placeholder","hidden","disabled","Sidebar","config","mobile","window","innerWidth","showSidebar","setShowSidebar","setSchema","categories","setCategories","getCategories","Prompt","message","sidebarFilters","category","subcategory","style","fontSize","Filter","cat","subCategories","subCat","setConfig","stores","setStores","fetchStores","getConfig","loading","getStores","useCallback","home","featured","business","products","product","order","_id"],"sourceRoot":""}