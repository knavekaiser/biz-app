{"version":3,"file":"static/js/751.7af35d8d.chunk.js","mappings":"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","sources":["webpack://cash-app/./src/Views/Dashboard/Settings/settings.module.scss?d8be","Views/Dashboard/Settings/terms.js","Views/Dashboard/Settings/siteConfig.js","Views/Dashboard/Settings/documents.js","Views/Dashboard/Settings/dynamicPages.js","Views/Dashboard/Settings/reports.js","Views/Dashboard/Settings/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"settings_container__9S1kR\",\"terms\":\"settings_terms__A4Efi\",\"faqDocs\":\"settings_faqDocs__7hiic\",\"unitForm\":\"settings_unitForm__pl1iS\",\"itemColumnsRadio\":\"settings_itemColumnsRadio__XiSkn\",\"codeInput\":\"settings_codeInput__SbB95\",\"termForm\":\"settings_termForm__ujPBh\",\"docUrls\":\"settings_docUrls__ml5kl\",\"urlInput\":\"settings_urlInput__C4mJX\",\"termFormModal\":\"settings_termFormModal__SGosh\",\"recFilterModal\":\"settings_recFilterModal__VM6bb\",\"form\":\"settings_form__7HkyN\",\"landingPageShelveFormModal\":\"settings_landingPageShelveFormModal__wAzgH\"};","import { useContext, useEffect, useState, useRef } from \"react\";\nimport { SiteContext } from \"SiteContext\";\nimport { useForm } from \"react-hook-form\";\nimport { useYup, useFetch } from \"hooks\";\nimport { Prompt, Modal } from \"Components/modal\";\nimport { endpoints } from \"config\";\nimport { Textarea, Table, TableActions } from \"Components/elements\";\nimport { FaPencilAlt, FaRegTrashAlt } from \"react-icons/fa\";\nimport * as yup from \"yup\";\nimport s from \"./settings.module.scss\";\nimport { useNavigate } from \"react-router-dom\";\nimport { paths } from \"config\";\n\nconst TermsAndConditions = ({ next }) => {\n  const { user, setUser, business, setBusiness } = useContext(SiteContext);\n  const [goNext, setGoNext] = useState(false);\n  const navigate = useNavigate();\n  const {\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n  const [terms, setTerms] = useState([]);\n\n  const { put: updateTerms, loading } = useFetch(\n    business\n      ? endpoints.businesses + `/${business.business._id}`\n      : endpoints.companyProfile\n  );\n\n  useEffect(() => {\n    const client = business?.business || user;\n    setTerms(client.terms || []);\n  }, [user, business]);\n\n  return (\n    <form\n      className=\"grid gap-1\"\n      onSubmit={handleSubmit((values) => {\n        updateTerms({ terms })\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            if (business) {\n              setBusiness((prev) => ({\n                ...prev,\n                business: {\n                  ...prev.business,\n                  terms,\n                },\n              }));\n            } else {\n              setUser((prev) => ({\n                ...prev,\n                terms,\n              }));\n            }\n            Prompt({\n              type: \"information\",\n              message: \"Updates have been saved.\",\n              ...(goNext && {\n                callback: () =>\n                  navigate(\n                    paths.dashboard.replace(\"*\", \"\") +\n                      paths.settings.baseUrl.replace(\"*\", \"\") +\n                      paths.settings.faqDocuments,\n                    { state: { next: true } }\n                  ),\n              }),\n            });\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <Terms terms={terms} setTerms={setTerms} />\n\n      <div className=\"flex gap-1 justify-center\">\n        <button className=\"btn\" disabled={loading}>\n          Save Changes\n        </button>\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() => setGoNext(true)}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst Terms = ({ terms, setTerms }) => {\n  const [edit, setEdit] = useState(null);\n  const [addTerm, setAddTerm] = useState(false);\n  return (\n    <>\n      <div className=\"flex justify-space-between align-center\">\n        <h3>Terms & Conditions</h3>\n        <button type=\"button\" className=\"btn\" onClick={() => setAddTerm(true)}>\n          Add New Term\n        </button>\n      </div>\n      <Table\n        className={s.terms}\n        columns={[{ label: \"Terms\" }, { label: \"Action\" }]}\n      >\n        {terms.map((item, i) => (\n          <tr key={i}>\n            <td>{item}</td>\n            <TableActions\n              actions={[\n                {\n                  icon: <FaPencilAlt />,\n                  label: \"Edit\",\n                  onClick: () => {\n                    setEdit(item);\n                    setAddTerm(true);\n                  },\n                },\n                {\n                  icon: <FaRegTrashAlt />,\n                  label: \"Delete\",\n                  onClick: () =>\n                    Prompt({\n                      type: \"confirmation\",\n                      message: `Are you sure you want to remove this Term?`,\n                      callback: () => {\n                        setTerms((prev) =>\n                          prev.filter(\n                            (product) =>\n                              product.toLowerCase() !== item.toLowerCase()\n                          )\n                        );\n                      },\n                    }),\n                },\n              ]}\n            />\n          </tr>\n        ))}\n      </Table>\n      <Modal\n        head\n        label={edit ? \"Update Term\" : \"Add Term\"}\n        open={addTerm}\n        setOpen={setAddTerm}\n        className={s.termFormModal}\n      >\n        <TermForm\n          edit={edit}\n          onSuccess={(newTerm) => {\n            if (edit) {\n              setTerms((prev) =>\n                prev.map((t) =>\n                  t.toLowerCase() === edit.toLowerCase() ? newTerm : t\n                )\n              );\n              setEdit(null);\n            } else {\n              setTerms((prev) => [...prev, newTerm]);\n            }\n            setAddTerm(false);\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst termSchema = yup.object({\n  term: yup.string().required(),\n});\n\nconst TermForm = ({ edit, onSuccess }) => {\n  const {\n    handleSubmit,\n    register,\n    reset,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(termSchema),\n  });\n  const formRef = useRef();\n\n  useEffect(() => {\n    reset({ term: edit || \"\" });\n  }, [edit]);\n  return (\n    <form\n      ref={formRef}\n      className={s.termForm}\n      onSubmit={handleSubmit((values) => {\n        onSuccess(values.term);\n      })}\n    >\n      <Textarea label=\"Term\" {...register(\"term\")} error={errors.term} />\n      <div className=\"btns\">\n        <button\n          className=\"btn\"\n          type=\"button\"\n          onClick={handleSubmit((values) => {\n            onSuccess(values.term);\n          })}\n        >\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default TermsAndConditions;\n","import { useEffect, useContext, useState, useCallback } from \"react\";\nimport { SiteContext } from \"SiteContext\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { paths, endpoints } from \"config\";\nimport { useYup, useFetch } from \"hooks\";\nimport { Prompt, Modal } from \"Components/modal\";\nimport { FaPencilAlt, FaRegTrashAlt } from \"react-icons/fa\";\nimport { findProperties } from \"helpers\";\nimport {\n  Input,\n  Combobox,\n  Select,\n  CustomRadio,\n  Checkbox,\n  Table,\n  TableActions,\n  FileInputNew,\n  Textarea,\n} from \"Components/elements\";\nimport s from \"./settings.module.scss\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst SiteConfig = ({ next }) => {\n  const [productCollection, setProductCollection] = useState(null);\n  const [productEelementOptions, setProductElementOptions] = useState([]);\n  const [productPageEelementOptions, setProductPageElementOptions] = useState(\n    []\n  );\n  const [updateSidebarFilters, setUpdateSidebarFilters] = useState(false);\n  const [updateShelves, setUpdateShelves] = useState(false);\n  const [updateFooterElements, setUpdateFooterElements] = useState(false);\n  const [updateRecommendationFilters, setUpdateRecommendationFilters] =\n    useState(false);\n  const [updateComparisonFilters, setUpdateComparisonFilters] = useState(false);\n  const { business, config, user, setConfig } = useContext(SiteContext);\n  const {\n    handleSubmit,\n    register,\n    reset,\n    watch,\n    setValue,\n    control,\n    formState: { errors },\n  } = useForm();\n\n  const [goNext, setGoNext] = useState(false);\n  const navigate = useNavigate();\n\n  const { put: updateConfig, loading } = useFetch(endpoints.userConfig);\n  const [editSection, setEditSection] = useState(null);\n  const { get: getProductCollection, loading: gettingProductCollection } =\n    useFetch(endpoints.collections + \"/Product\");\n\n  useEffect(() => {\n    reset({\n      siteTitle:\n        config?.siteConfig?.siteTitle ||\n        business?.business?.name ||\n        user?.name ||\n        \"\",\n      siteDescription: config?.siteConfig?.siteDescription || \"\",\n      businessType: config?.businessType || \"\",\n      headerColor: config?.siteConfig?.theme?.headerColor,\n      footerColor: config?.siteConfig?.theme?.footerColor,\n      elements: config?.siteConfig?.productCard?.length\n        ? config?.siteConfig?.productCard\n        : [],\n      productViewElements:\n        config?.siteConfig?.productViewPage?.productElements || [],\n      currency: config?.siteConfig?.currency || \"\",\n      sidebarFilters: config?.siteConfig?.browsePage?.sidebarFilters || [],\n      recommendationFilters:\n        config?.siteConfig?.productViewPage?.recommendationFilters || [],\n      comparisonFilters:\n        config?.siteConfig?.productViewPage?.comparisonFilters || [],\n      recommendationLimit:\n        config?.siteConfig?.productViewPage?.recommendationLimit,\n      comparisonLimit: config?.siteConfig?.productViewPage?.comparisonLimit,\n      viewWhatsApp: config?.siteConfig?.productViewPage?.viewWhatsApp || false,\n      viewAddToCart:\n        config?.siteConfig?.productViewPage?.viewAddToCart || false,\n      viewLandingPage:\n        config?.siteConfig?.landingPage?.viewLandingPage || false,\n      heroImages: config?.siteConfig?.landingPage?.hero?.slides || [],\n      viewHeroSection:\n        config?.siteConfig?.landingPage?.hero?.viewHeroSection || false,\n      landingPageShelves: config?.siteConfig?.landingPage?.shelves || [],\n      footerElements: config?.siteConfig?.footer?.sections,\n    });\n  }, [config]);\n\n  const sidebarFilters = watch(\"sidebarFilters\");\n  const recommendationFilters = watch(\"recommendationFilters\");\n  const comparisonFilters = watch(\"comparisonFilters\");\n  const viewLandingPage = watch(\"viewLandingPage\");\n  const viewHeroSection = watch(\"viewHeroSection\");\n  const whatsapp = watch(\"viewWhatsApp\");\n  const landingPageShelves = watch(\"landingPageShelves\");\n  const footerElements = watch(\"footerElements\");\n  const category = watch(\"category\");\n  const subcategory = watch(\"subcategory\");\n\n  useEffect(() => {\n    if (\n      config?.siteConfig?.productCard &&\n      productEelementOptions.length === 0\n    ) {\n      getProductCollection({ query: { relatedCollections: true } })\n        .then(({ data }) => {\n          if (data.success) {\n            const fields = data.data.fields\n              .filter((item) => ![\"images\", \"title\"].includes(item.name))\n              .map((item) => {\n                return {\n                  label: item.label,\n                  value: item.name,\n                };\n              });\n            fields.push({ value: \"review\", label: \"Review\" });\n            if (config.businessType === \"service\") {\n              fields.push({ value: \"dateRange\", label: \"Date Range\" });\n            }\n            setProductCollection(data.data);\n            setProductElementOptions(\n              fields\n                .filter((item) => ![\"dateRange\"].includes(item.value))\n                .sort((a, b, i) => {\n                  if (!config.siteConfig.productCard?.includes(a.value)) {\n                    return 1;\n                  }\n                  return config.siteConfig.productCard.findIndex(\n                    (i) => i === a.value\n                  ) >\n                    config.siteConfig.productCard.findIndex(\n                      (i) => i === b.value\n                    )\n                    ? 1\n                    : -1;\n                })\n                .reverse()\n            );\n            fields.push({ value: \"compare\", label: \"Compare\" });\n            setProductPageElementOptions(\n              fields\n                .filter(\n                  (item) =>\n                    ![\"description\", \"whatsappNumber\"].includes(item.value)\n                )\n                .sort((a, b) => {\n                  if (\n                    !config.siteConfig.productViewPage?.productElements?.includes(\n                      a.value\n                    )\n                  ) {\n                    return 1;\n                  }\n                  return config.siteConfig.productViewPage?.productElements.findIndex(\n                    (i) => i === a.value\n                  ) >\n                    config.siteConfig.productViewPage?.productElements.findIndex(\n                      (i) => i === b.value\n                    )\n                    ? 1\n                    : -1;\n                })\n                .reverse()\n            );\n          }\n        })\n        .catch((err) => Prompt({ type: \"error\", message: err.message }));\n    }\n  }, [config?.siteConfig?.productCard, productEelementOptions]);\n\n  return (\n    <form\n      className=\"grid gap-1\"\n      onSubmit={handleSubmit((values) => {\n        const payload = {\n          ...config,\n          businessType: values.businessType,\n          siteConfig: {\n            ...config?.siteConfig,\n            theme: {\n              headerColor: values.headerColor,\n              footerColor: values.footerColor,\n            },\n            siteTitle: values.siteTitle,\n            siteDescription: values.siteDescription,\n            productCard: values.elements.filter((item) =>\n              productEelementOptions.find((opt) => opt.value === item)\n            ),\n            currency: values.currency,\n            browsePage: {\n              ...config.siteConfig.browsePage,\n              sidebarFilters: values.sidebarFilters,\n            },\n            productViewPage: {\n              viewWhatsApp: whatsapp,\n              viewAddToCart: values.viewAddToCart || false,\n              productElements: values.productViewElements.filter((item) =>\n                productPageEelementOptions.find((opt) => opt.value === item)\n              ),\n              recommendationFilters: values.recommendationFilters,\n              recommendationLimit: values.recommendationLimit,\n              comparisonFilters: values.comparisonFilters,\n              comparisonLimit: values.comparisonLimit,\n            },\n            landingPage: {\n              viewLandingPage: viewLandingPage,\n              hero: {\n                viewHeroSection: values.viewHeroSection,\n              },\n              shelves: values.landingPageShelves,\n            },\n            footer: {\n              sections: values.footerElements.map((section) => ({\n                ...section,\n                items: section.items.map((item) => ({\n                  ...item,\n                  condition: item.type === \"dynamicPage\",\n                })),\n              })),\n            },\n          },\n        };\n        findProperties(\"_id\", payload).forEach((item) => {\n          item.path.reduce((obj, key, i, arr) => {\n            if (i === arr.length - 1 && obj[key].length <= 20) {\n              delete obj[key];\n            }\n            return obj[key];\n          }, payload);\n        });\n        const formData = new FormData();\n        Object.entries(payload).forEach(([key, value]) => {\n          formData.append(key, JSON.stringify(value));\n        });\n        values.heroImages.forEach((file) => {\n          if (file.type) {\n            formData.append(\"siteConfig.landingPage.hero.slides\", file);\n          } else {\n            formData.append(\n              \"siteConfig.landingPage.hero.slides\",\n              file.url || file\n            );\n          }\n        });\n\n        updateConfig(formData)\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            setConfig(data.data);\n            Prompt({\n              type: \"information\",\n              message: \"Updates have been saved.\",\n              ...(goNext && {\n                callback: () =>\n                  navigate(\n                    paths.dashboard.replace(\"*\", \"\") +\n                      paths.dynamicTables.replace(\"*\", \"\")\n                  ),\n              }),\n            });\n          })\n          .catch((err) => Prompt({ type: \"error\", data: err.message }));\n      })}\n    >\n      <Input\n        label=\"Site Title\"\n        {...register(\"siteTitle\")}\n        required\n        error={errors?.siteTitle}\n      />\n\n      <Textarea\n        label=\"Site Description\"\n        {...register(\"siteDescription\")}\n        required\n        error={errors?.siteDescription}\n      />\n\n      <Combobox\n        label=\"Business Type\"\n        name=\"businessType\"\n        control={control}\n        options={[\n          { label: \"Product\", value: \"product\" },\n          { label: \"Service\", value: \"service\" },\n        ]}\n      />\n\n      <Combobox\n        label=\"Currency\"\n        name=\"currency\"\n        control={control}\n        options={[\n          { label: \"USD\", value: \"USD\" },\n          { label: \"INR\", value: \"INR\" },\n        ]}\n      />\n\n      <CustomRadio\n        control={control}\n        name=\"elements\"\n        multiple\n        label=\"Product Card Elements (Move items to reorder)\"\n        sortable\n        options={\n          config?.siteConfig?.productCard?.length\n            ? productEelementOptions\n                .sort((a, b, i) => {\n                  if (!config.siteConfig.productCard?.includes(a.value)) {\n                    return 1;\n                  }\n                  return config.siteConfig.productCard.findIndex(\n                    (i) => i === a.value\n                  ) >\n                    config.siteConfig.productCard.findIndex(\n                      (i) => i === b.value\n                    )\n                    ? 1\n                    : -1;\n                })\n                .reverse()\n                .map((item, i, arr) => ({\n                  ...item,\n                  order: arr.length - i,\n                }))\n            : productEelementOptions\n        }\n      />\n\n      <hr />\n\n      <h2>Theme</h2>\n\n      <div className=\"flex gap-1\">\n        <Input\n          label=\"Header Color\"\n          type=\"Color\"\n          className=\"flex-1\"\n          {...register(\"headerColor\")}\n          error={errors.headerColor}\n        />\n\n        <Input\n          label=\"Footer Color\"\n          type=\"Color\"\n          className=\"flex-1\"\n          {...register(\"footerColor\")}\n          error={errors.footerColor}\n        />\n      </div>\n\n      <hr />\n\n      <h2>Landing Page</h2>\n\n      <Combobox\n        label=\"View Landing Page\"\n        name=\"viewLandingPage\"\n        control={control}\n        options={[\n          { label: \"Yes\", value: true },\n          { label: \"No\", value: false },\n        ]}\n      />\n\n      {viewLandingPage && (\n        <>\n          <h4>Hero Section</h4>\n\n          <Combobox\n            label=\"View Hero Section\"\n            name=\"viewHeroSection\"\n            control={control}\n            options={[\n              { label: \"Yes\", value: true },\n              { label: \"No\", value: false },\n            ]}\n          />\n\n          {viewHeroSection && (\n            <FileInputNew\n              thumbnail\n              multiple\n              control={control}\n              name=\"heroImages\"\n              label=\"Hero Images\"\n            />\n          )}\n\n          <LandingPageShelves\n            fields={productCollection?.fields?.filter(\n              (item) => ![\"file\"].includes(item.inputType)\n            )}\n            shelves={landingPageShelves}\n            onChange={(shelves) => {\n              setValue(\"landingPageShelves\", shelves);\n              setUpdateShelves(false);\n            }}\n          />\n        </>\n      )}\n\n      <hr />\n\n      <h2>Product View Page</h2>\n\n      <Combobox\n        label=\"Show WhatsApp Chat Button\"\n        name=\"viewWhatsApp\"\n        control={control}\n        options={[\n          { label: \"Yes\", value: true },\n          { label: \"No\", value: false },\n        ]}\n      />\n      {whatsapp && (\n        <p className=\"subtitle1\">\n          Make sure to put a WhatsApp number in Business Information.\n        </p>\n      )}\n\n      <CustomRadio\n        control={control}\n        name=\"productViewElements\"\n        multiple\n        label=\"Product Page Elements (Move items to reorder)\"\n        sortable\n        options={\n          config?.siteConfig?.productViewPage?.productElements?.length\n            ? productPageEelementOptions\n                .sort((a, b, i) => {\n                  if (\n                    !config.siteConfig.productViewPage?.productElements?.includes(\n                      a.value\n                    )\n                  ) {\n                    return 1;\n                  }\n                  return config.siteConfig.productViewPage?.productElements.findIndex(\n                    (i) => i === a.value\n                  ) >\n                    config.siteConfig.productViewPage?.productElements.findIndex(\n                      (i) => i === b.value\n                    )\n                    ? 1\n                    : -1;\n                })\n                .reverse()\n                .map((item, i, arr) => ({ ...item, order: arr.length - i }))\n            : productPageEelementOptions\n        }\n      />\n\n      <Combobox\n        label=\"View Add to Cart\"\n        name=\"viewAddToCart\"\n        control={control}\n        options={[\n          { label: \"Yes\", value: true },\n          { label: \"No\", value: false },\n        ]}\n      />\n\n      <hr />\n\n      <div style={{ margin: \"1rem 0\" }}>\n        <div className=\"flex gap-1 justify-space-between align-center mb-1\">\n          <h5>Sidebar filters</h5>\n\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setUpdateSidebarFilters(true)}\n            disabled={!(category && subcategory)}\n          >\n            Update Sidebar Filters\n          </button>\n        </div>\n\n        <div className=\"flex gap-1  mb-1\">\n          <Select\n            label=\"Category\"\n            control={control}\n            name=\"category\"\n            url={`${endpoints.dynamic}/Category`}\n            getQuery={(inputValue, selected) => ({\n              ...(inputValue && { name: inputValue }),\n              ...(selected && { name: selected }),\n            })}\n            handleData={(item) => ({\n              label: item.name,\n              value: item.name,\n            })}\n            onChange={() => setValue(\"subcategory\", \"\")}\n          />\n          <Select\n            disabled={!category}\n            label=\"Subcategory\"\n            control={control}\n            name=\"subcategory\"\n            url={`${endpoints.dynamic}/Subcategory`}\n            getQuery={(inputValue, selected) => ({\n              category,\n              ...(inputValue && { name: inputValue }),\n              ...(selected && { name: selected }),\n            })}\n            handleData={(item) => ({\n              label: item.name,\n              value: item.name,\n            })}\n          />\n        </div>\n\n        {category && subcategory ? (\n          <Table\n            columns={[\n              { label: \"Field\" },\n              { label: \"Filter Type\" },\n              { label: \"Filter Style\" },\n            ]}\n          >\n            {(sidebarFilters || [])\n              .find(\n                (item) =>\n                  item.category === category && item.subcategory === subcategory\n              )\n              ?.filters?.map((item, i) => (\n                <tr key={i}>\n                  <td>{item.fieldName}</td>\n                  <td>{item.filterType}</td>\n                  <td>{item.filterStyle}</td>\n                </tr>\n              ))}\n          </Table>\n        ) : (\n          <p>\n            Please select category and subcategory to update sidebar filters.\n          </p>\n        )}\n      </div>\n\n      <hr />\n\n      <div>\n        <div className=\"flex justify-space-between align-center mb-1\">\n          <h5>Recommendation Filters</h5>\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setUpdateRecommendationFilters(true)}\n          >\n            Update recommendation Filters\n          </button>\n        </div>\n        <Table columns={[{ label: \"Field\" }, { label: \"Oparator\" }]}>\n          {recommendationFilters?.map((item, i) => (\n            <tr key={i}>\n              <td>{item.fieldName}</td>\n              <td>{item.oparator}</td>\n            </tr>\n          ))}\n        </Table>\n      </div>\n\n      <Combobox\n        label=\"Recommendation limit\"\n        name=\"recommendationLimit\"\n        control={control}\n        options={[\n          { label: \"5\", value: 5 },\n          { label: \"10\", value: 10 },\n          { label: \"20\", value: 20 },\n          { label: \"30\", value: 30 },\n        ]}\n      />\n\n      <hr />\n\n      <div>\n        <div className=\"flex justify-space-between align-center mb-1\">\n          <h5>Comparison Filters</h5>\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setUpdateComparisonFilters(true)}\n          >\n            Update Comparison Filters\n          </button>\n        </div>\n        <Table columns={[{ label: \"Field\" }, { label: \"Oparator\" }]}>\n          {comparisonFilters?.map((item, i) => (\n            <tr key={i}>\n              <td>{item.fieldName}</td>\n              <td>{item.oparator}</td>\n            </tr>\n          ))}\n        </Table>\n      </div>\n\n      <Combobox\n        label=\"Comparison limit\"\n        name=\"comparisonLimit\"\n        control={control}\n        options={[\n          { label: \"2\", value: 2 },\n          { label: \"5\", value: 5 },\n          { label: \"10\", value: 10 },\n        ]}\n      />\n\n      <hr />\n\n      <div>\n        <div className=\"flex justify-space-between align-center mb-1\">\n          <h5>Footer Elements</h5>\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setUpdateFooterElements(true)}\n          >\n            Add Footer Section\n          </button>\n        </div>\n        <Table\n          columns={[\n            { label: \"Section Title\" },\n            { label: \"Elements\" },\n            { label: \"Actions\" },\n          ]}\n        >\n          {footerElements?.map((section, i) => (\n            <tr key={section.title}>\n              <td>{section.title}</td>\n              <td>{section.items?.length}</td>\n              <TableActions\n                actions={[\n                  {\n                    icon: <FaPencilAlt />,\n                    label: \"Edit\",\n                    onClick: () => {\n                      setEditSection(section);\n                      setUpdateFooterElements(true);\n                    },\n                  },\n                  {\n                    icon: <FaRegTrashAlt />,\n                    label: \"Delete\",\n                    onClick: () =>\n                      Prompt({\n                        type: \"confirmation\",\n                        message: `Are you sure you want to remove this section?`,\n                        callback: () => {\n                          setValue(\n                            \"footerElements\",\n                            footerElements.filter((i) => i._id !== section._id)\n                          );\n                        },\n                      }),\n                  },\n                ]}\n              />\n            </tr>\n          ))}\n        </Table>\n      </div>\n\n      <Modal\n        open={updateFooterElements}\n        head\n        label={`${editSection ? \"Update\" : \"Add\"} Section`}\n        className={s.recFilterModal}\n        setOpen={() => {\n          setUpdateFooterElements(false);\n          setEditSection(null);\n        }}\n      >\n        <FooterElements\n          edit={editSection}\n          onSuccess={(value) => {\n            setValue(\n              \"footerElements\",\n              editSection\n                ? footerElements.map((item) =>\n                    item._id === value._id ? value : item\n                  )\n                : [...footerElements, value]\n            );\n            setUpdateFooterElements(false);\n            setEditSection(null);\n          }}\n        />\n      </Modal>\n\n      <Modal\n        open={updateRecommendationFilters}\n        head\n        label=\"Update Recommendation Filters\"\n        className={s.recFilterModal}\n        setOpen={() => setUpdateRecommendationFilters(false)}\n      >\n        <RecommendationFilters\n          fields={productCollection?.fields?.filter(\n            (item) =>\n              !(\n                [\"file\"].includes(item.inputType) ||\n                ([\"input\", \"textarea\"].includes(item.fieldType) &&\n                  item.dataType === \"string\")\n              )\n          )}\n          value={recommendationFilters}\n          onSuccess={(values) => {\n            setValue(\"recommendationFilters\", values);\n            setUpdateRecommendationFilters(false);\n          }}\n        />\n      </Modal>\n\n      <Modal\n        open={updateComparisonFilters}\n        head\n        label=\"Update Comparison Filters\"\n        className={s.recFilterModal}\n        setOpen={() => setUpdateComparisonFilters(false)}\n      >\n        <ComparisonFilters\n          fields={productCollection?.fields?.filter(\n            (item) =>\n              !(\n                [\"file\"].includes(item.inputType) ||\n                ([\"input\", \"textarea\"].includes(item.fieldType) &&\n                  item.dataType === \"string\")\n              )\n          )}\n          value={comparisonFilters}\n          onSuccess={(values) => {\n            setValue(\"comparisonFilters\", values);\n            setUpdateComparisonFilters(false);\n          }}\n        />\n      </Modal>\n\n      <Modal\n        open={updateSidebarFilters}\n        head\n        label=\"Update Sidebar Filters\"\n        setOpen={() => setUpdateSidebarFilters(false)}\n      >\n        <SidebarFilters\n          fields={productCollection?.fields\n            ?.filter(\n              (item) =>\n                !(\n                  [\"richText\"].includes(item.fieldType) ||\n                  [\"file\"].includes(item.inputType) ||\n                  [\"category\", \"subcategory\", \"variants\"].includes(item.name)\n                )\n            )\n            .filter(\n              (item) => !item.subcategory || item.subcategory === subcategory\n            )}\n          value={\n            (sidebarFilters || []).find(\n              (item) =>\n                item.category === category && item.subcategory === subcategory\n            )?.filters\n          }\n          onSuccess={(values) => {\n            setValue(\"sidebarFilters\", [\n              ...(sidebarFilters || []).filter(\n                (item) =>\n                  !(\n                    item.category === category &&\n                    item.subcategory === subcategory\n                  )\n              ),\n              { filters: values, category, subcategory: subcategory },\n            ]);\n            setUpdateSidebarFilters(false);\n          }}\n        />\n      </Modal>\n\n      <div className=\"flex gap-1 justify-center\">\n        <button className=\"btn\" disabled={loading}>\n          Save Changes\n        </button>\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() => setGoNext(true)}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst LandingPageShelves = ({\n  fields = [],\n  shelves = [],\n  // shelves: defaultShelves = [],\n  value = [],\n  onChange,\n}) => {\n  // const [shelves, setShelves] = useState([]);\n  const [edit, setEdit] = useState(null);\n  const [addShelf, setAddShelf] = useState(false);\n  // useEffect(() => {\n  // onChange(shelves);\n  // }, [shelves]);\n\n  // useEffect(() => {\n  //   console.log(JSON.stringify(defaultShelves), JSON.stringify(shelves));\n  //   if (JSON.stringify(defaultShelves) !== JSON.stringify(shelves)) {\n  //     // setShelves(defaultShelves);\n  //   }\n  // }, [defaultShelves]);\n\n  return (\n    <div className=\"grid gap-1\">\n      <div className=\"flex justify-space-between align-center\">\n        <h5>Shelves</h5>\n        <button className=\"btn\" type=\"button\" onClick={() => setAddShelf(true)}>\n          Add Shelf\n        </button>\n      </div>\n      <Table\n        columns={[\n          { label: \"Tilte\" },\n          { label: \"Product Count\" },\n          { label: \"Filters\" },\n          { label: \"Actions\" },\n        ]}\n      >\n        {shelves?.map((item, i) => (\n          <tr key={i}>\n            <td>{item.title}</td>\n            <td>{item.productCount}</td>\n            <td>{item.productFilters.length}</td>\n            <TableActions\n              actions={[\n                {\n                  icon: <FaPencilAlt />,\n                  label: \"Edit\",\n                  onClick: () => {\n                    setEdit(item);\n                    setAddShelf(true);\n                  },\n                },\n                {\n                  icon: <FaRegTrashAlt />,\n                  label: \"Delete\",\n                  onClick: () =>\n                    Prompt({\n                      type: \"confirmation\",\n                      message: `Are you sure you want to remove this Shelf?`,\n                      callback: () => {\n                        onChange(\n                          shelves.filter((shelf) => item._id !== shelf._id)\n                        );\n                      },\n                    }),\n                },\n              ]}\n            />\n          </tr>\n        ))}\n      </Table>\n      <Modal\n        open={addShelf}\n        setOpen={() => {\n          setAddShelf(false);\n          setEdit(null);\n        }}\n        head\n        label={edit ? \"Edit\" : \"Add\" + \" Shelf\"}\n        className={s.landingPageShelveFormModal}\n      >\n        <ShelfForm\n          edit={edit}\n          fields={fields}\n          onSubmit={(newShelf) => {\n            if (edit) {\n              onChange(\n                shelves.map((shelf) =>\n                  newShelf._id === shelf._id ? newShelf : shelf\n                )\n              );\n              setEdit(null);\n            } else {\n              onChange([...shelves, newShelf]);\n            }\n            setAddShelf(false);\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nconst landingPageShelveSchema = yup.object({\n  title: yup.string().required(),\n  productFilters: yup\n    .array()\n    .min(1, \"Please add at least one product filter\")\n    .required(\"Please add at least one product filter\"),\n  productCount: yup\n    .number()\n    .min(2, \"Please enter more than 1\")\n    .required()\n    .typeError(\"Please enter a valid number\"),\n});\nconst ShelfForm = ({ fields = [], edit, onSubmit }) => {\n  const {\n    handleSubmit,\n    control,\n    register,\n    watch,\n    setValue,\n    reset,\n    formState: { errors },\n    clearErrors,\n  } = useForm({\n    resolver: useYup(landingPageShelveSchema),\n  });\n  const [updateFilters, setUpdateFilters] = useState(false);\n\n  const submit = useCallback((values) => {\n    onSubmit({\n      ...values,\n      _id: edit?._id || Math.random().toString(36).substr(-8),\n    });\n  }, []);\n\n  const productFilters = watch(\"productFilters\");\n\n  useEffect(() => {\n    reset({ ...edit });\n  }, [edit]);\n  return (\n    <div\n      // onSubmit={(e) => e.stopPropagation()}\n      className={`p-1 grid gap-1`}\n    >\n      <form onSubmit={handleSubmit(submit)} className=\"grid gap-1\">\n        <Input label=\"Title\" {...register(\"title\")} error={errors.title} />\n\n        <Input\n          label=\"Number of Products\"\n          type=\"number\"\n          {...register(\"productCount\")}\n          error={errors.productCount}\n        />\n\n        <Checkbox label=\"Horizontal\" {...register(\"horizontalSlide\")} />\n\n        <div className=\"flex justify-space-between align-center\">\n          <h5>Product Filters</h5>\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setUpdateFilters(true)}\n          >\n            Add/Update Filters\n          </button>\n        </div>\n\n        {errors.productFilters && (\n          <p className=\"error\">{errors.productFilters.message}</p>\n        )}\n        <Table columns={[{ label: \"Field\" }, { label: \"Oparator/Value\" }]}>\n          {productFilters?.map((item, i) => (\n            <tr key={i}>\n              <td>{item.fieldName}</td>\n              <td>\n                {item.filterType} {item.value}\n              </td>\n            </tr>\n          ))}\n        </Table>\n      </form>\n\n      <Modal\n        open={updateFilters}\n        edit={updateFilters}\n        head\n        label=\"Update Filters\"\n        setOpen={setUpdateFilters}\n      >\n        <SidebarFilters\n          fields={fields}\n          value={productFilters}\n          onSuccess={(values) => {\n            setValue(\"productFilters\", values);\n            setUpdateFilters(null);\n            clearErrors(\"productFilters\");\n          }}\n          includeValue\n        />\n      </Modal>\n\n      <form onSubmit={handleSubmit(submit)}>\n        <div className=\"flex justify-center\">\n          <button className=\"btn\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst SidebarFilters = ({\n  fields = [],\n  value = [],\n  onSuccess,\n  includeValue,\n}) => {\n  const {\n    handleSubmit,\n    register,\n    control,\n    watch,\n    reset,\n    getValues,\n    formState: { errors },\n  } = useForm();\n  const selectedFields = watch(\"fields\");\n  // if (includeValue) {\n  for (var i = 0; i < fields.length; i++) {\n    const field = fields[i];\n    const value = watch(`${field.name}.filterType`);\n  }\n  // }\n  useEffect(() => {\n    const data = {\n      fields: value.map((item) => item.fieldName),\n    };\n    value.forEach((field) => {\n      const { fieldName, ...options } = field;\n      Object.entries(options).forEach(([key, value]) => {\n        data[fieldName] = { ...data[fieldName] };\n        if (value !== undefined) {\n          data[fieldName][key] = value;\n        }\n      });\n    });\n    reset(data);\n  }, []);\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const data = [];\n        values.fields.forEach((f) => {\n          const field = fields.find((field) => field.name === f);\n          if (!field) return;\n          data.push({\n            fieldName: f,\n            ...([\"input\", \"textarea\"].includes(field.fieldType) && {\n              filterType: values[f]?.filterType || \"textSearch\",\n              ...(includeValue && {\n                ...(values[f]?.filterType !== \"minMax\" && {\n                  value: values[f]?.value,\n                }),\n                ...(values[f]?.filterType === \"minMax\" && {\n                  min: values[f]?.min,\n                  max: values[f]?.max,\n                }),\n              }),\n            }),\n            ...([\"slider\", \"range\"].includes(values[f]?.filterType) && {\n              min: values[f]?.min,\n              max: values[f]?.max,\n            }),\n            ...([\"select\", \"combobox\"].includes(field.fieldType) && {\n              filterStyle: values[f]?.filterStyle,\n              ...(includeValue && { value: values[f]?.value }),\n            }),\n          });\n        });\n        onSuccess(data);\n      })}\n      className=\"p-1 grid gap-1\"\n    >\n      <CustomRadio\n        control={control}\n        name=\"fields\"\n        multiple\n        label=\"Filter Fields\"\n        sortable\n        options={(value.length\n          ? fields\n              .sort((a, b, i) => {\n                if (!value?.includes(a.value)) {\n                  return 1;\n                }\n                return value.findIndex((i) => i === a.value) >\n                  value.findIndex((i) => i === b.value)\n                  ? 1\n                  : -1;\n              })\n              .reverse()\n              .map((item, i, arr) => ({ ...item, order: arr.length - i }))\n          : fields\n        ).map((item) => ({\n          label: item.label,\n          value: item.name,\n          data: item,\n        }))}\n      />\n\n      {selectedFields?.map((f, i) => {\n        const field = fields.find((field) => field.name === f);\n        if (!field) return null;\n        if ([\"input\", \"textarea\"].includes(field.fieldType)) {\n          if (field.dataType === \"string\") {\n            return (\n              <div key={i}>\n                <p>\n                  <strong>{field.label}:</strong> Text Search\n                </p>\n                {includeValue && (\n                  <Input label=\"Value\" {...register(`${field.name}.value`)} />\n                )}\n              </div>\n            );\n          } else if (field.dataType === \"number\") {\n            return (\n              <div key={i}>\n                <p className=\"mb_5\">\n                  <strong>{field.label}:</strong>{\" \"}\n                </p>\n                <Combobox\n                  control={control}\n                  name={`${field.name}.filterType`}\n                  label=\"Filter Style\"\n                  options={[\n                    { label: \"Min-Max\", value: \"minMax\" },\n                    { label: \"Exact Match\", value: \"match\" },\n                    { label: \"Range\", value: \"range\" },\n                    // { label: \"Slider\", value: \"slider\" },\n                  ]}\n                  formOptions={{ required: \"Select an option\" }}\n                />\n                {!includeValue &&\n                  [\"slider\", \"range\"].includes(\n                    getValues(`${field.name}.filterType`)\n                  ) && (\n                    <>\n                      <Input\n                        type=\"number\"\n                        label=\"Min\"\n                        {...register(`${field.name}.min`, {\n                          required: \"Please enter a value\",\n                        })}\n                        error={errors[field.name]?.min}\n                      />\n                      <Input\n                        type=\"number\"\n                        label=\"Max\"\n                        {...register(`${field.name}.max`, {\n                          required: \"Please enter a value\",\n                        })}\n                        error={errors[field.name]?.max}\n                      />\n                    </>\n                  )}\n                {includeValue && (\n                  <>\n                    {getValues(`${field.name}.filterType`) === \"minMax\" && (\n                      <>\n                        <Input\n                          type=\"number\"\n                          label=\"Minimum\"\n                          {...register(`${field.name}.min`)}\n                        />\n                        <Input\n                          type=\"number\"\n                          label=\"Maximum\"\n                          {...register(`${field.name}.max`)}\n                        />\n                      </>\n                    )}\n                    {getValues(`${field.name}.filterType`) === \"match\" && (\n                      <Input\n                        type=\"number\"\n                        label=\"Value\"\n                        {...register(`${field.name}.value`)}\n                      />\n                    )}\n                  </>\n                )}\n              </div>\n            );\n          }\n        } else if ([\"select\", \"combobox\"].includes(field.fieldType)) {\n          return (\n            <div key={i}>\n              <p className=\"mb_5\">\n                <strong>{field.label}:</strong>\n              </p>\n\n              {includeValue ? (\n                <Select\n                  label=\"Value\"\n                  multiple\n                  control={control}\n                  name={`${field.name}.value`}\n                  {...(field.optionType === \"predefined\" && {\n                    options: field.options,\n                  })}\n                  {...(field.optionType === \"collection\" && {\n                    url: `${endpoints.dynamic}/${field.collection}`,\n                  })}\n                  getQuery={(inputValue, selected) => ({\n                    ...(inputValue && { [field.optionLabel]: inputValue }),\n                    ...(selected && { [field.optionValue]: selected }),\n                  })}\n                  handleData={(item) => ({\n                    label: item[field.optionLabel],\n                    value: item[field.optionValue],\n                  })}\n                />\n              ) : (\n                <Combobox\n                  control={control}\n                  name={`${field.name}.filterStyle`}\n                  label=\"Filter Style\"\n                  options={[\n                    { label: \"List\", value: \"list\" },\n                    { label: \"Dropdown\", value: \"dropdown\" },\n                  ]}\n                  formOptions={{ required: \"Select an option\" }}\n                />\n              )}\n            </div>\n          );\n        }\n      })}\n\n      <div className=\"flex justify-center\">\n        <button className=\"btn\">Update</button>\n      </div>\n    </form>\n  );\n};\n\nconst RecommendationFilters = ({ fields = [], value = [], onSuccess }) => {\n  const {\n    handleSubmit,\n    register,\n    control,\n    watch,\n    reset,\n    getValues,\n    formState: { errors },\n  } = useForm();\n  const selectedFields = watch(\"fields\");\n  const [forceRender, setForceRender] = useState(Math.random());\n  useEffect(() => {\n    const data = {\n      fields: value.map((item) => item.fieldName),\n    };\n    value.forEach((field) => {\n      const { fieldName, ...options } = field;\n      Object.entries(options).forEach(([key, value]) => {\n        if (typeof value === \"object\") {\n          Object.entries(value).forEach(([includeKey, includeValue]) => {\n            data[`${fieldName}.${includeKey}`] = includeValue;\n          });\n          return;\n        }\n        data[`${fieldName}`] = {};\n        data[`${fieldName}`][key] = value;\n      });\n    });\n    reset(data);\n  }, []);\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const data = [];\n        values.fields.forEach((f) => {\n          const field = fields.find((field) => field.name === f);\n          if (!field) return;\n          data.push({\n            fieldName: f,\n            ...([\"input\"].includes(field.fieldType) &&\n              field.dataType === \"number\" && {\n                oparator: values[f]?.oparator,\n              }),\n            ...([\"select\", \"combobox\"].includes(field.fieldType) && {\n              oparator: values[f]?.oparator,\n              includes: Object.entries(values[f])\n                .filter(([key, value]) => value?.length > 0)\n                .reduce((p, [k, v]) => {\n                  p[k] = v;\n                  return p;\n                }, {}),\n            }),\n          });\n        });\n        onSuccess(data);\n      })}\n      className={`p-1 grid gap-1`}\n    >\n      <CustomRadio\n        control={control}\n        name=\"fields\"\n        multiple\n        label=\"Filter Fields\"\n        sortable\n        options={(value.length\n          ? fields\n              .sort((a, b, i) => {\n                if (!value?.includes(a.value)) {\n                  return 1;\n                }\n                return value.findIndex((i) => i === a.value) >\n                  value.findIndex((i) => i === b.value)\n                  ? 1\n                  : -1;\n              })\n              .reverse()\n              .map((item, i, arr) => ({ ...item, order: arr.length - i }))\n          : fields\n        ).map((item) => ({\n          label: item.label,\n          value: item.name,\n          data: item,\n        }))}\n      />\n\n      {selectedFields?.map((f, i) => {\n        const field = fields.find((field) => field.name === f);\n        if (!field) return null;\n        if ([\"input\"].includes(field.fieldType)) {\n          if (field.dataType === \"number\") {\n            return (\n              <div key={i}>\n                <p className=\"mb_5\">\n                  <strong>{field.label}:</strong>{\" \"}\n                </p>\n                <Combobox\n                  control={control}\n                  name={`${field.name}.oparator`}\n                  label=\"Oparator\"\n                  options={[\n                    { label: \"Greater than\", value: \"greaterThan\" },\n                    { label: \"Less than\", value: \"lessThan\" },\n                  ]}\n                  formOptions={{ required: \"Select an option\" }}\n                />\n              </div>\n            );\n          }\n        } else if ([\"select\", \"combobox\"].includes(field.fieldType)) {\n          return (\n            <div key={i}>\n              <p className=\"mb_5\">\n                <strong>{field.label} Mapping:</strong>\n              </p>\n              <Combobox\n                className=\"mb_5\"\n                control={control}\n                name={`${field.name}.oparator`}\n                label=\"Oparator\"\n                options={[\n                  { label: `Match ${field.label}`, value: \"match\" },\n                  { label: \"Custom Mapping\", value: \"customMapping\" },\n                ]}\n                formOptions={{ required: \"Select an option\" }}\n                onChange={() => {\n                  setForceRender(Math.random());\n                }}\n              />\n              {getValues(`${field.name}.oparator`) === \"customMapping\" && (\n                <FieldMapper field={field} control={control} />\n              )}\n            </div>\n          );\n        }\n      })}\n\n      <div className=\"flex justify-center\">\n        <button className=\"btn\">Update</button>\n      </div>\n    </form>\n  );\n};\n\nconst ComparisonFilters = ({ fields = [], value = [], onSuccess }) => {\n  const {\n    handleSubmit,\n    register,\n    control,\n    watch,\n    reset,\n    getValues,\n    formState: { errors },\n  } = useForm();\n  const selectedFields = watch(\"fields\");\n  const [forceRender, setForceRender] = useState(Math.random());\n  useEffect(() => {\n    const data = {\n      fields: value.map((item) => item.fieldName),\n    };\n    value.forEach((field) => {\n      const { fieldName, ...options } = field;\n      Object.entries(options).forEach(([key, value]) => {\n        if (typeof value === \"object\") {\n          Object.entries(value).forEach(([includeKey, includeValue]) => {\n            data[`${fieldName}.${includeKey}`] = includeValue;\n          });\n          return;\n        }\n        data[`${fieldName}`] = {};\n        data[`${fieldName}`][key] = value;\n      });\n    });\n    reset(data);\n  }, []);\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const data = [];\n        values.fields.forEach((f) => {\n          const field = fields.find((field) => field.name === f);\n          if (!field) return;\n          data.push({\n            fieldName: f,\n            ...([\"input\"].includes(field.fieldType) &&\n              field.dataType === \"number\" && {\n                oparator: values[f]?.oparator,\n              }),\n            ...([\"select\", \"combobox\"].includes(field.fieldType) && {\n              oparator: values[f]?.oparator,\n              includes: Object.entries(values[f])\n                .filter(([key, value]) => value?.length > 0)\n                .reduce((p, [k, v]) => {\n                  p[k] = v;\n                  return p;\n                }, {}),\n            }),\n          });\n        });\n        onSuccess(data);\n      })}\n      className={`p-1 grid gap-1`}\n    >\n      <CustomRadio\n        control={control}\n        name=\"fields\"\n        multiple\n        label=\"Filter Fields\"\n        sortable\n        options={(value.length\n          ? fields\n              .sort((a, b, i) => {\n                if (!value?.includes(a.value)) {\n                  return 1;\n                }\n                return value.findIndex((i) => i === a.value) >\n                  value.findIndex((i) => i === b.value)\n                  ? 1\n                  : -1;\n              })\n              .reverse()\n              .map((item, i, arr) => ({ ...item, order: arr.length - i }))\n          : fields\n        ).map((item) => ({\n          label: item.label,\n          value: item.name,\n          data: item,\n        }))}\n      />\n\n      {selectedFields?.map((f, i) => {\n        const field = fields.find((field) => field.name === f);\n        if (!field) return null;\n        if ([\"input\"].includes(field.fieldType)) {\n          if (field.dataType === \"number\") {\n            return (\n              <div key={i}>\n                <p className=\"mb_5\">\n                  <strong>{field.label}:</strong>{\" \"}\n                </p>\n                <Combobox\n                  control={control}\n                  name={`${field.name}.oparator`}\n                  label=\"Oparator\"\n                  options={[\n                    { label: \"Greater than\", value: \"greaterThan\" },\n                    { label: \"Less than\", value: \"lessThan\" },\n                  ]}\n                  formOptions={{ required: \"Select an option\" }}\n                />\n              </div>\n            );\n          }\n        } else if ([\"select\", \"combobox\"].includes(field.fieldType)) {\n          return (\n            <div key={i}>\n              <p className=\"mb_5\">\n                <strong>{field.label} Mapping:</strong>\n              </p>\n              <Combobox\n                className=\"mb_5\"\n                control={control}\n                name={`${field.name}.oparator`}\n                label=\"Oparator\"\n                options={[\n                  { label: `Match ${field.label}`, value: \"match\" },\n                  { label: \"Custom Mapping\", value: \"customMapping\" },\n                ]}\n                formOptions={{ required: \"Select an option\" }}\n                onChange={() => {\n                  setForceRender(Math.random());\n                }}\n              />\n              {getValues(`${field.name}.oparator`) === \"customMapping\" && (\n                <FieldMapper field={field} control={control} />\n              )}\n            </div>\n          );\n        }\n      })}\n\n      <div className=\"flex justify-center\">\n        <button className=\"btn\">Update</button>\n      </div>\n    </form>\n  );\n};\n\nconst FooterElements = ({ edit, onSuccess }) => {\n  const [updateItems, setUpdateItems] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n  const [err, setErr] = useState(null);\n  const {\n    handleSubmit,\n    register,\n    control,\n    watch,\n    reset,\n    getValues,\n    setValue,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(\n      yup.object({\n        title: yup.string().required(\"Section Title is required\"),\n        viewStyle: yup.string().required(\"Select a view style\"),\n      })\n    ),\n  });\n\n  const items = watch(\"items\");\n  useEffect(() => {\n    reset({\n      title: edit?.title || \"\",\n      viewStyle: edit?.viewStyle || \"list\",\n      items: edit?.items || [],\n    });\n  }, [edit]);\n\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        if (items.length <= 0) {\n          return setErr(\"Add at least one item\");\n        }\n        onSuccess({\n          ...values,\n          _id: edit?._id || Math.random().toString(36).substr(-8),\n        });\n      })}\n      className={`p-1 grid gap-1`}\n    >\n      {err && <p className=\"error\">{err}</p>}\n      <Input\n        {...register(\"title\")}\n        label=\"Section Title\"\n        error={errors.title}\n      />\n\n      <Combobox\n        label=\"View Style\"\n        name=\"viewStyle\"\n        control={control}\n        options={[\n          { label: \"List\", value: \"list\" },\n          { label: \"Grid\", value: \"grid\" },\n        ]}\n        error={errors.viewStyle}\n      />\n\n      <div>\n        <div className=\"flex justify-space-between align-center mb-1\">\n          <h5>Items</h5>\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setUpdateItems(true)}\n          >\n            Add Item\n          </button>\n        </div>\n        <Table\n          columns={[{ label: \"Field\" }, { label: \"URL\" }, { label: \"Actions\" }]}\n        >\n          {items?.map((item, i) => (\n            <tr key={item.label}>\n              <td>{item.label}</td>\n              <td>{item.href}</td>\n              <TableActions\n                actions={[\n                  {\n                    icon: <FaPencilAlt />,\n                    label: \"Edit\",\n                    onClick: () => {\n                      setEditItem(item);\n                      setUpdateItems(true);\n                    },\n                  },\n                  {\n                    icon: <FaRegTrashAlt />,\n                    label: \"Delete\",\n                    onClick: () =>\n                      Prompt({\n                        type: \"confirmation\",\n                        message: `Are you sure you want to remove this item?`,\n                        callback: () => {\n                          setValue(\n                            \"items\",\n                            items.filter((i) => i._id !== item._id)\n                          );\n                        },\n                      }),\n                  },\n                ]}\n              />\n            </tr>\n          ))}\n        </Table>\n      </div>\n\n      <Modal\n        open={updateItems}\n        head\n        label={`${editItem ? \"Update\" : \"Add\"} Element`}\n        className={s.recFilterModal}\n        setOpen={() => {\n          setUpdateItems(false);\n          setEditItem(null);\n        }}\n      >\n        <FooterElementForm\n          edit={editItem}\n          onSuccess={(value) => {\n            setValue(\n              \"items\",\n              editItem\n                ? items.map((item) => (item._id === value._id ? value : item))\n                : [...items, value]\n            );\n            setUpdateItems(false);\n            setEditItem(null);\n            setErr(null);\n          }}\n        />\n      </Modal>\n\n      <div className=\"flex justify-center\">\n        <button className=\"btn\">\n          {edit ? \"Update Section\" : \"Add Section\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nconst FooterElementForm = ({ edit, onSuccess }) => {\n  const {\n    handleSubmit,\n    control,\n    register,\n    reset,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(\n      yup.object({\n        label: yup.string().required(\"Label is required\"),\n        href: yup\n          .string()\n          .matches(\n            /^\\/[a-zA-Z0-9\\-._~!$&'()*+,;=:@]+$/,\n            \"Invalid sub-path format\"\n          )\n          .required(\"Field is required\"),\n      })\n    ),\n  });\n\n  useEffect(() => {\n    reset({\n      label: edit?.label || \"\",\n      href: edit?.href || \"\",\n      type: edit?.type || \"dynamicPage\",\n      files: edit?.files || [],\n    });\n  }, [edit]);\n\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        onSuccess({\n          ...values,\n          _id: edit?._id || Math.random().toString(36).substr(-8),\n        });\n      })}\n      className={`p-1 grid gap-1`}\n    >\n      <Input {...register(\"label\")} label=\"Label\" error={errors.label} />\n      <Combobox\n        label=\"URL Type\"\n        name=\"type\"\n        control={control}\n        options={[\n          { label: \"Dynamic\", value: \"dynamicPage\" },\n          { label: \"Internal Link\", value: \"internalLink\" },\n          { label: \"External Link\", value: \"externalLink\" },\n        ]}\n      />\n      <Input\n        {...register(\"href\")}\n        label=\"Path\"\n        placeholder=\"/some-path\"\n        error={errors.href}\n      />\n\n      <div className=\"flex justify-center\">\n        <button className=\"btn\">\n          {edit ? \"Update Element\" : \"Add Element\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nconst FieldMapper = ({ field, control }) => {\n  const [options, setOptions] = useState([]);\n  const { get: getOptions } = useFetch(\n    endpoints.dynamic + `/${field.collection || \"\"}`\n  );\n  useEffect(() => {\n    if (field.optionType === \"collection\") {\n      getOptions().then(({ data }) => {\n        if (data?.success) {\n          setOptions(\n            data.data.map((item) => ({\n              label: item[field.optionLabel],\n              value: item[field.optionValue],\n            }))\n          );\n        }\n      });\n    } else if (field.optionType === \"array\") {\n      setOptions(field.options);\n    }\n  }, []);\n  return (\n    <div>\n      <Table\n        columns={[\n          { label: `Viewed ${field.label}` },\n          { label: `Filter for recommendation` },\n        ]}\n      >\n        {options.map((opt) => (\n          <tr key={opt.value}>\n            <td>{opt.label}</td>\n            <td>\n              <Select\n                control={control}\n                name={`${field.name}.${opt.value}`}\n                multiple\n                options={options}\n              />\n            </td>\n          </tr>\n        ))}\n      </Table>\n    </div>\n  );\n};\n\nexport default SiteConfig;\n","import { useEffect, useState, useRef, useCallback } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useYup, useFetch } from \"hooks\";\nimport { Prompt, Modal } from \"Components/modal\";\nimport { endpoints } from \"config\";\nimport {\n  Textarea,\n  Table,\n  TableActions,\n  Input,\n  FileInputNew,\n} from \"Components/elements\";\nimport { FaPencilAlt, FaRegTrashAlt } from \"react-icons/fa\";\nimport * as yup from \"yup\";\nimport s from \"./settings.module.scss\";\nimport { useNavigate } from \"react-router-dom\";\nimport { paths } from \"config\";\n\nconst FaqDocs = ({ next }) => {\n  const [docs, setDocs] = useState([]);\n  const navigate = useNavigate();\n\n  const { get: getDocs, loading } = useFetch(endpoints.faqDocuments);\n\n  useEffect(() => {\n    getDocs()\n      .then(({ data }) => {\n        if (!data.success) {\n          return Prompt({ type: \"error\", message: data.message });\n        }\n        setDocs(data.data);\n      })\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\n  }, []);\n\n  return (\n    <form className=\"grid gap-1\">\n      <Docs docs={docs} setDocs={setDocs} />\n      <div className=\"flex gap-1 justify-center\">\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() =>\n              navigate(\n                paths.dashboard.replace(\"*\", \"\") +\n                  paths.settings.baseUrl.replace(\"*\", \"\") +\n                  paths.settings.config,\n                { state: { next: true } }\n              )\n            }\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst Docs = ({ docs, setDocs }) => {\n  const [edit, setEdit] = useState(null);\n  const [addDoc, setAddDoc] = useState(false);\n  const { remove, loading } = useFetch(endpoints.faqDocuments + \"/_id\");\n  return (\n    <>\n      <div className=\"flex justify-space-between align-center\">\n        <h3>AI Chat Knowledge Base</h3>\n        <button type=\"button\" className=\"btn\" onClick={() => setAddDoc(true)}>\n          Add New Topic\n        </button>\n      </div>\n      <Table\n        className={s.faqDocs}\n        columns={[\n          { label: \"Topic\" },\n          { label: \"Files\" },\n          { label: \"URLs\" },\n          { label: \"Token Count\" },\n          { label: \"Action\" },\n        ]}\n      >\n        {docs.map((item, i) => (\n          <tr key={i}>\n            <td>{item.topic}</td>\n            <td>{item.files.length}</td>\n            <td>{item.urls.length}</td>\n            <td>{item.tokenCount}</td>\n            <TableActions\n              actions={[\n                {\n                  icon: <FaPencilAlt />,\n                  label: \"Edit\",\n                  onClick: () => {\n                    setEdit(item);\n                    setAddDoc(true);\n                  },\n                },\n                {\n                  icon: <FaRegTrashAlt />,\n                  label: \"Delete\",\n                  onClick: () =>\n                    Prompt({\n                      type: \"confirmation\",\n                      message: `Are you sure you want to remove this Document?`,\n                      callback: () => {\n                        remove(undefined, { params: { _id: item._id } })\n                          .then(({ data }) => {\n                            if (!data.success) {\n                              return Prompt({\n                                type: \"error\",\n                                message: data.success,\n                              });\n                            }\n                            setDocs((prev) =>\n                              prev.filter((doc) => doc._id !== item._id)\n                            );\n                          })\n                          .catch((err) =>\n                            Prompt({ type: \"error\", message: err.message })\n                          );\n                      },\n                    }),\n                },\n              ]}\n            />\n          </tr>\n        ))}\n      </Table>\n      <Modal\n        head\n        label={edit ? \"Update Topic\" : \"Add Topic\"}\n        open={addDoc}\n        setOpen={() => {\n          setAddDoc(false);\n          setEdit(false);\n        }}\n        className={s.termFormModal}\n      >\n        <DocForm\n          edit={edit}\n          onSuccess={(newDoc) => {\n            if (edit) {\n              setDocs((prev) =>\n                prev.map((t) => (t._id === edit._id ? newDoc : t))\n              );\n              setEdit(null);\n            } else {\n              setDocs((prev) => [...prev, newDoc]);\n            }\n            setAddDoc(false);\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst docSchema = yup.object({\n  topic: yup.string().required(),\n  description: yup.string(),\n  files: yup.array().of(yup.mixed()),\n  urls: yup.array().of(yup.string().url()),\n});\n\nconst DocForm = ({ edit, onSuccess }) => {\n  const [updateUrl, setUpdateUrl] = useState(false);\n  const {\n    handleSubmit,\n    register,\n    reset,\n    control,\n    watch,\n    setError,\n    setValue,\n    clearErrors,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(docSchema),\n  });\n  const formRef = useRef();\n\n  const { post, put, loading } = useFetch(\n    endpoints.faqDocuments + `/${edit?._id || \"\"}`\n  );\n\n  const urls = watch(\"urls\");\n  const url = watch(\"url\");\n\n  useEffect(() => {\n    reset({ ...edit, urls: edit?.urls || [] });\n  }, [edit]);\n  return (\n    <form\n      ref={formRef}\n      className={s.termForm}\n      onSubmit={handleSubmit((values) => {\n        const payload = {\n          ...values,\n          files: values.files,\n          urls: JSON.stringify(values.urls),\n        };\n        const formData = new FormData();\n        Object.entries(payload).forEach(([key, value]) => {\n          if (key === \"files\" && value) {\n            const oldFiles = value.filter((item) => item.url);\n            const newFiles = value.filter((item) => !item.url);\n\n            if (oldFiles.length) {\n              formData.append(key, JSON.stringify(oldFiles));\n            }\n            if (newFiles.length) {\n              newFiles.forEach((file) => formData.append(key, file));\n            }\n            return;\n          }\n          if (Array.isArray(value)) {\n            value.forEach((file) => formData.append(key, file));\n          } else if (value) {\n            formData.append(key, value);\n          }\n        });\n\n        (edit ? put : post)(formData)\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            onSuccess(data.data);\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <Input label=\"Topic\" {...register(\"topic\")} error={errors.topic} />\n      {/* <CustomRadio\n        label=\"Source Type:\"\n        control={control}\n        name=\"sourceType\"\n        options={[\n          { label: \"Files\", value: \"files\" },\n          { label: \"URLs\", value: \"urls\" },\n        ]}\n      /> */}\n      <FileInputNew\n        label=\"File\"\n        accept=\"txt,pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword\"\n        control={control}\n        name=\"files\"\n      />\n\n      <section className={s.docUrls}>\n        <section className={s.urlInput}>\n          <Input\n            label=\"URL\"\n            {...register(\"url\")}\n            error={errors.url}\n            onChange={(e) => {\n              setValue(\"url\", e.target.value);\n              clearErrors(\"url\");\n            }}\n          />\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => {\n              if (!url) {\n                return setError(\"url\", {\n                  type: \"manual\",\n                  message: \"Field is required\",\n                });\n              }\n\n              const _url = url.startsWith(\"http\") ? url : \"http://\" + url;\n              setValue(\n                \"urls\",\n                updateUrl\n                  ? urls.map((i) => (i === updateUrl ? _url : i))\n                  : [...urls, _url]\n              );\n              setValue(\"url\", \"\");\n              setUpdateUrl(null);\n            }}\n          >\n            {updateUrl ? \"Update\" : \"Add\"}\n          </button>\n          {updateUrl && (\n            <button\n              className=\"btn\"\n              type=\"button\"\n              onClick={() => {\n                setValue(\"url\", \"\");\n                setUpdateUrl(null);\n              }}\n            >\n              Cancel\n            </button>\n          )}\n        </section>\n\n        <Table columns={[{ label: \"URL\" }, { label: \"Action\" }]}>\n          {(urls || []).map((item) => (\n            <tr key={item}>\n              <td>{item}</td>\n              <TableActions\n                actions={[\n                  {\n                    icon: <FaPencilAlt />,\n                    label: \"Edit\",\n                    onClick: () => {\n                      setValue(\"url\", item);\n                      setUpdateUrl(item);\n                    },\n                  },\n                  {\n                    icon: <FaRegTrashAlt />,\n                    label: \"Delete\",\n                    onClick: () =>\n                      Prompt({\n                        type: \"confirmation\",\n                        message: `Are you sure you want to remove this URL?`,\n                        callback: () => {\n                          setValue(\n                            \"urls\",\n                            urls.filter((i) => item !== i)\n                          );\n                        },\n                      }),\n                  },\n                ]}\n              />\n            </tr>\n          ))}\n        </Table>\n      </section>\n\n      <Textarea\n        label=\"Description\"\n        {...register(\"description\")}\n        error={errors.description}\n      />\n      <div className=\"btns\">\n        <button className=\"btn\" disabled={loading}>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default FaqDocs;\n","import { useEffect, useState, useRef, useCallback } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useYup, useFetch } from \"hooks\";\nimport { Prompt, Modal } from \"Components/modal\";\nimport { endpoints } from \"config\";\nimport {\n  Textarea,\n  Table,\n  TableActions,\n  Input,\n  FileInputNew,\n} from \"Components/elements\";\nimport { FaPencilAlt, FaRegTrashAlt } from \"react-icons/fa\";\nimport * as yup from \"yup\";\nimport s from \"./settings.module.scss\";\nimport { useNavigate } from \"react-router-dom\";\nimport { paths } from \"config\";\n\nconst FaqDocs = ({ next }) => {\n  const [docs, setDocs] = useState([]);\n  const navigate = useNavigate();\n\n  const { get: getDocs, loading } = useFetch(endpoints.dynamicPages);\n\n  useEffect(() => {\n    getDocs()\n      .then(({ data }) => {\n        if (!data.success) {\n          return Prompt({ type: \"error\", message: data.message });\n        }\n        setDocs(data.data);\n      })\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\n  }, []);\n\n  return (\n    <form className=\"grid gap-1\">\n      <Docs docs={docs} setDocs={setDocs} />\n      <div className=\"flex gap-1 justify-center\">\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() =>\n              navigate(\n                paths.dashboard.replace(\"*\", \"\") +\n                  paths.settings.baseUrl.replace(\"*\", \"\") +\n                  paths.settings.config,\n                { state: { next: true } }\n              )\n            }\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst Docs = ({ docs, setDocs }) => {\n  const [edit, setEdit] = useState(null);\n  const [addDoc, setAddDoc] = useState(false);\n  const { remove, loading } = useFetch(endpoints.dynamicPages + \"/_id\");\n  return (\n    <>\n      <div className=\"flex justify-space-between align-center\">\n        <h3>Blogs</h3>\n        <button type=\"button\" className=\"btn\" onClick={() => setAddDoc(true)}>\n          Add New Page\n        </button>\n      </div>\n      <Table\n        className={s.faqDocs}\n        columns={[\n          { label: \"Title\" },\n          { label: \"Description\" },\n          { label: \"File\" },\n          { label: \"Action\" },\n        ]}\n      >\n        {docs.map((item, i) => (\n          <tr key={i}>\n            <td>{item.title}</td>\n            <td>{item.description}</td>\n            <td>{item.file?.name || item.files?.[0]?.name}</td>\n            <TableActions\n              actions={[\n                {\n                  icon: <FaPencilAlt />,\n                  label: \"Edit\",\n                  onClick: () => {\n                    setEdit(item);\n                    setAddDoc(true);\n                  },\n                },\n                {\n                  icon: <FaRegTrashAlt />,\n                  label: \"Delete\",\n                  onClick: () =>\n                    Prompt({\n                      type: \"confirmation\",\n                      message: `Are you sure you want to remove this Document?`,\n                      callback: () => {\n                        remove(undefined, { params: { _id: item._id } })\n                          .then(({ data }) => {\n                            if (!data.success) {\n                              return Prompt({\n                                type: \"error\",\n                                message: data.success,\n                              });\n                            }\n                            setDocs((prev) =>\n                              prev.filter((doc) => doc._id !== item._id)\n                            );\n                          })\n                          .catch((err) =>\n                            Prompt({ type: \"error\", message: err.message })\n                          );\n                      },\n                    }),\n                },\n              ]}\n            />\n          </tr>\n        ))}\n      </Table>\n      <Modal\n        head\n        label={edit ? \"Update Page\" : \"Add Page\"}\n        open={addDoc}\n        setOpen={() => {\n          setAddDoc(false);\n          setEdit(false);\n        }}\n        className={s.termFormModal}\n      >\n        <PageForm\n          edit={edit}\n          onSuccess={(newDoc) => {\n            if (edit) {\n              setDocs((prev) =>\n                prev.map((t) => (t._id === edit._id ? newDoc : t))\n              );\n              setEdit(null);\n            } else {\n              setDocs((prev) => [...prev, newDoc]);\n            }\n            setAddDoc(false);\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst pageSchema = yup.object({\n  title: yup.string().required(),\n  description: yup.string(),\n  path: yup\n    .string()\n    .test(\"is-valid-sub-path\", \"Invalid sub-path format\", function (value) {\n      if (value === undefined || value === \"\") return true; // Allow undefined values (optional)\n      return /^\\/[a-zA-Z0-9\\-._~!$&'()*+,;=:@]+$/.test(value);\n    }),\n  // .required(),\n  thumbnail: yup.array().of(yup.mixed()),\n  files: yup.array().of(yup.mixed()),\n});\n\nconst PageForm = ({ edit, onSuccess }) => {\n  const {\n    handleSubmit,\n    register,\n    reset,\n    control,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(pageSchema),\n  });\n  const formRef = useRef();\n\n  const { post, put, loading } = useFetch(\n    endpoints.dynamicPages + `/${edit?._id || \"\"}`\n  );\n\n  useEffect(() => {\n    reset({ ...edit, thumbnail: edit?.thumbnail ? [edit.thumbnail] : [] });\n  }, [edit]);\n  return (\n    <form\n      ref={formRef}\n      className={s.termForm}\n      onSubmit={handleSubmit((values) => {\n        const payload = {\n          ...values,\n          path:\n            values.path ||\n            \"/\" +\n              values.title\n                .replaceAll(\" \", \"-\")\n                .replace(/[^a-zA-Z0-9\\-._~!$&'()*+,;=:@\\/]/g, \"\"),\n          // files: values.files,\n        };\n        const formData = new FormData();\n        Object.entries(payload).forEach(([key, value]) => {\n          if ([\"thumbnail\", \"files\"].includes(key) && value?.length) {\n            const file = value[0];\n            formData.append(key, file.url ? JSON.stringify(file) : file);\n            return;\n          }\n          if (Array.isArray(value)) {\n            value.forEach((file) => formData.append(key, file));\n          } else if (value) {\n            formData.append(key, value);\n          }\n        });\n\n        (edit ? put : post)(formData)\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            onSuccess(data.data);\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <Input label=\"Title\" {...register(\"title\")} error={errors.title} />\n\n      <Input\n        label=\"URL path\"\n        {...register(\"path\")}\n        error={errors.path}\n        placeholder=\"/some-path\"\n      />\n\n      <Textarea\n        label=\"Description\"\n        {...register(\"description\")}\n        error={errors.description}\n      />\n\n      <FileInputNew\n        label=\"Thumbnail\"\n        thumbnail\n        accept=\"jpg,jpeg,png,webp\"\n        control={control}\n        name=\"thumbnail\"\n      />\n\n      <FileInputNew\n        label=\"File\"\n        accept=\"txt,pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword\"\n        control={control}\n        name=\"files\"\n      />\n\n      <div className=\"btns\">\n        <button className=\"btn\" disabled={loading}>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default FaqDocs;\n","import { useEffect, useMemo, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { endpoints } from \"config\";\nimport { useYup, useFetch } from \"hooks\";\nimport { Prompt, Modal } from \"Components/modal\";\nimport { FaPencilAlt, FaRegTrashAlt } from \"react-icons/fa\";\nimport {\n  Input,\n  Combobox,\n  Table,\n  TableActions,\n  Textarea,\n  Select,\n  Moment,\n} from \"Components/elements\";\nimport s from \"./settings.module.scss\";\nimport { IoMdArrowForward, IoMdMenu } from \"react-icons/io\";\n\nconst Reports = () => {\n  const [addReport, setAddReport] = useState(false);\n  const [editReport, setEditReport] = useState(null);\n  const [reports, setReports] = useState([]);\n\n  const { get: getReports, loading } = useFetch(endpoints.reports);\n  const { remove: dltReport, loading: deleting } = useFetch(\n    endpoints.reports + \"/{ID}\"\n  );\n\n  useEffect(() => {\n    getReports()\n      .then(({ data }) => {\n        if (data.success) {\n          setReports(data.data);\n        }\n      })\n      .catch((err) =>\n        Prompt({\n          type: \"error\",\n          message: \"Reports could not be fetched.\",\n        })\n      );\n  }, []);\n\n  return (\n    <div className=\"grid gap-1\">\n      <div>\n        <div className=\"flex justify-space-between align-center mb-1\">\n          <h5>Reports</h5>\n          <button\n            className=\"btn\"\n            type=\"button\"\n            onClick={() => setAddReport(true)}\n          >\n            Create Report Template\n          </button>\n        </div>\n        <Table\n          columns={[\n            { label: \"Report Name\" },\n            { label: \"Module\" },\n            { label: \"Actions\" },\n          ]}\n        >\n          {reports?.map((report, i) => (\n            <tr key={report._id}>\n              <td>{report.name}</td>\n              <td>{report.tables?.find((t) => t.type === \"module\")?.name}</td>\n              <TableActions\n                actions={[\n                  {\n                    icon: <FaPencilAlt />,\n                    label: \"Edit\",\n                    onClick: () => {\n                      setEditReport(report);\n                      setAddReport(true);\n                    },\n                  },\n                  {\n                    icon: <FaRegTrashAlt />,\n                    label: \"Delete\",\n                    disabled: deleting,\n                    onClick: () =>\n                      Prompt({\n                        type: \"confirmation\",\n                        message: `Are you sure you want to remove this section?`,\n                        callback: () => {\n                          dltReport({}, { params: { \"{ID}\": report._id } })\n                            .then(({ data }) => {\n                              if (data.success) {\n                                setReports(\n                                  reports.filter((i) => i._id !== report._id)\n                                );\n                              } else {\n                                Prompt({\n                                  type: \"error\",\n                                  message: data.message,\n                                });\n                              }\n                            })\n                            .catch((err) =>\n                              Prompt({ type: \"error\", message: err.message })\n                            );\n                        },\n                      }),\n                  },\n                ]}\n              />\n            </tr>\n          ))}\n        </Table>\n      </div>\n\n      <Modal\n        open={addReport}\n        head\n        label={`${editReport ? \"Update\" : \"Create\"} Report Template`}\n        className={s.recFilterModal}\n        setOpen={() => {\n          setAddReport(false);\n          setEditReport(null);\n        }}\n      >\n        <Form\n          edit={editReport}\n          onSuccess={(value) => {\n            setReports(\n              editReport\n                ? reports.map((item) => (item._id === value._id ? value : item))\n                : [...reports, value]\n            );\n            setAddReport(false);\n            setEditReport(null);\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nconst Form = ({ edit, onSuccess }) => {\n  const [updateItems, setUpdateItems] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n  const [err, setErr] = useState(null);\n  const [step, setStep] = useState(1);\n  const [tables, setTables] = useState([]);\n  const [data, setData] = useState([]);\n  const {\n    handleSubmit,\n    register,\n    watch,\n    control,\n    reset,\n    setValue,\n    setError,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(\n      yup.object({\n        name: yup.string().required(\"Report Name is required\"),\n        tables: yup.array().of(yup.string()).required(\"Please select tables\"),\n      })\n    ),\n  });\n\n  const { get: getTables } = useFetch(endpoints.allCollections);\n  const { post, put, loading } = useFetch(\n    endpoints.reports + (edit ? `/${edit?._id}` : \"\")\n  );\n  const { post: getData, loading: loadingData } = useFetch(\n    endpoints.testReportPipeline\n  );\n  const { post: genPipeline, loading: generatingPipeline } = useFetch(\n    endpoints.generateReportPipeline\n  );\n\n  const selectedTables = watch(\"tables\");\n  const columns = watch(\"columns\");\n  const pipeline = watch(\"pipeline\");\n  useEffect(() => {\n    reset({\n      name: edit?.name || \"\",\n      tables: edit?.tables\n        ? edit.tables.map(\n            (t) => `${t.module ? `${t.module}-` : \"\"}${t.name}-${t.type}`\n          )\n        : [],\n      columns: edit?.columns || [],\n      pipeline: JSON.stringify(edit?.pipeline || [], null, 2),\n    });\n  }, [edit]);\n\n  useEffect(() => {\n    getTables()\n      .then(({ data }) => {\n        if (data.success) {\n          setTables(\n            data.data.map((table) => ({\n              label: table.label,\n              name: table.name,\n              type: table.type,\n              module: table.module,\n              value: `${table.module ? `${table.module}-` : \"\"}${table.name}-${\n                table.type\n              }`,\n              fields: table.fields,\n            }))\n          );\n        }\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <form\n      onSubmit={handleSubmit(async (values) => {\n        if (columns.length <= 0) {\n          return setErr(\"Add at least one column\");\n        }\n        let selectedTables = tables.filter((t) =>\n          values.tables.includes(t.value)\n        );\n        const selectedModule = selectedTables.find((t) => t.type === \"module\");\n        if (!selectedModule) {\n          return setError(\"tables\", {\n            type: \"custom\",\n            message: \"Please select a module\",\n          });\n        }\n        selectedTables = selectedTables.filter((t) =>\n          t.type === \"module\"\n            ? t.value === selectedModule.value\n            : t.module === selectedModule.name\n        );\n        setValue(\n          \"tables\",\n          selectedTables.map((t) => t.value)\n        );\n        if (step === 1) {\n          let parsed = null;\n          const tableRows = Array.from(\n            document.querySelector(\".col-table\").querySelectorAll(\"tbody tr\")\n          ).map((el) => el.id);\n          values.columns = values.columns.sort((a, b) =>\n            tableRows.findIndex((id) => id === a._id) >\n            tableRows.findIndex((id) => id === b._id)\n              ? 1\n              : -1\n          );\n          const generate = async () => {\n            setValue(\"columns\", values.columns);\n            genPipeline({\n              table: {\n                name: selectedModule.name,\n                type: \"module\",\n              },\n              columns: values.columns,\n            })\n              .then(({ data }) => {\n                if (data.success) {\n                  setValue(\"pipeline\", JSON.stringify(data.data, null, 2));\n                } else {\n                  Prompt({ type: \"error\", message: data.message });\n                }\n                setStep(2);\n              })\n              .catch((err) => Prompt({ type: \"error\", message: err.message }));\n          };\n          try {\n            parsed = JSON.parse(values.pipeline);\n          } catch (err) {\n            parsed = [];\n          }\n          if (!parsed || !parsed.length) {\n            await generate();\n            return;\n          } else {\n            return Prompt({\n              type: \"confirmation\",\n              message: \"Do you want to regenerate the pipeline?\",\n              callback: async () => generate(),\n              onDecline: () => setStep(2),\n            });\n          }\n        }\n\n        try {\n          values.pipeline = JSON.parse(values.pipeline);\n        } catch (err) {\n          return setError(\"pipeline\", {\n            type: \"custom\",\n            message: \"Pipeline must be valid JSON\",\n          });\n        }\n        (edit ? put : post)({\n          ...values,\n          tables: selectedTables.map((t) => ({\n            name: t.name,\n            type: t.type,\n            module: t.module,\n            submodule: t.submodule,\n          })),\n        })\n          .then(({ data }) => {\n            if (data.success) {\n              onSuccess(data.data);\n            } else {\n              Prompt({ type: \"error\", message: data.message });\n            }\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n      className={`p-1 grid gap-1 ${s.form}`}\n    >\n      {err && <p className=\"error\">{err}</p>}\n\n      {step === 1 && (\n        <>\n          <Input\n            {...register(\"name\")}\n            label=\"Report Name\"\n            error={errors.name}\n          />\n\n          <Select\n            label=\"Tables\"\n            multiple\n            name=\"tables\"\n            control={control}\n            options={tables}\n          />\n          <div>\n            <div className=\"flex justify-space-between align-center mb-1\">\n              <h4>Columns</h4>\n              <button\n                className=\"btn\"\n                type=\"button\"\n                onClick={() => setUpdateItems(true)}\n              >\n                Add Column\n              </button>\n            </div>\n            <Table\n              sortable={{\n                handle: \".handle\",\n                columns,\n              }}\n              columns={[\n                { label: \"\", width: \"3rem\" },\n                { label: \"Label\" },\n                // { label: \"Type\" },\n                { label: \"Table\" },\n                { label: \"field\" },\n                { label: \"Actions\", width: \"4rem\" },\n              ]}\n              className=\"col-table\"\n            >\n              {columns?.map((item, i) => (\n                <tr\n                  id={item._id}\n                  key={item.label}\n                  style={{\n                    gridTemplateColumns: \"3rem 1fr 1fr 1fr 4rem\",\n                  }}\n                >\n                  <td>\n                    <button className=\"btn clear iconOnly handle\">\n                      <IoMdMenu /> {item.order}\n                    </button>\n                  </td>\n                  <td>{item.label}</td>\n                  {/* <td>{item.type}</td> */}\n                  <td>{item.table?.name}</td>\n                  <td>\n                    {item.type === \"lookup\" ? (\n                      <>\n                        {item.localField} <IoMdArrowForward />{\" \"}\n                        {item.foreignField}\n                      </>\n                    ) : (\n                      item.field\n                    )}\n                  </td>\n                  <TableActions\n                    actions={[\n                      {\n                        icon: <FaPencilAlt />,\n                        label: \"Edit\",\n                        onClick: () => {\n                          setEditItem(item);\n                          setUpdateItems(true);\n                        },\n                      },\n                      {\n                        icon: <FaRegTrashAlt />,\n                        label: \"Delete\",\n                        onClick: () =>\n                          Prompt({\n                            type: \"confirmation\",\n                            message: `Are you sure you want to remove this item?`,\n                            callback: () => {\n                              setValue(\n                                \"columns\",\n                                columns.filter((i) => i._id !== item._id)\n                              );\n                            },\n                          }),\n                      },\n                    ]}\n                  />\n                </tr>\n              ))}\n            </Table>\n          </div>\n        </>\n      )}\n      {step === 2 && (\n        <>\n          <Textarea\n            className={s.codeInput}\n            label=\"MongoDB Pipeline\"\n            {...register(\"pipeline\")}\n          />\n        </>\n      )}\n\n      <Modal\n        open={updateItems}\n        head\n        label={`${editItem ? \"Update\" : \"Add\"} Column`}\n        className={s.recFilterModal}\n        setOpen={() => {\n          setUpdateItems(false);\n          setEditItem(null);\n        }}\n      >\n        <ColumnForm\n          table={selectedTables}\n          tables={tables}\n          edit={editItem}\n          onSuccess={(value) => {\n            setValue(\n              \"columns\",\n              editItem\n                ? columns.map((item) => (item._id === value._id ? value : item))\n                : [...columns, value]\n            );\n            setUpdateItems(false);\n            setEditItem(null);\n            setErr(null);\n          }}\n        />\n      </Modal>\n\n      {step === 2 && (\n        <div>\n          <div className=\"flex justify-space-between align-center mb-1\">\n            <h5>Preview Data</h5>\n            <button\n              className=\"btn\"\n              type=\"button\"\n              onClick={() => {\n                const selectedModule = tables.find(\n                  (t) => t.type === \"module\" && selectedTables.includes(t.value)\n                );\n                const payload = {\n                  table: {\n                    name: selectedModule.name,\n                    type: \"module\",\n                  },\n                };\n                try {\n                  payload.pipeline = JSON.parse(pipeline);\n                } catch (err) {\n                  return Prompt({ type: \"error\", message: err.message });\n                }\n                getData(payload)\n                  .then(({ data }) => {\n                    if (data.success) {\n                      setData(data.data);\n                    } else {\n                      Prompt({ type: \"error\", message: data.message });\n                    }\n                  })\n                  .catch((err) =>\n                    Prompt({ type: \"error\", message: err.message })\n                  );\n              }}\n            >\n              Preview Data\n            </button>\n          </div>\n          <Table columns={columns.map((col) => ({ label: col.label }))}>\n            {data?.map((rec, i) => (\n              <tr key={i}>\n                {columns.map((col, i) => {\n                  let data = rec[col.label];\n                  if (Array.isArray(data)) {\n                    data = data.length;\n                  } else if (data === null) {\n                    data = (\n                      <span>\n                        <i>NULL</i>\n                      </span>\n                    );\n                  } else if (typeof data === \"object\") {\n                    data = JSON.stringify(data);\n                  } else if (data && col.dataType === \"date\") {\n                    data = <Moment format=\"DD MMM YY hh:mma\">{data}</Moment>;\n                  } else if (!data) {\n                    data = \"--\";\n                  }\n                  return <td key={i}>{data}</td>;\n                })}\n              </tr>\n            ))}\n          </Table>\n        </div>\n      )}\n\n      <div className=\"flex justify-center gap-1\">\n        {step > 1 && (\n          <button\n            type=\"button\"\n            className=\"btn secondary\"\n            onClick={() => setStep(step - 1)}\n          >\n            Go Back\n          </button>\n        )}\n        <button className=\"btn\" disabled={loading || generatingPipeline}>\n          {step < 2 ? \"Next\" : \"Submit\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nconst ColumnForm = ({ table: baseTable, edit, onSuccess, tables }) => {\n  const fields = useMemo(() => {\n    return (\n      tables\n        ?.filter((t) => baseTable.includes(t.value))\n        .map((t) => t.fields.map((f) => ({ ...f, parent: t })))\n        .flat()\n        .map((f) => ({\n          label: `${f.parent.name}: ${f.label}`,\n          value: `${f.parent.name}-${f.name}`,\n          fieldLabel: f.label,\n          parent: f.parent,\n        })) || []\n    );\n  }, [tables, baseTable]);\n  const {\n    handleSubmit,\n    control,\n    register,\n    reset,\n    watch,\n    formState: { errors },\n    setValue,\n  } = useForm({\n    resolver: useYup(\n      yup.object({\n        label: yup.string().required(\"Label is required\"),\n        type: yup.string().required(\"Type is required\"),\n        // table: yup.string().when(\"type\", {\n        //   is: \"lookup\",\n        //   then: (s) => s.required(\"Table is required\"),\n        //   otherwise: (s) => s,\n        // }),\n        field: yup.string().when(\"type\", {\n          is: \"localField\",\n          then: (s) => s.required(\"Field is required\"),\n          otherwise: (s) => s,\n        }),\n        // localField: yup.string().when(\"type\", {\n        //   is: \"lookup\",\n        //   then: (s) => s.required(\"Local Field is required\"),\n        //   otherwise: (s) => s,\n        // }),\n        // foreignField: yup.string().when(\"type\", {\n        //   is: \"foreignField\",\n        //   then: (s) => s.required(\"Foreign Field is required\"),\n        //   otherwise: (s) => s,\n        // }),\n      })\n    ),\n  });\n\n  const table = watch(\"table\");\n  const label = watch(\"label\");\n\n  useEffect(() => {\n    reset({\n      label: edit?.label || \"\",\n      type: edit?.type || \"localField\",\n      localField: edit?.localField || \"\",\n      foreignField: edit?.foreignField || \"\",\n      table: edit?.table ? `${edit?.table.name}-${edit?.table.type}` : \"\",\n      field: `${edit?.value}` || \"\",\n    });\n  }, [edit]);\n\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const parentTable = tables.find(\n          (t) =>\n            t.name === fields.find((f) => f.value === values.field)?.parent.name\n        );\n        const field = parentTable.fields.find(\n          (f) => `${parentTable.name}-${f.name}` === values.field\n        );\n\n        const payload = {\n          dataType: field.dataType,\n          _id: edit?._id || Math.random().toString(36).substr(-8),\n          label: values.label,\n          value: values.field,\n        };\n        if (parentTable.type === \"module\") {\n          payload.type = \"localField\";\n          payload.field = field.name;\n          if (field.coll) {\n            payload.type = \"module-coll-lookup\";\n            payload.table = {\n              name: field.name,\n              type: \"module-coll\",\n              module: parentTable.name,\n            };\n            payload.localField = field.coll.name;\n            payload.foreignField = \"_id\";\n          }\n        } else if (parentTable.type === \"submodule\") {\n          payload.type = \"submodule-lookup\";\n          payload.table = {\n            name: parentTable.name,\n            field: field.name,\n            type: parentTable.type,\n            module: parentTable.module,\n            submodule: parentTable.name,\n          };\n          payload.localField = \"_id\";\n          payload.foreignField = \"record\";\n          if (field.coll) {\n            payload.type = \"submodule-coll-lookup\";\n            payload.table = {\n              name: field.name,\n              type: parentTable.type,\n              module: parentTable.module,\n              submodule: parentTable.name,\n            };\n            payload.localField = field.coll.name;\n            payload.foreignField = \"_id\";\n          }\n        }\n\n        onSuccess(payload);\n      })}\n      className={`p-1 grid gap-1`}\n    >\n      <Combobox\n        label=\"Field\"\n        name=\"field\"\n        control={control}\n        options={fields}\n        onChange={(opt) => {\n          if (!label || !fields.some((f) => f.fieldLabel === opt.fieldLabel)) {\n            setValue(\"label\", opt.fieldLabel);\n          }\n        }}\n      />\n      <Input {...register(\"label\")} label=\"Label\" error={errors.label} />\n      {/* <Combobox\n        label=\"Type\"\n        name=\"type\"\n        control={control}\n        options={[\n          { label: \"Local Field\", value: \"localField\" },\n          { label: \"Lookup / Join\", value: \"lookup\" },\n        ]}\n      /> */}\n      {false && (\n        <>\n          <Combobox\n            label=\"Table\"\n            name=\"table\"\n            control={control}\n            options={tables}\n          />\n          <Combobox\n            label=\"Local Field\"\n            name=\"localField\"\n            control={control}\n            options={\n              tables\n                ?.find((t) => t.value === baseTable)\n                ?.fields?.map((f) => ({\n                  label: f.label,\n                  value: f.name,\n                })) || []\n            }\n          />\n          <Combobox\n            label=\"Foreign Field\"\n            name=\"foreignField\"\n            control={control}\n            options={\n              table\n                ? tables\n                    ?.find((t) => t.value === table)\n                    ?.fields?.map((f) => ({\n                      label: f.label,\n                      value: f.name,\n                    }))\n                : []\n            }\n          />\n        </>\n      )}\n\n      <div className=\"flex justify-center\">\n        <button className=\"btn\">{edit ? \"Update Column\" : \"Add Column\"}</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Reports;\n","import { useContext, useEffect, useState } from \"react\";\nimport { SiteContext } from \"SiteContext\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  Input,\n  Textarea,\n  FileInputNew,\n  Tabs,\n  CustomRadio,\n  Combobox,\n  MapAutoComplete,\n  GoogleMap,\n} from \"Components/elements\";\nimport * as yup from \"yup\";\nimport s from \"./settings.module.scss\";\nimport { useYup, useFetch } from \"hooks\";\nimport { FaTimes } from \"react-icons/fa\";\nimport { Prompt } from \"Components/modal\";\nimport { paths, endpoints } from \"config\";\nimport { Routes, Route, useLocation, useNavigate } from \"react-router-dom\";\n\nimport TermsAndConditions from \"./terms\";\nimport SiteConfig from \"./siteConfig\";\nimport Documents from \"./documents\";\nimport DynamicPages from \"./dynamicPages\";\nimport Reports from \"./reports\";\nimport { BsList } from \"react-icons/bs\";\n\nconst businessInformationSchema = yup.object({\n  name: yup.string().required(),\n  phone: yup.string().required(),\n  description: yup.string(),\n  email: yup.string().required(),\n  domain: yup.string().required(),\n  // address: yup.string().required(),\n});\n\nconst Settings = ({ setSidebarOpen }) => {\n  const location = useLocation();\n  const [next, setNext] = useState(location.state?.next);\n  return (\n    <div className={s.container}>\n      <div className={`flex`}>\n        <div\n          className={`flex align-center pointer gap_5  ml-1`}\n          onClick={() => setSidebarOpen((prev) => !prev)}\n        >\n          <BsList style={{ fontSize: \"1.75rem\" }} />\n          <h2>Settings</h2>\n        </div>\n      </div>\n\n      <Tabs\n        tabs={[\n          {\n            label: \"Business Information\",\n            path: paths.settings.businessInformation,\n          },\n          { label: \"Bank Detail\", path: paths.settings.bankDetails },\n          { label: \"Owner Detail\", path: paths.settings.ownerDetails },\n          {\n            label: \"Terms & Conditions\",\n            path: paths.settings.termsAndConditions,\n          },\n          {\n            label: \"AI Chat Knowledge Base\",\n            path: paths.settings.aiChatKnowledgeBase,\n          },\n          { label: \"Configurations\", path: paths.settings.config },\n          { label: \"Site Configurations\", path: paths.settings.siteConfig },\n          { label: \"Blogs\", path: paths.settings.dynamicPages },\n          { label: \"Reports\", path: paths.settings.reports },\n        ]}\n      />\n      <Routes>\n        <Route\n          path={paths.settings.businessInformation}\n          element={<BusinessInformation next={next} />}\n        />\n        <Route\n          path={paths.settings.bankDetails}\n          element={<BankDetail next={next} />}\n        />\n        <Route\n          path={paths.settings.ownerDetails}\n          element={<OwnerDetails next={next} />}\n        />\n        <Route\n          path={paths.settings.termsAndConditions}\n          element={<TermsAndConditions next={next} />}\n        />\n        <Route path={paths.settings.config} element={<Config next={next} />} />\n        <Route\n          path={paths.settings.siteConfig}\n          element={<SiteConfig next={next} />}\n        />\n        <Route\n          path={paths.settings.aiChatKnowledgeBase}\n          element={<Documents next={next} />}\n        />\n        <Route\n          path={paths.settings.dynamicPages}\n          element={<DynamicPages next={next} />}\n        />\n        <Route\n          path={paths.settings.reports}\n          element={<Reports next={next} />}\n        />\n      </Routes>\n    </div>\n  );\n};\n\nconst BusinessInformation = ({ next }) => {\n  const { user, setUser, business, setBusiness } = useContext(SiteContext);\n  const [goNext, setGoNext] = useState(false);\n  const {\n    handleSubmit,\n    register,\n    reset,\n    watch,\n    control,\n    setValue,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(businessInformationSchema),\n  });\n  const navigate = useNavigate();\n  const logo = watch(\"logo\");\n  const [marker, setMarker] = useState(false);\n  const { put: updateOwnerDetails, loading } = useFetch(\n    business\n      ? endpoints.businesses + `/${business.business?._id}`\n      : endpoints.companyProfile\n  );\n  useEffect(() => {\n    const client = business?.business || user;\n    if (client) {\n      reset({\n        logo: client.logo ? [client.logo] : [],\n        name: client.name || \"\",\n        motto: client.motto || \"\",\n        phone: client.phone || \"\",\n        whatsappNumber: client.whatsappNumber || \"\",\n        email: client.email || \"\",\n        street: client.address?.street || \"\",\n        address: {\n          address: { ...client.address },\n          formatted: client.address?.formatted || \"\",\n        },\n        latlng:\n          client?.address?.latitude && client?.address?.longitude\n            ? client?.address?.latitude + \",\" + client?.address?.longitude\n            : \"\",\n        description: client.description || \"\",\n        gstin: client.gstin || \"\",\n        pan: client.pan || \"\",\n        ifsc: client.ifsc || \"\",\n        domain: client.domain || \"\",\n        chatbotDomain: client.chatbot?.domain || \"\",\n        favicon: client.favicon ? [client.favicon] : [],\n      });\n      if (client?.address?.latitude && client?.address?.longitude) {\n        setMarker(true);\n      }\n    }\n  }, [user, business]);\n  return (\n    <form\n      className=\"grid gap-1\"\n      onSubmit={handleSubmit((values) => {\n        if (values.address) {\n          values.address = {\n            ...values.address.address,\n            street: values.street,\n            formatted: values.address.formatted,\n            // latitude: values.latitude,\n            // longitude: values.longitude,\n          };\n          if (values.latlng) {\n            const [latitude, longitude] = values.latlng.split(\",\");\n            values.address.latitude = latitude;\n            values.address.longitude = longitude;\n          }\n          delete values.street;\n          delete values.latlng;\n        }\n        let logo = values.logo[0];\n        let favicon = values.favicon[0];\n\n        const formData = new FormData();\n\n        if (logo?.type) {\n          formData.append(`logo`, logo);\n        } else if (!logo) {\n          formData.append(`logo`, \"\");\n        }\n        if (favicon?.type) {\n          formData.append(`favicon`, favicon);\n        } else if (!favicon) {\n          formData.append(`favicon`, \"\");\n        }\n\n        formData.append(`name`, values.name);\n        formData.append(`motto`, values.motto);\n        formData.append(`phone`, values.phone);\n        formData.append(`email`, values.email);\n        formData.append(`address`, JSON.stringify(values.address));\n        formData.append(`gstin`, values.gstin);\n        formData.append(`pan`, values.pan);\n        formData.append(`ifsc`, values.ifsc);\n        formData.append(`domain`, values.domain);\n        if (values.chatbotDomain) {\n          formData.append(\n            \"chatbotDomain\",\n            values.chatbotDomain.replace(\n              /^(?:https?:\\/\\/)?(?:www\\.)?([^\\/?]+)(?:\\/[^?]+)?.*/,\n              \"$1\"\n            )\n          );\n        }\n        formData.append(`whatsappNumber`, values.whatsappNumber);\n        formData.append(\"description\", values.description);\n\n        updateOwnerDetails(formData)\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({\n                type: \"error\",\n                message: data.message,\n              });\n            }\n            if (business) {\n              setBusiness((prev) => ({ ...prev, business: data.data }));\n            } else {\n              setUser(data.data);\n            }\n            Prompt({\n              type: \"information\",\n              message: \"Updates have been saved.\",\n              ...(goNext && {\n                callback: () =>\n                  navigate(\n                    paths.dashboard.replace(\"*\", \"\") +\n                      paths.settings.baseUrl.replace(\"*\", \"\") +\n                      paths.settings.bankDetails,\n                    { state: { next: true } }\n                  ),\n              }),\n            });\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <h3>Business Information</h3>\n      <FileInputNew\n        thumbnail\n        control={control}\n        name=\"logo\"\n        label=\"Logo\"\n        accept=\"image/*\"\n      />\n      <FileInputNew\n        thumbnail\n        label=\"Favicon\"\n        control={control}\n        name=\"favicon\"\n        accept=\".ico\"\n      />\n      <Input label=\"Name\" {...register(\"name\")} error={errors.name} />\n      <Input\n        label=\"Business Motto\"\n        {...register(\"motto\")}\n        error={errors.motto}\n      />\n      <Input label=\"Phone\" {...register(\"phone\")} error={errors.phone} />\n      <Input\n        label=\"Whatapp Business Number\"\n        {...register(\"whatsappNumber\")}\n        error={errors.phone}\n      />\n      <Input label=\"Email\" {...register(\"email\")} error={errors.email} />\n      <Input\n        label=\"Street Address\"\n        {...register(\"street\")}\n        error={errors.street}\n      />\n\n      <MapAutoComplete\n        label=\"City, State, Country\"\n        control={control}\n        name=\"address\"\n        onChange={(e) => {\n          const lat = e.place.geometry.location.lat();\n          const lng = e.place.geometry.location.lng();\n          setValue(\"latlng\", lat + \",\" + lng);\n        }}\n      />\n\n      <GoogleMap\n        control={control}\n        name=\"latlng\"\n        marker={marker}\n        onClick={(e) => {\n          setMarker(true);\n        }}\n      />\n\n      <Textarea\n        label=\"Description\"\n        {...register(\"description\")}\n        error={errors.description}\n      />\n      <Input label=\"Domain\" {...register(\"domain\")} error={errors.domain} />\n      <Input\n        label=\"Chatbot Domain\"\n        {...register(\"chatbotDomain\")}\n        error={errors.chatbotDomain}\n      />\n      <Input label=\"GSTIN\" {...register(\"gstin\")} error={errors.gstin} />\n      <Input label=\"PAN\" {...register(\"pan\")} error={errors.pan} />\n      <Input label=\"IFSC\" {...register(\"ifsc\")} error={errors.ifsc} />\n\n      <div className=\"flex gap-1 justify-center\">\n        <button className=\"btn\" disabled={loading}>\n          Save Changes\n        </button>\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() => setGoNext(true)}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst BankDetail = ({ next }) => {\n  const { user, setUser, business, setBusiness } = useContext(SiteContext);\n  const [goNext, setGoNext] = useState(false);\n  const navigate = useNavigate();\n  const {\n    handleSubmit,\n    register,\n    reset,\n    formState: { errors },\n  } = useForm();\n  useEffect(() => {\n    const client = business?.business || user;\n    reset({\n      bankName: client?.bankDetails?.bankName || \"\",\n      branch: client?.bankDetails?.branch || \"\",\n      accNo: client?.bankDetails?.accNo || \"\",\n      accName: client?.bankDetails?.accName || \"\",\n    });\n  }, [user, business]);\n\n  const { put: updateBankDetail, loading } = useFetch(\n    business\n      ? endpoints.businesses + `/${business.business._id}`\n      : endpoints.companyProfile\n  );\n\n  return (\n    <form\n      className=\"grid gap-1\"\n      onSubmit={handleSubmit((values) => {\n        updateBankDetail({\n          bankDetails: {\n            bankName: values.bankName,\n            branch: values.branch,\n            accNo: values.accNo,\n            accName: values.accName,\n          },\n        })\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({\n                type: \"error\",\n                message: data.message,\n              });\n            }\n            if (business) {\n              setBusiness((prev) => ({ ...prev, business: data.data }));\n            } else {\n              setUser(data.data);\n            }\n            Prompt({\n              type: \"information\",\n              message: \"Updates have been saved.\",\n              ...(goNext && {\n                callback: () =>\n                  navigate(\n                    paths.dashboard.replace(\"*\", \"\") +\n                      paths.settings.baseUrl.replace(\"*\", \"\") +\n                      paths.settings.ownerDetails,\n                    { state: { next: true } }\n                  ),\n              }),\n            });\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <h3>Bank Detail</h3>\n      <Input\n        label=\"Bank Name\"\n        {...register(\"bankName\")}\n        error={errors.bankName}\n      />\n      <Input label=\"Branch\" {...register(\"branch\")} error={errors.branch} />\n      <Input label=\"Account No.\" {...register(\"accNo\")} error={errors.accNo} />\n      <Input\n        label=\"Account Name\"\n        {...register(\"accName\")}\n        error={errors.accName}\n      />\n\n      <div className=\"flex gap-1 justify-center\">\n        <button className=\"btn\" disabled={loading}>\n          Save Changes\n        </button>\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() => setGoNext(true)}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst OwnerDetails = ({ next }) => {\n  const { user, setUser, business, setBusiness } = useContext(SiteContext);\n  const [goNext, setGoNext] = useState(false);\n  const navigate = useNavigate();\n  const {\n    handleSubmit,\n    control,\n    register,\n    reset,\n    watch,\n    formState: { errors },\n  } = useForm();\n\n  const signature = watch(\"signature\");\n\n  const { put: updateOwnerDetails, loading } = useFetch(\n    business\n      ? endpoints.businesses + `/${business.business._id}`\n      : endpoints.companyProfile\n  );\n\n  useEffect(() => {\n    const client = business?.business || user;\n    reset({\n      ownerName: client?.ownerDetails?.name || \"\",\n      ownerPhone: client?.ownerDetails?.phone || \"\",\n      ownerEmail: client?.ownerDetails?.email || \"\",\n      signature: client?.ownerDetails?.signature\n        ? [client?.ownerDetails?.signature]\n        : [],\n    });\n  }, [user, business]);\n\n  return (\n    <form\n      className=\"grid gap-1\"\n      onSubmit={handleSubmit((values) => {\n        let signature = values.signature[0];\n\n        const formData = new FormData();\n\n        if (signature?.type) {\n          formData.append(`ownerSignature`, signature);\n        } else if (!signature) {\n          formData.append(`ownerDetails[signature]`, \"\");\n        }\n\n        formData.append(`ownerDetails[name]`, values.ownerName);\n        formData.append(`ownerDetails[phone]`, values.ownerPhone);\n        formData.append(`ownerDetails[email]`, values.ownerEmail);\n\n        updateOwnerDetails(formData)\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            if (business) {\n              setBusiness((prev) => ({ ...prev, business: data.data }));\n            } else {\n              setUser(data.data);\n            }\n            Prompt({\n              type: \"information\",\n              message: \"Updates have been saved.\",\n              ...(goNext && {\n                callback: () =>\n                  navigate(\n                    paths.dashboard.replace(\"*\", \"\") +\n                      paths.settings.baseUrl.replace(\"*\", \"\") +\n                      paths.settings.termsAndConditions,\n                    { state: { next: true } }\n                  ),\n              }),\n            });\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <h3>Owner Detail</h3>\n      <Input label=\"Name\" {...register(\"ownerName\")} error={errors.ownerName} />\n      <Input\n        label=\"Phone\"\n        {...register(\"ownerPhone\")}\n        error={errors.ownerPhone}\n      />\n      <Input\n        label=\"Email\"\n        {...register(\"ownerEmail\")}\n        error={errors.ownerEmail}\n      />\n      <FileInputNew\n        thumbnail\n        control={control}\n        name=\"signature\"\n        label=\"Signature\"\n        accept=\"image/*\"\n      />\n\n      <div className=\"flex gap-1 justify-center\">\n        <button className=\"btn\" disabled={loading}>\n          Save Changes\n        </button>\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() => setGoNext(true)}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst configSchema = yup.object({\n  nextInvoiceNo: yup\n    .number()\n    .min(1, \"Invoice Number can not be less than 1\")\n    .required()\n    .typeError(\"Enter a valid number\"),\n  nextSalesReturnNo: yup\n    .number()\n    .min(1, \"Sales return number can not be less than 1\")\n    .required()\n    .typeError(\"Enter a valid number\"),\n  nextPurchaseNo: yup\n    .number()\n    .min(1, \"Purchase Number can not be less than 1\")\n    .required()\n    .typeError(\"Enter a valid number\"),\n  nextPurchaseReturnNo: yup\n    .number()\n    .min(1, \"Purchase Return Number can not be less than 1\")\n    .required()\n    .typeError(\"Enter a valid number\"),\n  nextReceiptNo: yup\n    .number()\n    .min(1, \"Receipt Number can not be less than 1\")\n    .required()\n    .typeError(\"Enter a valid number\"),\n  nextJournalNo: yup\n    .number()\n    .min(1, \"Journal Number can not be less than 1\")\n    .required()\n    .typeError(\"Enter a valid number\"),\n  printCurrency: yup.string().max(3, \"Currency can only be 3 characters long\"),\n});\nconst Config = ({ next }) => {\n  const { config, setConfig } = useContext(SiteContext);\n  const [goNext, setGoNext] = useState(false);\n  const navigate = useNavigate();\n  const {\n    handleSubmit,\n    register,\n    reset,\n    control,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(configSchema),\n  });\n\n  const [unitsOfMeasure, setUnitOfMeasure] = useState([]);\n\n  const {\n    get: getConfig,\n    put: updateConfig,\n    loading,\n  } = useFetch(endpoints.userConfig);\n\n  useEffect(() => {\n    if (config) {\n      reset({\n        nextInvoiceNo: config.nextInvoiceNo,\n        nextSalesReturnNo: config.nextSalesReturnNo,\n        nextPurchaseNo: config.nextPurchaseNo,\n        nextPurchaseReturnNo: config.nextPurchaseReturnNo,\n        nextReceiptNo: config.nextReceiptNo,\n        nextJournalNo: config.nextJournalNo,\n        printQuoteCurrency:\n          config?.printQuote?.currency || config.print.currency,\n        printQuoteItemColumns:\n          config?.printQuote?.itemColumns || config.print.itemColumns,\n        printQuoteBusinessInfo: config.printQuote.businessInfo,\n        printCurrency: config.print.currency,\n        printItemColumns: config.print.itemColumns,\n        printInvoiceNoSuffix: config.print.invoiceNoSuffix,\n        printPurchaseNoSuffix: config.print.purchaseNoSuffix,\n        numberSeparator: config?.numberSeparator,\n      });\n      setUnitOfMeasure(config.unitsOfMeasure);\n    }\n  }, [config]);\n\n  useEffect(() => {\n    getConfig()\n      .then(({ data }) => {\n        if (!data.success) {\n          Prompt({\n            type: \"error\",\n            message: data.message,\n          });\n        }\n        setConfig(data.data);\n      })\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\n  }, []);\n\n  return (\n    <form\n      className=\"grid gap-1\"\n      onSubmit={handleSubmit((values) => {\n        updateConfig({\n          unitsOfMeasure,\n          nextInvoiceNo: values.nextInvoiceNo,\n          nextSalesReturnNo: values.nextSalesReturnNo,\n          nextPurchaseNo: values.nextPurchaseNo,\n          nextPurchaseReturnNo: values.nextPurchaseReturnNo,\n          nextReceiptNo: values.nextReceiptNo,\n          nextJournalNo: values.nextJournalNo,\n          numberSeparator: values.numberSeparator,\n          print: {\n            itemColumns: values.printItemColumns,\n            currency: values.printCurrency,\n            invoiceNoSuffix: values.printInvoiceNoSuffix,\n            purchaseNoSuffix: values.printPurchaseNoSuffix,\n          },\n          printQuote: {\n            itemColumns: values.printItemColumns,\n            currency: values.printCurrency,\n            businessInfo: values.printQuoteBusinessInfo,\n          },\n        })\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            setConfig(data.data);\n            Prompt({\n              type: \"information\",\n              message: \"Updates have been saved.\",\n              ...(goNext && {\n                callback: () =>\n                  navigate(\n                    paths.dashboard.replace(\"*\", \"\") +\n                      paths.settings.baseUrl.replace(\"*\", \"\") +\n                      paths.settings.siteConfig,\n                    { state: { next: true } }\n                  ),\n              }),\n            });\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n    >\n      <section className=\"unitsOfMeasure\">\n        <label>Units Of Measure</label>\n        <ul className=\"chips flex align-center\">\n          {unitsOfMeasure.map((unit, i) => (\n            <li className=\"chip\" key={i}>\n              <span>{unit}</span>\n              <button\n                type=\"button\"\n                className=\"clear\"\n                onClick={() =>\n                  setUnitOfMeasure((prev) => prev.filter((u) => u !== unit))\n                }\n              >\n                <FaTimes />\n              </button>\n            </li>\n          ))}\n          <li>\n            <UnitForm\n              onSuccess={(unit) => {\n                setUnitOfMeasure((prev) => [...new Set([...prev, unit])]);\n              }}\n            />\n          </li>\n        </ul>\n      </section>\n\n      <Input\n        label=\"Next Invoice Number\"\n        {...register(\"nextInvoiceNo\")}\n        error={errors.nextInvoiceNo}\n      />\n\n      <Input\n        label=\"Next Sales Return Number\"\n        {...register(\"nextSalesReturnNo\")}\n        error={errors.nextSalesReturnNo}\n      />\n\n      <Input\n        label=\"Next Purchase Number\"\n        {...register(\"nextPurchaseNo\")}\n        error={errors.nextPurchaseNo}\n      />\n\n      <Input\n        label=\"Next Purchase Return Number\"\n        {...register(\"nextPurchaseReturnNo\")}\n        error={errors.nextPurchaseReturnNo}\n      />\n\n      <Input\n        label=\"Next Receipt Number\"\n        {...register(\"nextReceiptNo\")}\n        error={errors.nextReceiptNo}\n      />\n\n      <Input\n        label=\"Next Journal Number\"\n        {...register(\"nextJournalNo\")}\n        error={errors.nextJournalNo}\n      />\n\n      <Input\n        label=\"Invoice No Suffix\"\n        {...register(\"printInvoiceNoSuffix\")}\n        error={errors.printInvoiceNoSuffix}\n      />\n\n      <Input\n        label=\"Purchase No Suffix\"\n        {...register(\"printPurchaseNoSuffix\")}\n        error={errors.printPurchaseNoSuffix}\n      />\n\n      <Input\n        label=\"Print Currency\"\n        {...register(\"printCurrency\")}\n        error={errors.printCurrency}\n      />\n\n      <Combobox\n        label=\"Number Separator\"\n        control={control}\n        name=\"numberSeparator\"\n        options={[\n          { label: \"Indian\", value: \"en-IN\" },\n          { label: \"US\", value: \"en-US\" },\n        ]}\n      />\n\n      <CustomRadio\n        control={control}\n        name=\"printItemColumns\"\n        className={s.itemColumnsRadio}\n        multiple\n        label=\"Print Items Columns\"\n        options={[\n          { label: \"No\", value: \"no\" },\n          { label: \"Product\", value: \"product\" },\n          { label: \"Qty\", value: \"qty\" },\n          { label: \"Unit\", value: \"unit\" },\n          { label: \"Total\", value: \"total\" },\n        ]}\n      />\n\n      <Input\n        label=\"Print Quote Currency\"\n        {...register(\"printQuoteCurrency\")}\n        error={errors.printQuoteCurrency}\n      />\n\n      <CustomRadio\n        control={control}\n        name=\"printQuoteItemColumns\"\n        className={s.itemColumnsRadio}\n        multiple\n        label=\"Print Quote Items Columns\"\n        options={[\n          { label: \"No\", value: \"no\" },\n          { label: \"Product\", value: \"product\" },\n          { label: \"Qty\", value: \"qty\" },\n          { label: \"Unit\", value: \"unit\" },\n          { label: \"Total\", value: \"total\" },\n        ]}\n      />\n\n      <CustomRadio\n        control={control}\n        name=\"printQuoteBusinessInfo\"\n        className={s.itemColumnsRadio}\n        multiple\n        label=\"Print Quote Business Information\"\n        options={[\n          { label: \"GSTIN\", value: \"gstin\" },\n          { label: \"PAN\", value: \"pan\" },\n          { label: \"IFSC\", value: \"ifsc\" },\n          { label: \"Bank Name\", value: \"bank\" },\n          { label: \"Branch Name\", value: \"branch\" },\n          { label: \"Account Number\", value: \"accountNumber\" },\n          { label: \"Address\", value: \"address\" },\n          { label: \"phone\", value: \"phone\" },\n          { label: \"email\", value: \"email\" },\n        ]}\n      />\n\n      <div className=\"flex gap-1 justify-center\">\n        <button className=\"btn\" disabled={loading}>\n          Save Changes\n        </button>\n        {next && (\n          <button\n            className=\"btn\"\n            disabled={loading}\n            onClick={() => setGoNext(true)}\n          >\n            Next\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nconst UnitForm = ({ onSuccess }) => {\n  const [unit, setUnit] = useState(\"\");\n  return (\n    <div className={s.unitForm}>\n      <Input value={unit} onChange={(e) => setUnit(e.target.value)} />\n      <button\n        type=\"button\"\n        className=\"btn\"\n        onClick={() => {\n          if (unit) {\n            onSuccess(unit);\n            setUnit(\"\");\n          }\n        }}\n      >\n        Add\n      </button>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"names":["Terms","terms","setTerms","useState","edit","setEdit","addTerm","setAddTerm","className","type","onClick","s","columns","label","map","item","i","actions","icon","Prompt","message","callback","prev","filter","product","toLowerCase","head","open","setOpen","TermForm","onSuccess","newTerm","t","termSchema","yup","term","required","useForm","resolver","useYup","handleSubmit","register","reset","errors","formState","formRef","useRef","useEffect","ref","onSubmit","values","error","next","useContext","SiteContext","user","setUser","business","setBusiness","goNext","setGoNext","navigate","useNavigate","useFetch","endpoints","_id","updateTerms","put","loading","client","then","data","success","paths","state","catch","err","disabled","LandingPageShelves","fields","shelves","onChange","value","addShelf","setAddShelf","title","productCount","productFilters","length","shelf","ShelfForm","newShelf","landingPageShelveSchema","min","typeError","control","watch","setValue","clearErrors","updateFilters","setUpdateFilters","submit","useCallback","Math","random","toString","substr","fieldName","filterType","SidebarFilters","includeValue","getValues","selectedFields","field","name","forEach","options","Object","entries","key","undefined","f","find","push","includes","fieldType","max","filterStyle","multiple","sortable","sort","a","b","findIndex","reverse","arr","order","dataType","formOptions","optionType","url","collection","getQuery","inputValue","selected","optionLabel","optionValue","handleData","RecommendationFilters","setForceRender","includeKey","oparator","reduce","p","k","v","FieldMapper","ComparisonFilters","FooterElements","updateItems","setUpdateItems","editItem","setEditItem","setErr","viewStyle","items","href","FooterElementForm","matches","files","placeholder","setOptions","getOptions","get","opt","productCollection","setProductCollection","productEelementOptions","setProductElementOptions","productPageEelementOptions","setProductPageElementOptions","updateSidebarFilters","setUpdateSidebarFilters","setUpdateShelves","updateFooterElements","setUpdateFooterElements","updateRecommendationFilters","setUpdateRecommendationFilters","updateComparisonFilters","setUpdateComparisonFilters","config","setConfig","updateConfig","editSection","setEditSection","getProductCollection","siteTitle","siteConfig","siteDescription","businessType","headerColor","theme","footerColor","elements","productCard","productViewElements","productViewPage","productElements","currency","sidebarFilters","browsePage","recommendationFilters","comparisonFilters","recommendationLimit","comparisonLimit","viewWhatsApp","viewAddToCart","viewLandingPage","landingPage","heroImages","hero","slides","viewHeroSection","landingPageShelves","footerElements","footer","sections","whatsapp","category","subcategory","query","relatedCollections","payload","section","condition","findProperties","path","obj","formData","FormData","append","JSON","stringify","file","thumbnail","inputType","style","margin","filters","Docs","docs","setDocs","addDoc","setAddDoc","remove","topic","urls","tokenCount","params","doc","DocForm","newDoc","docSchema","description","of","updateUrl","setUpdateUrl","setError","post","oldFiles","newFiles","Array","isArray","accept","e","target","_url","startsWith","getDocs","PageForm","pageSchema","test","replaceAll","replace","Form","step","setStep","tables","setTables","setData","getTables","getData","genPipeline","generatingPipeline","selectedTables","pipeline","module","table","console","log","selectedModule","parsed","tableRows","from","document","querySelector","querySelectorAll","el","id","generate","parse","onDecline","submodule","handle","width","gridTemplateColumns","localField","foreignField","ColumnForm","col","rec","format","baseTable","useMemo","parent","flat","fieldLabel","when","is","otherwise","parentTable","coll","some","addReport","setAddReport","editReport","setEditReport","reports","setReports","getReports","dltReport","deleting","report","businessInformationSchema","phone","email","domain","BusinessInformation","marker","setMarker","updateOwnerDetails","logo","motto","whatsappNumber","street","address","formatted","latlng","latitude","longitude","gstin","pan","ifsc","chatbotDomain","chatbot","favicon","split","lat","place","geometry","location","lng","BankDetail","bankName","bankDetails","branch","accNo","accName","updateBankDetail","OwnerDetails","ownerName","ownerDetails","ownerPhone","ownerEmail","signature","configSchema","nextInvoiceNo","nextSalesReturnNo","nextPurchaseNo","nextPurchaseReturnNo","nextReceiptNo","nextJournalNo","printCurrency","Config","unitsOfMeasure","setUnitOfMeasure","getConfig","printQuoteCurrency","printQuote","print","printQuoteItemColumns","itemColumns","printQuoteBusinessInfo","businessInfo","printItemColumns","printInvoiceNoSuffix","invoiceNoSuffix","printPurchaseNoSuffix","purchaseNoSuffix","numberSeparator","unit","u","UnitForm","Set","setUnit","setSidebarOpen","useLocation","fontSize","tabs","element"],"sourceRoot":""}