"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[97],{5097:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a=t(2982),r=t(885),s=t(2791),i=t(4581),l=t(5470),c=t(2202),o=t(8750),u={content:"purchases_content__3VLcr",purchases:"purchases_purchases__7Tvs4",addPurchaseForm:"purchases_addPurchaseForm__NK1Nf",purchaseDetail:"purchases_purchaseDetail__bUwX2",box:"purchases_box__W7jax",noContent:"purchases_noContent__AXX6e",items:"purchases_items__-5hWN",name:"purchases_name__C6dw3",itemForm:"purchases_itemForm__bHnfB",mainForm:"purchases_mainForm__zOZg9",detail:"purchases_detail__hh5kk",label:"purchases_label__biumE",viewOnly:"purchases_viewOnly__Mgy2A",print:"purchases_print__-ItQH",logo:"purchases_logo__dJWZ-",taxes:"purchases_taxes__DBPzC",totalAmount:"purchases_totalAmount__EQQqV",word:"purchases_word__fAZA0",digit:"purchases_digit__Hzb6x",sign:"purchases_sign__JgW-Y",signature:"purchases_signature__MLz7w",head:"purchases_head__vnsGS",date:"purchases_date__U4vu+",no:"purchases_no__+7AgT",vendor:"purchases_vendor__ScS+-",net:"purchases_net__9QxQC",actions:"purchases_actions__sE6TO",itemName:"purchases_itemName__eusYq"},d=t(5454),m=t(1080),p=t(1413),h=t(1134),x=t(1570),v=t(1146),f=t(184),b=function(e){var n=e.label,t=e.value;return(0,f.jsxs)("p",{className:u.detail,children:[(0,f.jsx)("span",{className:u.label,children:n}),":"," ",(0,f.jsx)("span",{className:u.value,children:t})]})},j=(0,s.forwardRef)((function(e,n){var t,c,o,d,m,h,x,v,j,_,g,N=e.purchase,y=e.user,D=(0,s.useContext)(i.D).config,S=(0,s.useState)(null),q=(0,r.Z)(S,2),C=q[0],Z=q[1];return(0,s.useEffect)((function(){if(null!==D&&void 0!==D&&D.print){var e=["no","product","qty","unit","total"],n=(0,a.Z)(D.print.itemColumns.sort((function(n,t){return e.indexOf(n)>e.indexOf(t)?1:-1})).filter((function(e){return!["no","product"].includes(e)})));Z({gridTemplateColumns:"".concat(D.print.itemColumns.includes("no")?"3rem":""," ").concat(D.print.itemColumns.includes("product")?42-6*n.length+"rem":""," repeat(auto-fit, minmax(86px, 1fr))")})}}),[N]),null!==D&&void 0!==D&&D.print?(0,f.jsxs)("div",{className:u.print,ref:n,children:[(0,f.jsxs)("header",{children:[y.logo&&(0,f.jsx)("img",{className:u.logo,src:y.logo}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:y.name}),y.motto&&(0,f.jsx)("p",{children:y.motto})]}),(0,f.jsx)("h4",{children:"Purchase Return"})]}),(0,f.jsxs)("div",{className:"".concat(u.info," flex wrap gap-1 mt-1"),children:[(0,f.jsxs)("div",{className:"".concat(u.box," flex-1"),children:[(0,f.jsx)("p",{children:"To:"}),(0,f.jsx)(b,{label:"Name",value:null===(t=N.accountingEntries)||void 0===t||null===(c=t[0])||void 0===c?void 0:c.accountName}),(0,f.jsx)(b,{label:"Detail",value:(null===(o=N.vendor)||void 0===o||null===(d=o.detail)||void 0===d?void 0:d.split("\n").map((function(e,n,t){return(0,f.jsxs)("span",{children:[e,t[n+1]&&(0,f.jsx)("br",{})]},n)})))||null})]}),(0,f.jsxs)("div",{className:"".concat(u.box," flex-1"),children:[(0,f.jsx)(b,{label:"Inv No",value:"".concat(N.no).concat((null===(m=D.print)||void 0===m?void 0:m.purchaseNoSuffix)||"")}),(0,f.jsx)(b,{label:"Date",value:(0,l._7)(null===N||void 0===N?void 0:N.date,"DD-MM-YYYY")}),(0,f.jsx)(b,{label:"GSTIN",value:y.gstin}),(0,f.jsx)(b,{label:"PAN",value:y.pan}),y.bankDetails&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b,{label:"Bank",value:y.bankDetails.bankName}),(0,f.jsx)(b,{label:"Branch",value:y.bankDetails.branch}),(0,f.jsx)(b,{label:"A/C No.",value:y.bankDetails.accNo})]}),(0,f.jsx)(b,{label:"IFSC",value:y.ifsc}),(0,f.jsx)(b,{label:"Address",value:(null===(h=y.address)||void 0===h?void 0:h.street)||""}),(0,f.jsx)(b,{label:"Phone",value:y.phone}),(0,f.jsx)(b,{label:"Email",value:y.email})]})]}),D.print.itemColumns.length>0&&(0,f.jsx)(l.iA,{className:"".concat(u.items," mt-1"),theadTrStyle:(0,p.Z)({},C),columns:D.print.itemColumns.map((function(e){return"no"===e?{label:"No"}:"product"===e?{label:"Product"}:"price"===e?{label:"Price",className:"text-right"}:"qty"===e?{label:"QTY",className:"text-right"}:"unit"===e?{label:"Unit"}:"total"===e?{label:"Total (".concat(D.print.currency,")"),className:"text-right"}:void 0})),children:N.items.map((function(e,n){return(0,f.jsxs)("tr",{style:(0,p.Z)({},C),children:[D.print.itemColumns.includes("no")&&(0,f.jsx)("td",{children:n+1}),D.print.itemColumns.includes("product")&&(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"ellipsis",children:e.name})}),D.print.itemColumns.includes("price")&&(0,f.jsx)("td",{className:"text-right",children:e.price.fix(2,null===D||void 0===D?void 0:D.numberSeparator)}),D.print.itemColumns.includes("qty")&&(0,f.jsx)("td",{className:"text-right",children:e.qty}),D.print.itemColumns.includes("unit")&&(0,f.jsx)("td",{children:e.unit}),D.print.itemColumns.includes("total")&&(0,f.jsx)("td",{className:"text-right",children:(e.price*e.qty).fix(2,null===D||void 0===D?void 0:D.numberSeparator)})]},n)}))}),N.gst&&(0,f.jsx)(l.iA,{className:"".concat(u.taxes," mt-1"),columns:[{label:"No."},{label:"Description of Tax"},{label:"Rate of Tax",className:"text-right"},{label:"Taxable Amount (".concat(D.print.currency,")"),className:"text-right"},{label:"Tax Amount (".concat(D.print.currency,")"),className:"text-right"}],children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:"1"}),(0,f.jsx)("td",{children:"Integrated GST"}),(0,f.jsx)("td",{className:"text-right",children:N.gst.fix(2,null===D||void 0===D?void 0:D.numberSeparator)}),(0,f.jsx)("td",{className:"text-right",children:N.items.reduce((function(e,n){return e+n.qty*n.price}),0).fix(2,null===D||void 0===D?void 0:D.numberSeparator)}),(0,f.jsx)("td",{className:"text-right",children:N.items.reduce((function(e,n){return e+n.qty*n.price}),0).percent(N.gst).fix(2,null===D||void 0===D?void 0:D.numberSeparator)})]})}),(0,f.jsxs)("div",{className:"".concat(u.totalAmount," mt-1"),children:[(0,f.jsxs)("p",{className:u.word,children:["Total:"," ",(N.items.reduce((function(e,n){return e+n.qty*n.price}),0)+N.items.reduce((function(e,n){return e+n.qty*n.price}),0).percent(N.gst||0)).toWords()]}),(0,f.jsx)("p",{className:u.digit,children:(N.items.reduce((function(e,n){return e+n.qty*n.price}),0)+N.items.reduce((function(e,n){return e+n.qty*n.price}),0).percent(N.gst||0)).fix(2,null===D||void 0===D?void 0:D.numberSeparator)})]}),((null===(x=y.terms)||void 0===x?void 0:x.length)||(null===(v=y.ownerDetails)||void 0===v?void 0:v.name))&&(0,f.jsxs)("footer",{className:"flex gap-1 align-end mt-1",children:[(null===(j=y.terms)||void 0===j?void 0:j.length)>0&&(0,f.jsxs)("div",{className:"".concat(u.box," flex-1 mb-2"),children:[(0,f.jsx)("strong",{children:"Terms & Conditions:"})," ",(0,f.jsx)("ol",{className:"ml-2 mt-1",children:null===(_=y.terms)||void 0===_?void 0:_.map((function(e,n){return(0,f.jsx)("li",{children:e},n)}))})]}),(null===(g=y.ownerDetails)||void 0===g?void 0:g.name)&&(0,f.jsxs)("div",{className:u.sign,children:[(0,f.jsxs)("p",{children:["For ",y.name]}),y.ownerDetails.signature&&(0,f.jsx)("img",{className:u.signature,src:y.ownerDetails.signature}),(0,f.jsx)("p",{children:(0,f.jsx)("strong",{children:y.ownerDetails.name})})]})]})]}):(0,f.jsx)("div",{className:u.print,ref:n,children:(0,f.jsx)("p",{children:"Please update print configuration in the settings."})})})),_=x.Ry({date:x.Z_().required(),gst:x.Rx().required().typeError("Enter a valid Number"),accountId:x.Z_().required(),vendorDetail:x.Z_().required()}),g=x.Ry({product_id:x.Z_().required(),product_name:x.Z_().required(),price:x.Rx().min(0,"Price can not be less than 0").required().typeError("Enter a valid Number"),qty:x.Rx().min(1,"Qty can not be less than 1").required().typeError("Enter a valid Number"),unit:x.Vo((function(e){switch(typeof e){case"object":return x.Ry().typeError("Select a unit").required();case"string":return x.Z_().required();default:return x.nK().required()}}))}),N=function(e){var n=e.label,t=e.value,a=e.className;return(0,f.jsxs)("p",{className:"".concat(u.detail," ").concat(a||""),children:[(0,f.jsxs)("span",{className:u.label,children:[n,":"]})," ",(0,f.jsx)("span",{className:u.value,children:t})]})},y=function(e){var n=e.location,t=e.edit,a=e.onSuccess,r=(0,s.useContext)(i.D).config,c=(0,h.cI)({defaultValues:{unit:"Piece"},resolver:(0,d.y)(g)}),o=c.handleSubmit,x=c.register,v=c.reset,b=(c.watch,c.setValue),j=c.control,_=c.formState.errors;return(0,s.useEffect)((function(){var e,n;v((0,p.Z)((0,p.Z)({},t),{},{product_id:(null===t||void 0===t||null===(e=t.product)||void 0===e?void 0:e._id)||"",product_name:(null===t||void 0===t||null===(n=t.product)||void 0===n?void 0:n.name)||""}))}),[t]),(0,f.jsxs)("form",{onSubmit:o((function(e){t||(e._id=Math.random().toString().substr(-8)),a((0,p.Z)((0,p.Z)({},e),{},{product:{_id:e.product_id,name:e.product_name}})),v()})),className:"".concat(u.itemForm," grid gap-1"),children:[(0,f.jsx)(l.OC,{control:j,url:m.Hv.inventoryMasters,getQuery:function(e){return{branch:n,isGroup:"false",name:e}},handleData:function(e){return{label:"".concat(e.name),value:e._id,account:e}},label:"Product",name:"product_id",formOptions:{required:!0},onChange:function(e){e&&b("product_name",e.label)},className:u.itemName}),(0,f.jsx)(l.II,(0,p.Z)((0,p.Z)({label:"Price",type:"number",required:!0},x("price")),{},{error:_.price})),(0,f.jsx)(l.II,(0,p.Z)((0,p.Z)({label:"Qty",type:"number",required:!0},x("qty")),{},{error:_.qty})),(0,f.jsx)(l.hQ,{label:"Unit",control:j,name:"unit",formOptions:{required:!0},options:null===r||void 0===r?void 0:r.unitsOfMeasure.map((function(e){return{label:e,value:e}}))}),(0,f.jsx)("button",{className:"btn",children:t?"Update":"Add"})]})},D=function(e){var n=e.location,t=e.disabled,a=e.edit,r=e.items,c=e.setErr,x=e.onSuccess,v=(0,s.useContext)(i.D).finPeriod,b=(0,h.cI)({resolver:(0,d.y)(_)}),j=b.handleSubmit,g=b.register,N=b.reset,y=b.setValue,D=b.control,S=b.formState.errors,q=(0,d.i)(m.Hv.purchaseReturns+"/".concat((null===a||void 0===a?void 0:a._id)||"")),C=q.post,Z=q.put,w=q.loading;return(0,s.useEffect)((function(){var e,n,t,r,s,i=null!==a&&void 0!==a&&a.dateTime?new Date(null===a||void 0===a?void 0:a.dateTime):new Date;v&&i<new Date(v.startDate)?i=v.startDate:v&&i>new Date(v.endDate)&&(i=v.endDate),N((0,p.Z)((0,p.Z)({},a),{},{date:(0,l._7)(i,"YYYY-MM-DD"),accountId:(null===a||void 0===a||null===(e=a.accountingEntries)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.accountId)||"",accountName:(null===a||void 0===a||null===(t=a.accountingEntries)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.accountName)||"",vendorDetail:(null===a||void 0===a||null===(s=a.vendor)||void 0===s?void 0:s.detail)||""}))}),[a]),(0,f.jsxs)("form",{onSubmit:j((function(e){if(r.length<1)return c("Add at least one item");(a?Z:C)({dateTime:e.date,gst:e.gst,accountId:e.accountId,accountName:e.accountName,branch:n,vendor:{detail:e.vendorDetail},items:r.map((function(e){return(0,p.Z)((0,p.Z)({},e),{},{_id:void 0})}))}).then((function(e){var n=e.data;if(!n.success)return(0,o.N)({type:"error",message:n.message});x(n.data)})).catch((function(e){return(0,o.N)({type:"error",message:e.message})}))})),className:"".concat(u.mainForm," grid gap-1"),children:[(0,f.jsx)(l.II,(0,p.Z)((0,p.Z)((0,p.Z)({label:"Date",type:"date"},v&&{min:(0,l._7)(v.startDate,"YYYY-MM-DD"),max:(0,l._7)(v.endDate,"YYYY-MM-DD")}),g("date")),{},{required:!0,error:S.date})),(0,f.jsx)(l.II,(0,p.Z)((0,p.Z)({label:"GST %",type:"number",required:!0},g("gst")),{},{error:S.gst})),(0,f.jsx)("div",{className:"all-columns",children:(0,f.jsx)("h3",{children:"Account Information"})}),(0,f.jsx)(l.OC,{label:"Supplier Account",control:D,name:"accountId",formOptions:{required:!0},url:m.Hv.accountingMasters,getQuery:function(e){return{types:"Cash,Bank,Suppliers",isGroup:"false",name:e}},handleData:function(e){return{label:"".concat(e.name).concat(e.type?" - ".concat(e.type):""),value:e._id,account:e}},onChange:function(e){var n;y("accountName",null===(n=e.account)||void 0===n?void 0:n.name)}}),(0,f.jsx)(l.gx,(0,p.Z)((0,p.Z)({label:"Detail"},g("vendorDetail")),{},{required:!0,error:S.vendorDetail})),(0,f.jsx)("div",{className:"btns",children:(0,f.jsx)("button",{className:"btn",disabled:t||w,children:a?"Update":"Submit"})})]})},S=function(e){var n,t,d,p,x,b=e.edit,_=e.purchases,g=e.onSuccess,S=(0,s.useContext)(i.D),q=S.user,C=S.config,Z=S.checkPermission,w=(0,h.cI)(),I=w.control,A=w.watch,T=w.reset,Y=(0,s.useState)(!!b),k=(0,r.Z)(Y,2),P=k[0],E=k[1],O=(0,s.useState)((null===b||void 0===b?void 0:b.items)||[]),M=(0,r.Z)(O,2),R=M[0],F=M[1],Q=(0,s.useState)(null),H=(0,r.Z)(Q,2),V=H[0],B=H[1],G=(0,s.useState)(null),U=(0,r.Z)(G,2),z=U[0],W=U[1],K=(0,s.useRef)(),X=(0,v.useReactToPrint)({content:function(){return K.current}}),J=A("branch");return(0,s.useEffect)((function(){T({branch:(null===b||void 0===b?void 0:b.branch)||""})}),[b]),(0,f.jsxs)("div",{className:"grid gap-1 p-1 ".concat(u.addPurchaseForm," ").concat(P?u.viewOnly:""),children:[P&&(0,f.jsxs)("div",{className:"flex wrap gap-1 ".concat(u.purchaseDetail),children:[(0,f.jsxs)("div",{className:"flex gap-1 all-columns justify-end align-center",children:[Z("purchase_update")&&(0,f.jsx)("button",{className:"btn",onClick:function(){return E(!1)},children:"Edit"}),(0,f.jsx)("button",{className:"btn",onClick:X,children:"Print"})]}),(0,f.jsxs)("div",{className:u.box,children:[(0,f.jsx)("h3",{children:"Account Information"}),(0,f.jsx)(N,{label:"Name",value:null===(n=b.accountingEntries)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.accountName}),(0,f.jsx)(N,{label:"Detail",value:(null===(d=b.vendor)||void 0===d||null===(p=d.detail)||void 0===p?void 0:p.split("\n").map((function(e,n,t){return(0,f.jsxs)("span",{children:[e,t[n+1]&&(0,f.jsx)("br",{})]},n)})))||null})]}),(0,f.jsxs)("div",{className:u.box,children:[(0,f.jsx)("h3",{children:"Purchase Information"}),(0,f.jsx)(N,{label:"Inv No",className:"flex justify-space-between",value:"".concat(b.no).concat((null===C||void 0===C||null===(x=C.print)||void 0===x?void 0:x.purchaseNoSuffix)||"")}),(0,f.jsx)(N,{className:"flex justify-space-between",label:"Date",value:(0,l._7)(null===b||void 0===b?void 0:b.dateTime,"DD-MM-YYYY")}),(0,f.jsx)(N,{label:"Gross",value:b.items.reduce((function(e,n){return e+n.qty*n.price}),0).fix(2,null===C||void 0===C?void 0:C.numberSeparator),className:"flex justify-space-between"}),(0,f.jsx)(N,{label:"GST",value:b.items.reduce((function(e,n){return e+n.qty*n.price}),0).percent((null===b||void 0===b?void 0:b.gst)||0).fix(2,null===C||void 0===C?void 0:C.numberSeparator),className:"flex justify-space-between"}),(0,f.jsx)(N,{label:"Total",value:(b.items.reduce((function(e,n){return e+n.qty*n.price}),0)+b.items.reduce((function(e,n){return e+n.qty*n.price}),0).percent(b.gst)).fix(2,null===C||void 0===C?void 0:C.numberSeparator),className:"flex justify-space-between"})]})]}),!P&&(0,f.jsx)(l.OC,{label:"Branch",control:I,name:"branch",formOptions:{required:!0},url:m.Hv.inventoryBranches,getQuery:function(e){return{name:e}},handleData:function(e){return{label:"".concat(e.name),value:e._id}}}),(0,f.jsx)("h3",{children:"Items"}),R.length>0?(0,f.jsx)(l.iA,{className:u.items,columns:[{label:"Product"},{label:"Qty",className:"text-right"},{label:"Unit"},{label:"Rate",className:"text-right"},{label:"Total",className:"text-right"}].concat((0,a.Z)(P?[]:[{label:"Action",action:!0}])),children:R.map((function(e,n){var t;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:u.name,children:(0,f.jsx)("span",{className:"ellipsis",children:null===(t=e.product)||void 0===t?void 0:t.name})}),(0,f.jsx)("td",{className:"text-right",children:e.qty}),(0,f.jsx)("td",{children:e.unit}),(0,f.jsx)("td",{className:"text-right",children:e.price.fix(2,null===C||void 0===C?void 0:C.numberSeparator)}),(0,f.jsx)("td",{className:"text-right",children:(e.price*e.qty).fix(2,null===C||void 0===C?void 0:C.numberSeparator)}),!P&&(0,f.jsx)(l.p2,{actions:[{icon:(0,f.jsx)(c.KHI,{}),label:"Edit",onClick:function(){return B(e)}},{icon:(0,f.jsx)(c.lp8,{}),label:"Delete",onClick:function(){return(0,o.N)({type:"confirmation",message:"Are you sure you want to remove this Item?",callback:function(){F((function(n){return n.filter((function(n){return n._id!==e._id}))}))}})}}]})]},n)}))}):(0,f.jsx)("p",{className:u.noContent,children:"No items yet."}),z&&(0,f.jsx)("p",{className:"error",children:z}),b&&(0,f.jsx)("div",{style:{display:"none"},children:(0,f.jsx)(j,{ref:K,purchase:b,user:q})}),!P&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y,{location:J,edit:V,onSuccess:function(e){W(null),V?(F((function(n){return n.map((function(n){return n._id===e._id?e:n}))})),B(null)):F((function(n){return[].concat((0,a.Z)(n),[e])}))}},V?"edit":"add"),(0,f.jsx)("h3",{className:"mt-1",children:"Other Information"}),(0,f.jsx)(D,{location:J,disabled:V,edit:b,items:R,purchases:_,setErr:W,onSuccess:g,setViewOnly:E})]})]})},q=t(5804),C=t(657),Z=function(e){var n=e.setSidebarOpen,t=(0,s.useContext)(i.D),p=t.config,h=t.checkPermission,x=(0,s.useState)([]),v=(0,r.Z)(x,2),b=v[0],j=v[1],_=(0,s.useState)(null),g=(0,r.Z)(_,2),N=g[0],y=g[1],D=(0,s.useState)(!1),Z=(0,r.Z)(D,2),w=Z[0],I=Z[1],A=(0,d.i)(m.Hv.purchaseReturns),T=A.get,Y=A.loading,k=(0,d.i)(m.Hv.purchaseReturns+"/{ID}").remove;return(0,s.useEffect)((function(){T().then((function(e){var n=e.data;if(n.success)return j(n.data)})).catch((function(e){return(0,o.N)({type:"error",message:e.message})}))}),[]),(0,f.jsxs)("div",{className:"".concat(u.content," grid gap-1 m-a"),children:[(0,f.jsx)("div",{className:"flex ".concat(u.head),children:(0,f.jsxs)("div",{className:"flex align-center pointer gap_5  ml-1",onClick:function(){return n((function(e){return!e}))},children:[(0,f.jsx)(q.Ps6,{style:{fontSize:"1.75rem"}}),(0,f.jsx)("h2",{children:"All Purchase Returns"}),h("purchase_create")&&(0,f.jsx)("button",{className:"btn clear iconOnly",onClick:function(e){e.stopPropagation(),I(!0)},children:(0,f.jsx)(C.ueT,{})})]})}),(0,f.jsx)(l.iA,{loading:Y,className:u.purchases,columns:[{label:"No."},{label:"Date"},{label:"Account"},{label:"Net Amount",className:"text-right"},{label:"Action"}],children:b.map((function(e){var n,t,r;return(0,f.jsxs)("tr",{onClick:function(){y(e),I(!0)},style:{cursor:"pointer"},children:[(0,f.jsxs)("td",{className:u.no,children:[e.no,(null===p||void 0===p||null===(n=p.print)||void 0===n?void 0:n.purchaseNoSuffix)||""]}),(0,f.jsx)("td",{className:u.date,children:(0,f.jsx)(l.W7,{format:"DD/MM/YYYY",children:e.dateTime})}),(0,f.jsx)("td",{className:u.vendor,children:null===(t=e.accountingEntries)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.accountName}),(0,f.jsx)("td",{className:"text-right ".concat(u.net),children:(e.items.reduce((function(e,n){return e+n.qty*n.price}),0)+e.items.reduce((function(e,n){return e+n.qty*n.price}),0).percent(e.gst)).fix(2,null===p||void 0===p?void 0:p.numberSeparator)}),(0,f.jsx)(l.p2,{className:u.actions,actions:[{icon:(0,f.jsx)(c.z5B,{}),label:"View",onClick:function(){y(e),I(!0)}}].concat((0,a.Z)(h("purchase_delete")?[{icon:(0,f.jsx)(c.lp8,{}),label:"Delete",onClick:function(){return(0,o.N)({type:"confirmation",message:"Are you sure you want to remove this purchase?",callback:function(){k({},{params:{"{ID}":e._id}}).then((function(n){var t=n.data;t.success?j((function(n){return n.filter((function(n){return n._id!==e._id}))})):(0,o.N)({type:"error",message:t.message})}))}})}}]:[]))})]},e._id)}))}),(0,f.jsx)(o.u,{open:w,head:!0,label:"".concat(N?"View / Update":"Add"," Purchase Return"),className:u.addPurchaseFormModal,setOpen:function(){y(null),I(!1)},children:(0,f.jsx)(S,{edit:N,purchases:b,onSuccess:function(e){N?(j((function(n){return n.map((function(n){return n._id===e._id?e:n}))})),y(null)):j((function(n){return[].concat((0,a.Z)(n),[e])})),I(!1)}})})]})}}}]);
//# sourceMappingURL=97.424f346a.chunk.js.map