"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[594],{1594:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});var n=l(2982),t=l(885),i=l(2791),r=l(5454),o=l(8750),s=l(1080),c=l(3806),u=l(2202),d={content:"payments_content__lvXmR",payments:"payments_payments__wV5Dg",addCollectionForm:"payments_addCollectionForm__28bs1",purchaseDetail:"payments_purchaseDetail__Yg2AY",box:"payments_box__E73zD",noContent:"payments_noContent__z+hmY",items:"payments_items__WjMPE",name:"payments_name__fDmE2",optionsWrapper:"payments_optionsWrapper__wJhtp",options:"payments_options__SXjtq",mainForm:"payments_mainForm__Rpdqr",detail:"payments_detail__L3Vfb",label:"payments_label__Xz12i",viewOnly:"payments_viewOnly__e4CvL",collectionFormModal:"payments_collectionFormModal__qVc5K",dynamicForm:"payments_dynamicForm__SPsYq",productVariants:"payments_productVariants__xcEQz",images:"payments_images__eNpsO",selected:"payments_selected__7ucJp",products:"payments_products__Oitkp",product:"payments_product__3z-Vm",thumbnail:"payments_thumbnail__bmU3B",productDetail:"payments_productDetail__olhXW",price:"payments_price__Jeuo2",subtotal:"payments_subtotal__6dlas",variantForm:"payments_variantForm__ECbOZ",variantImages:"payments_variantImages__T9OTn",fieldFormWrapper:"payments_fieldFormWrapper__zKCxz",dataDetail:"payments_dataDetail__r8vM+",inputDetail:"payments_inputDetail__fl5sa",fieldForm:"payments_fieldForm__CXi5z",fields:"payments_fields__hgENr",nestedObjectFormModal:"payments_nestedObjectFormModal__FFT5-",dynamicFormModal:"payments_dynamicFormModal__Il9vH"},m=l(1413),p=l(1134),b=l(1570),f=l(184);b.kM(b.Z_,"noneOf",(function(e,a){return this.test("noneOf",a,(function(l){var n=this.path,t=this.createError;return!e.includes(l)||t({path:n,message:(null===a||void 0===a?void 0:a.replace("{value}",l))||a})}))}));var y=b.Ry({name:b.Z_().required()}),v=b.Ry({label:b.Z_().required(),value:b.Z_().required()}),h=["title","description","images","price","whatsappNumber","category","subcategory"],x=function(e){var a,l,o,s=e.edit,u=e.fields,y=e.editCollection,v=e.collections,x=e.onSuccess,g=e.clear,T=(0,p.cI)({resolver:(0,r.y)(b.Ry({name:b.Z_().noneOf(u.filter((function(e){return!s||s.name!==e.name})).map((function(e){return e.name})),"{value} already exists").required(),dataType:b.Z_().required(),label:b.Z_().required(),fieldType:b.Z_(),inputType:b.Z_(),required:b.O7()}))}),N=T.handleSubmit,F=T.register,Z=T.reset,C=T.watch,S=T.setValue,q=(T.clearErrors,T.control),O=T.formState.errors,D=C("name"),I=C("inputType"),w=C("dataType"),A=C("dataElementType"),E=C("fields"),k=C("collection"),P=C("fieldType"),L=C("optionType"),R=C("options"),V=C("label"),M=C("multiple"),Q=(0,i.useCallback)((function(e){if("Product"===(null===y||void 0===y?void 0:y.name)){var a={};Object.entries(e).forEach((function(e){var l=(0,t.Z)(e,2),n=l[0],i=l[1];("subcategory"===n&&!h.filter((function(e){return"subcategory"!==e})).includes(n)||"subcategory"!==n)&&(a[n]=i)})),x(a)}else x(e);Z({category:"",subcategory:"",name:"",inputType:"",dataType:"",dataElementType:"",dataElements:"",collection:"",fieldType:"",optionType:"",options:[],multiRange:"",label:"",required:"",decimalPlaces:"",unique:""})}),[s]);return(0,i.useEffect)((function(){Z((0,m.Z)({},s))}),[s]),(0,f.jsxs)("div",{className:d.fieldFormWrapper,children:[(0,f.jsxs)("div",{className:d.dataDetail,children:[(0,f.jsxs)("form",{onSubmit:N(Q),className:"".concat(d.fieldForm," grid gap-1"),children:[(0,f.jsxs)("div",{className:"flex all-columns gap-1 justify-space-between align-center",children:[(0,f.jsx)("h3",{children:"Data"}),(0,f.jsx)(c.XZ,(0,m.Z)((0,m.Z)({},F("unique")),{},{label:"Unique"}))]}),(0,f.jsx)(c.II,(0,m.Z)((0,m.Z)({label:"Field Name",type:"text",required:!0,disabled:s},F("name")),{},{error:O.name})),(0,f.jsx)(c.hQ,{label:"Data Type",name:"dataType",control:q,formOptions:{required:!0},options:[{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Date",value:"date"},{label:"Boolean",value:"boolean"},{label:"Array",value:"array"},{label:"Variant Array",value:"variantArray"},{label:"Object",value:"object"},{label:"Object ID",value:"objectId"}],disabled:s||M||"richText"===P}),"objectId"===w&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.OC,{control:q,label:"Collection",options:v.filter((function(e){return e._id!==(null===y||void 0===y?void 0:y._id)})).map((function(e){return{label:e.name,value:e.name}})),name:"collection",formOptions:{required:!0},className:d.itemName}),k&&(0,f.jsx)(c.hQ,{label:"Foreign Field",name:"foreignField",control:q,formOptions:{required:!0},options:[{label:"ID",value:"_id"}].concat((0,n.Z)((null===(a=v.find((function(e){return e.name===k})))||void 0===a?void 0:a.fields.map((function(e){return{label:e.label,value:e.name}})))||[]))})]}),["array","variantArray"].includes(w)&&(0,f.jsx)(c.hQ,{label:"Data Element Type",name:"dataElementType",control:q,formOptions:{required:!0},options:[{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Date",value:"date"},{label:"Object",value:"object"}]})]}),["array","variantArray"].includes(w)&&"object"===A&&(0,f.jsx)(_,{name:V||D,value:E,setValue:function(e){return S("fields",e)},collection:y,collections:v})]}),(0,f.jsxs)("div",{className:d.inputDetail,children:[(0,f.jsxs)("form",{onSubmit:N(Q),className:"".concat(d.fieldForm," grid gap-1"),children:[(0,f.jsxs)("div",{className:"flex all-columns justify-space-between align-center",children:[(0,f.jsx)("h3",{className:"all-columns",children:"Input Field"}),(0,f.jsx)(c.XZ,(0,m.Z)((0,m.Z)({},F("required")),{},{label:"Required"}))]}),(0,f.jsx)(c.II,(0,m.Z)((0,m.Z)({label:"Label",type:"text",required:!0},F("label")),{},{error:O.label})),!(["array","variantArray"].includes(w)&&"object"===A)&&(0,f.jsx)(c.hQ,{label:"Field Type",name:"fieldType",control:q,formOptions:{required:!0},options:[{label:"Input",value:"input"},{label:"Textarea",value:"textarea"},{label:"Rich Text",value:"richText"},{label:"Combobox",value:"combobox"},{label:"Autocomplete",value:"select"},{label:"Date Range",value:"dateRange"},{label:"Collection Filter",value:"collectionFilter"},{label:"None",value:"none"}],onChange:function(e){"richText"===(null===e||void 0===e?void 0:e.value)&&S("dataType","object")}}),!(["combobox","textarea","richText","collectionFilter","none"].includes(P)||["array","variantArray"].includes(w)&&"object"===A||["includeProducts","excludeProducts"].includes(D)&&"object"===w)&&(0,f.jsx)(c.hQ,{label:"Input Type",name:"inputType",control:q,options:"dateRange"===P?[{label:"Calendar",value:"calendar"}]:[{label:"Text",value:"text"},{label:"Number",value:"number"}].concat((0,n.Z)("select"!==P?[{label:"Phone Number",value:"phone"},{label:"Date",value:"date"},{label:"File",value:"file"},{label:"Calendar",value:"calendar"},{label:"Password",value:"password"}]:[]))}),"number"===I&&(0,f.jsx)(c.hQ,{label:"Decimal Places",name:"decimalPlaces",control:q,options:[{label:"1",value:"0"},{label:"1.0",value:"0.0"},{label:"1.00",value:"0.00"},{label:"1.000",value:"0.000"},{label:"1.0000",value:"0.0000"},{label:"1.00000",value:"0.00000"}]}),["combobox","select"].includes(P)&&(0,f.jsx)(c.hQ,{label:"Options type",name:"optionType",control:q,formOptions:{required:!0},options:[{label:"Predefined",value:"array"},{label:"Other Collection",value:"collection",disabled:"combobox"===P}]}),["collection"].includes(L)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.OC,{control:q,label:"Collection",options:v.filter((function(e){return e._id!==(null===y||void 0===y?void 0:y._id)})).map((function(e){return{label:e.name,value:e.name}})),name:"collection",formOptions:{required:!0},className:d.itemName}),k&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.hQ,{label:"Option Label",name:"optionLabel",control:q,formOptions:{required:!0},options:[{label:"ID",value:"_id"}].concat((0,n.Z)((null===(l=v.find((function(e){return e.name===k})))||void 0===l?void 0:l.fields.map((function(e){return{label:e.label,value:e.name}})))||[]))}),(0,f.jsx)(c.hQ,{label:"Option Value",name:"optionValue",control:q,formOptions:{required:!0},options:[{label:"ID",value:"_id"}].concat((0,n.Z)((null===(o=v.find((function(e){return e.name===k})))||void 0===o?void 0:o.fields.map((function(e){return{label:e.label,value:e.name}})))||[]))})]})]})]}),["combobox","select"].includes(P)&&"array"===L&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h3",{children:[V," Options"]}),(0,f.jsx)(j,{dataType:w,options:R,setOptions:function(e){return S("options",e)}})]}),(0,f.jsxs)("form",{onSubmit:N(Q),className:"".concat(d.fieldForm," grid gap-1"),children:[(["file"].includes(I)||["select","combobox"].includes(P))&&(0,f.jsx)(c.XZ,(0,m.Z)((0,m.Z)({},F("multiple")),{},{label:"Multiple",onChange:function(e){e.target.checked&&(S("dataType","array"),S("dataElementType","string"))}})),"calendar"===I&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.hQ,{label:"Date Window",name:"dateWindow",control:q,options:[{label:"All time",value:"allTime"},{label:"Past including Today",value:"pastIncludingToday"},{label:"Past excluding Today",value:"pastExcludingToday"},{label:"Future including Today",value:"futureIncludingToday"},{label:"Future excluding Today",value:"futureExcludingToday"}]}),(0,f.jsx)(c.hQ,{label:"Multiple Range",name:"multipleRanges",control:q,options:[{label:"Yes",value:!0},{label:"No",value:!1}]})]})]}),(0,f.jsxs)("form",{onSubmit:N(Q),className:"flex gap-1 justify-center",children:[s&&(0,f.jsx)("button",{className:"btn",type:"button",onClick:g,children:"Clear"}),(0,f.jsxs)("button",{className:"btn",children:[s?"Update":"Add"," Field"]})]})]})]})},_=function(e){var a=e.name,l=e.value,r=void 0===l?[]:l,s=e.setValue,m=e.collection,p=e.collections,b=(0,i.useState)(null),y=(0,t.Z)(b,2),v=y[0],h=y[1],_=(0,i.useState)(null),j=(0,t.Z)(_,2),g=j[0],T=j[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex justify-space-between align-center",children:[(0,f.jsxs)("h3",{children:[a," Fields"]}),(0,f.jsxs)("button",{className:"btn",onClick:function(){return T(!0)},children:["Add ",a," Field"]})]}),(0,f.jsx)(c.iA,{className:d.fields,columns:[{label:"Name"},{label:"Data Type"},{label:"Label"},{label:"Field Type"},{label:"Input Type"},{label:"Required"},{label:"Action",action:!0}],placeholder:"No fields yet.",children:r.map((function(e,a){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"ellipsis",children:e.name})}),(0,f.jsx)("td",{children:e.dataType}),(0,f.jsx)("td",{children:e.label}),(0,f.jsx)("td",{children:e.fieldType}),(0,f.jsx)("td",{children:e.inputType}),(0,f.jsx)("td",{children:e.required?"Yes":"No"}),(0,f.jsx)(c.p2,{actions:[{icon:(0,f.jsx)(u.KHI,{}),label:"Edit",callBack:function(){h(e),T(!0)}},{icon:(0,f.jsx)(u.lp8,{}),label:"Delete",callBack:function(){return(0,o.N)({type:"confirmation",message:"Are you sure you want to remove this Field?",callback:function(){s(r.filter((function(a){return a.name!==e.name})))}})}}]})]},a)}))}),(0,f.jsx)(o.u,{head:!0,label:"".concat(v?"Update":"Add"," ").concat(a," Field"),open:g,setOpen:function(){T(!1),h(null)},className:d.nestedObjectFormModal,children:(0,f.jsx)(x,{edit:v,fields:r,editCollection:m,collections:p,onSuccess:function(e){v?(s(r.map((function(a){return a.name.toLowerCase()===e.name.toLowerCase()?e:a}))),h(null)):s([].concat((0,n.Z)(r),[e])),T(!1)},clear:function(){return h(null)}},v?"edit":"add")})]})},j=function(e){var a=e.dataType,l=e.options,r=e.setOptions,s=(0,i.useState)(null),m=(0,t.Z)(s,2),p=m[0],b=m[1];return(0,f.jsx)("section",{className:d.optionsWrapper,children:(0,f.jsxs)(c.iA,{className:"".concat(d.options),columns:[{label:"Label"},{label:"Value"},{label:"Action"}],children:[(0,f.jsx)("tr",{className:"inlineForm",children:(0,f.jsx)("td",{children:(0,f.jsx)(g,{dataType:a,edit:p,onSuccess:function(e){r(p?(l||[]).map((function(a){return a._id===e._id?e:a})):[e].concat((0,n.Z)(l||[]))),b(null)},clearForm:function(){return b(null)}})})}),null===l||void 0===l?void 0:l.map((function(e,a){var n;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.label}),(0,f.jsx)("td",{children:null===(n=e.value)||void 0===n?void 0:n.toString()}),(0,f.jsx)(c.p2,{actions:[{icon:(0,f.jsx)(u.KHI,{}),label:"Edit",callBack:function(){b(e)}},{icon:(0,f.jsx)(u.lp8,{}),label:"Delete",callBack:function(){return(0,o.N)({type:"confirmation",message:"Are you sure you want to remove this Option?",callback:function(){r((l||[]).filter((function(a){return a._id!==e._id})))}})}}]})]},a)}))]})})},g=function(e){var a=e.dataType,l=e.edit,n=e.onSuccess,t=e.clearForm,o=(0,p.cI)({resolver:(0,r.y)(v)}),s=o.handleSubmit,d=o.register,b=o.formState.errors,y=o.reset;return(0,i.useEffect)((function(){y({label:(null===l||void 0===l?void 0:l.label)||"",value:(null===l||void 0===l?void 0:l.value)||""})}),[l]),(0,f.jsxs)("form",{onSubmit:s((function(e){"boolean"===a?e.value=["1",1,"true"].includes(e.value.toLowerCase()):"number"===a&&(e.value=+e.value),n((0,m.Z)((0,m.Z)({},e),{},{_id:(null===l||void 0===l?void 0:l._id)||Math.random().toString(36).substr(-8)})),y()})),children:[(0,f.jsx)(c.II,(0,m.Z)((0,m.Z)({},d("label")),{},{placeholder:"Label",error:b.label})),(0,f.jsx)(c.II,(0,m.Z)((0,m.Z)({},d("value")),{},{placeholder:"Value",error:b.value})),(0,f.jsxs)("section",{className:"btns",children:[(0,f.jsx)("button",{className:"btn clear border iconOnly",type:"submit",children:l?(0,f.jsx)(u.l_A,{}):(0,f.jsx)(u.wEH,{})}),l&&(0,f.jsx)("button",{className:"btn clear border iconOnly",type:"button",onClick:function(){t()},children:(0,f.jsx)(u.aHS,{})})]})]})},T=function(e){var a=e.edit,l=e.collections,b=e.onSuccess,v=(0,i.useState)((null===a||void 0===a?void 0:a.fields)||[{name:"title",required:!0,label:"Title",dataType:"string",fieldType:"input",inputType:"text"},{name:"description",inputType:"text",dataType:"string",fieldType:"textarea",label:"Description",required:!0},{name:"images",required:!0,label:"Images",dataType:"array",fieldType:"input",inputType:"file",dataElementType:"string",multiple:!0},{name:"price",inputType:"number",dataType:"number",fieldType:"input",label:"Price",required:!0,decimalPlaces:"0.00"},{name:"whatsappNumber",required:!0,label:"WhatsApp",dataType:"string",fieldType:"input",inputType:"phone"}]),h=(0,t.Z)(v,2),_=h[0],j=h[1],g=(0,i.useState)(null),T=(0,t.Z)(g,2),N=T[0],F=T[1],Z=(0,i.useState)(null),C=(0,t.Z)(Z,2),S=C[0],q=C[1],O=(0,p.cI)({resolver:(0,r.y)(y)}),D=O.handleSubmit,I=O.register,w=O.reset,A=O.control,E=O.watch,k=O.setValue,P=O.clearErrors,L=O.formState.errors,R=O.setError,V=(0,r.i)(s.Hv.adSchemas+"/".concat((null===a||void 0===a?void 0:a._id)||"")),M=V.post,Q=V.put,H=(V.loading,E("name")),W=E("category"),B=(0,i.useCallback)((function(e){if(!e.name&&H&&(e.name=H),!e.category&&W&&(e.category=W),e.name){if(e.category)return _.length<1?q("Add at least one field"):_.find((function(e){return"images"===e.name}))?_.find((function(e){return"title"===e.name}))?_.find((function(e){return"price"===e.name}))?_.find((function(e){return"whatsappNumber"===e.name}))?void(a?Q:M)({name:e.name,category:e.category,fields:_.map((function(e){return(0,m.Z)((0,m.Z)({},e),{},{_id:void 0})}))}).then((function(e){var a=e.data;if(!a.success)return(0,o.N)({type:"error",message:a.message});b(a.data)})).catch((function(e){return(0,o.N)({type:"error",message:e.message})})):q('"whatsappNumber" is a required field'):q('"price" is a required field'):q('"title" is a required field'):q('"images" is a required field');R("category",{type:"required",message:"Category is required"})}else R("name",{type:"required",message:"Subcategory name is required"})}),[_,H,W]);return(0,i.useEffect)((function(){_.length>0&&JSON.stringify(_)!==JSON.stringify((null===a||void 0===a?void 0:a.fields)||[])&&B({name:(null===a||void 0===a?void 0:a.name)||""})}),[_,a]),(0,i.useEffect)((function(){w((0,m.Z)({},a))}),[a]),(0,f.jsxs)("div",{className:"grid gap-1 p-1 ".concat(d.addCollectionForm),children:[(0,f.jsxs)("form",{onSubmit:D(B),className:"".concat(d.mainForm," grid gap-1"),children:[(0,f.jsx)(c.OC,{disabled:null===a||void 0===a?void 0:a._id,label:"Category",control:A,url:s.Hv.adminDynamic+"/Category",getQuery:function(e,a){return(0,m.Z)({},e&&{name:[e].concat((0,n.Z)(a||[]))})},handleData:function(e){return{label:e.name,value:e.name}},name:"category",onChange:function(e){k("category",e.value),P("category")},formOptions:{required:!0}}),(0,f.jsx)(c.II,(0,m.Z)((0,m.Z)({label:"Subcategory name",type:"text"},I("name")),{},{required:!0,readOnly:a,error:L.name}))]}),(0,f.jsx)("h3",{children:"Fields"}),(0,f.jsx)(c.iA,{className:d.fields,columns:[{label:"Name"}].concat((0,n.Z)("Product"===(null===a||void 0===a?void 0:a.name)?[{label:"Subcategory"}]:[]),[{label:"Data Type"},{label:"Label"},{label:"Field Type"},{label:"Input Type"},{label:"Required"},{label:"Action",action:!0}]),placeholder:"No fields yet.",children:_.map((function(e,l){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"ellipsis",children:e.name})}),"Product"===(null===a||void 0===a?void 0:a.name)&&(0,f.jsx)("td",{children:e.subcategory}),(0,f.jsx)("td",{children:e.dataType}),(0,f.jsx)("td",{children:e.label}),(0,f.jsx)("td",{children:e.fieldType}),(0,f.jsx)("td",{children:e.inputType}),(0,f.jsx)("td",{children:e.required?"Yes":"No"}),(0,f.jsx)(c.p2,{actions:[{icon:(0,f.jsx)(u.KHI,{}),label:"Edit",callBack:function(){return F(e)}},{icon:(0,f.jsx)(u.lp8,{}),label:"Delete",callBack:function(){return(0,o.N)({type:"confirmation",message:"Are you sure you want to remove this Field?",callback:function(){j((function(a){return a.filter((function(a){return a.name!==e.name}))}))}})}}]})]},l)}))}),S&&(0,f.jsx)("p",{className:"error",children:S}),(0,f.jsx)(x,{edit:N,editCollection:a,fields:_,collections:l,onSuccess:function(e){q(null),N?(j((function(a){return a.map((function(a){return a.name.toLowerCase()===e.name.toLowerCase()?e:a}))})),F(null)):j((function(a){return[].concat((0,n.Z)(a),[e])}))},clear:function(){return F(null)}},N?"edit":"add"),(0,f.jsx)("form",{onSubmit:D(B),className:"".concat(d.mainForm," grid gap-1")})]})},N=(l(4581),function(){var e=(0,i.useState)(null),a=(0,t.Z)(e,2),l=a[0],m=a[1],p=(0,i.useState)([]),b=(0,t.Z)(p,2),y=b[0],v=b[1],h=(0,i.useState)([]),x=(0,t.Z)(h,2),_=x[0],j=x[1],g=(0,r.i)(s.Hv.adminCollections).get,N=(0,r.i)(s.Hv.adSchemas),F=N.get,Z=N.loading,C=(0,r.i)(s.Hv.adSchemas+"/{ID}"),S=C.remove,q=C.loading,O=(0,i.useCallback)((function(){F().then((function(e){var a=e.data;if(a.success)return j(a.data)})).catch((function(e){return(0,o.N)({type:"error",message:e.message})}))}),[]);return(0,i.useEffect)((function(){O(),g().then((function(e){var a=e.data;if(a.success)return v(a.data)})).catch((function(e){return(0,o.N)({type:"error",message:e.message})}))}),[]),(0,f.jsxs)("div",{className:"".concat(d.content," grid gap-1 m-a p-1"),children:[(0,f.jsxs)("div",{className:"flex justify-space-between",children:[(0,f.jsx)("h2",{children:"All Sub Categories"}),(0,f.jsx)("div",{className:"flex gap-1",children:(0,f.jsx)("button",{className:"btn m-a mr-0",onClick:function(){return m(!0)},children:"Add Sub Categories"})})]}),(0,f.jsx)(c.iA,{loading:Z,className:d.collections,columns:[{label:"Name"},{label:"Action"}],children:_.map((function(e,a){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.name}),(0,f.jsx)(c.p2,{actions:[{icon:(0,f.jsx)(u.KHI,{}),label:"Edit",callBack:function(){m(e)}},{icon:(0,f.jsx)(u.lp8,{}),label:"Delete",disabled:q,callBack:function(){return(0,o.N)({type:"confirmation",message:"Are you sure you want to remove this Subcategory?",callback:function(){S({},{params:{"{ID}":e._id}}).then((function(a){var l=a.data;null!==l&&void 0!==l&&l.success&&j((function(a){return a.filter((function(a){return a._id!==e._id}))}))})).catch((function(e){return(0,o.N)({type:"error",message:e.message})}))}})}}]})]},a)}))}),(0,f.jsx)(o.u,{head:!0,label:"".concat(null!==l&&void 0!==l&&l._id?"Update":"Add"," Subcategory"),open:!!l,setOpen:function(){m(null)},className:d.collectionFormModal,children:(0,f.jsx)(T,{collections:y.filter((function(e){return"Category"!==e.name})),edit:null!==l&&void 0!==l&&l._id?l:null,onSuccess:function(e){null!==l&&void 0!==l&&l._id?(j((function(a){return a.map((function(a){return a._id.toLowerCase()===l._id.toLowerCase()?e:a}))})),m(e)):(m(e),j((function(a){return[].concat((0,n.Z)(a),[e])})))}})})]})})}}]);
//# sourceMappingURL=594.bf894933.chunk.js.map