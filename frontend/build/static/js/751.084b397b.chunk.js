"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[751],{4751:function(e,n,t){t.r(n),t.d(n,{default:function(){return xe}});var l=t(2982),i=t(1413),r=t(885),a=t(2791),o=t(4581),s=t(1134),u=t(5470),c=t(1570),d="settings_container__9S1kR",m="settings_terms__A4Efi",f="settings_faqDocs__7hiic",p="settings_unitForm__pl1iS",b="settings_itemColumnsRadio__XiSkn",v="settings_codeInput__SbB95",h="settings_termForm__ujPBh",x="settings_docUrls__ml5kl",g="settings_urlInput__C4mJX",j="settings_termFormModal__SGosh",y="settings_recFilterModal__VM6bb",N="settings_form__7HkyN",Z="settings_landingPageShelveFormModal__wAzgH",S=t(5454),C=t(2202),I=t(8750),w=t(1080),_=t(6871),P=t(184),k=function(e){var n=e.terms,t=e.setTerms,i=(0,a.useState)(null),o=(0,r.Z)(i,2),s=o[0],c=o[1],d=(0,a.useState)(!1),f=(0,r.Z)(d,2),p=f[0],b=f[1];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center",children:[(0,P.jsx)("h3",{children:"Terms & Conditions"}),(0,P.jsx)("button",{type:"button",className:"btn",onClick:function(){return b(!0)},children:"Add New Term"})]}),(0,P.jsx)(u.iA,{className:m,columns:[{label:"Terms"},{label:"Action"}],children:n.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){c(e),b(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this Term?",callback:function(){t((function(n){return n.filter((function(n){return n.toLowerCase()!==e.toLowerCase()}))}))}})}}]})]},n)}))}),(0,P.jsx)(I.u,{head:!0,label:s?"Update Term":"Add Term",open:p,setOpen:b,className:j,children:(0,P.jsx)(A,{edit:s,onSuccess:function(e){s?(t((function(n){return n.map((function(n){return n.toLowerCase()===s.toLowerCase()?e:n}))})),c(null)):t((function(n){return[].concat((0,l.Z)(n),[e])})),b(!1)}})})]})},T=c.Ry({term:c.Z_().required()}),A=function(e){var n=e.edit,t=e.onSuccess,l=(0,s.cI)({resolver:(0,S.y)(T)}),r=l.handleSubmit,o=l.register,c=l.reset,d=l.formState.errors,m=(0,a.useRef)();return(0,a.useEffect)((function(){c({term:n||""})}),[n]),(0,P.jsxs)("form",{ref:m,className:h,onSubmit:r((function(e){t(e.term)})),children:[(0,P.jsx)(u.gx,(0,i.Z)((0,i.Z)({label:"Term"},o("term")),{},{error:d.term})),(0,P.jsx)("div",{className:"btns",children:(0,P.jsx)("button",{className:"btn",type:"button",onClick:r((function(e){t(e.term)})),children:"Submit"})})]})},E=function(e){var n=e.next,t=(0,a.useContext)(o.D),l=t.user,u=t.setUser,c=t.business,d=t.setBusiness,m=(0,a.useState)(!1),f=(0,r.Z)(m,2),p=f[0],b=f[1],v=(0,_.s0)(),h=(0,s.cI)(),x=h.handleSubmit,g=(h.formState.errors,(0,a.useState)([])),j=(0,r.Z)(g,2),y=j[0],N=j[1],Z=(0,S.i)(c?w.Hv.businesses+"/".concat(c.business._id):w.Hv.companyProfile),C=Z.put,T=Z.loading;return(0,a.useEffect)((function(){var e=(null===c||void 0===c?void 0:c.business)||l;N(e.terms||[])}),[l,c]),(0,P.jsxs)("form",{className:"grid gap-1",onSubmit:x((function(e){C({terms:y}).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});c?d((function(e){return(0,i.Z)((0,i.Z)({},e),{},{business:(0,i.Z)((0,i.Z)({},e.business),{},{terms:y})})})):u((function(e){return(0,i.Z)((0,i.Z)({},e),{},{terms:y})})),(0,I.N)((0,i.Z)({type:"information",message:"Updates have been saved."},p&&{callback:function(){return v(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.faqDocuments,{state:{next:!0}})}}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsx)(k,{terms:y,setTerms:N}),(0,P.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,P.jsx)("button",{className:"btn",disabled:T,children:"Save Changes"}),n&&(0,P.jsx)("button",{className:"btn",disabled:T,onClick:function(){return b(!0)},children:"Next"})]})]})},F=t(4942),D=t(4925),H=t(8300),R=["fieldName"],O=["fieldName"],q=["fieldName"],U=function(e){var n=e.fields,t=void 0===n?[]:n,i=e.shelves,o=void 0===i?[]:i,s=(e.value,e.onChange),c=(0,a.useState)(null),d=(0,r.Z)(c,2),m=d[0],f=d[1],p=(0,a.useState)(!1),b=(0,r.Z)(p,2),v=b[0],h=b[1];return(0,P.jsxs)("div",{className:"grid gap-1",children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center",children:[(0,P.jsx)("h5",{children:"Shelves"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return h(!0)},children:"Add Shelf"})]}),(0,P.jsx)(u.iA,{columns:[{label:"Tilte"},{label:"Product Count"},{label:"Filters"},{label:"Actions"}],children:null===o||void 0===o?void 0:o.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.title}),(0,P.jsx)("td",{children:e.productCount}),(0,P.jsx)("td",{children:e.productFilters.length}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){f(e),h(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this Shelf?",callback:function(){s(o.filter((function(n){return e._id!==n._id})))}})}}]})]},n)}))}),(0,P.jsx)(I.u,{open:v,setOpen:function(){h(!1),f(null)},head:!0,label:m?"Edit":"Add Shelf",className:Z,children:(0,P.jsx)(M,{edit:m,fields:t,onSubmit:function(e){m?(s(o.map((function(n){return e._id===n._id?e:n}))),f(null)):s([].concat((0,l.Z)(o),[e])),h(!1)}})})]})},L=c.Ry({title:c.Z_().required(),productFilters:c.IX().min(1,"Please add at least one product filter").required("Please add at least one product filter"),productCount:c.Rx().min(2,"Please enter more than 1").required().typeError("Please enter a valid number")}),M=function(e){var n=e.fields,t=void 0===n?[]:n,l=e.edit,o=e.onSubmit,c=(0,s.cI)({resolver:(0,S.y)(L)}),d=c.handleSubmit,m=(c.control,c.register),f=c.watch,p=c.setValue,b=c.reset,v=c.formState.errors,h=c.clearErrors,x=(0,a.useState)(!1),g=(0,r.Z)(x,2),j=g[0],y=g[1],N=(0,a.useCallback)((function(e){o((0,i.Z)((0,i.Z)({},e),{},{_id:(null===l||void 0===l?void 0:l._id)||Math.random().toString(36).substr(-8)}))}),[]),Z=f("productFilters");return(0,a.useEffect)((function(){b((0,i.Z)({},l))}),[l]),(0,P.jsxs)("div",{className:"p-1 grid gap-1",children:[(0,P.jsxs)("form",{onSubmit:d(N),className:"grid gap-1",children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Title"},m("title")),{},{error:v.title})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Number of Products",type:"number"},m("productCount")),{},{error:v.productCount})),(0,P.jsx)(u.XZ,(0,i.Z)({label:"Horizontal"},m("horizontalSlide"))),(0,P.jsxs)("div",{className:"flex justify-space-between align-center",children:[(0,P.jsx)("h5",{children:"Product Filters"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return y(!0)},children:"Add/Update Filters"})]}),v.productFilters&&(0,P.jsx)("p",{className:"error",children:v.productFilters.message}),(0,P.jsx)(u.iA,{columns:[{label:"Field"},{label:"Oparator/Value"}],children:null===Z||void 0===Z?void 0:Z.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.fieldName}),(0,P.jsxs)("td",{children:[e.filterType," ",e.value]})]},n)}))})]}),(0,P.jsx)(I.u,{open:j,edit:j,head:!0,label:"Update Filters",setOpen:y,children:(0,P.jsx)(V,{fields:t,value:Z,onSuccess:function(e){p("productFilters",e),y(null),h("productFilters")},includeValue:!0})}),(0,P.jsx)("form",{onSubmit:d(N),children:(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:"Submit"})})})]})},V=function(e){for(var n=e.fields,t=void 0===n?[]:n,l=e.value,o=void 0===l?[]:l,c=e.onSuccess,d=e.includeValue,m=(0,s.cI)(),f=m.handleSubmit,p=m.register,b=m.control,v=m.watch,h=m.reset,x=m.getValues,g=m.formState.errors,j=v("fields"),y=0;y<t.length;y++){var N=t[y];v("".concat(N.name,".filterType"))}return(0,a.useEffect)((function(){var e={fields:o.map((function(e){return e.fieldName}))};o.forEach((function(n){var t=n.fieldName,l=(0,D.Z)(n,R);Object.entries(l).forEach((function(n){var l=(0,r.Z)(n,2),a=l[0],o=l[1];e[t]=(0,i.Z)({},e[t]),void 0!==o&&(e[t][a]=o)}))})),h(e)}),[]),(0,P.jsxs)("form",{onSubmit:f((function(e){var n=[];e.fields.forEach((function(l){var r,a,o,s,u,c,m,f,p,b,v,h=t.find((function(e){return e.name===l}));h&&n.push((0,i.Z)((0,i.Z)((0,i.Z)({fieldName:l},["input","textarea"].includes(h.fieldType)&&(0,i.Z)({filterType:(null===(r=e[l])||void 0===r?void 0:r.filterType)||"textSearch"},d&&(0,i.Z)((0,i.Z)({},"minMax"!==(null===(a=e[l])||void 0===a?void 0:a.filterType)&&{value:null===(o=e[l])||void 0===o?void 0:o.value}),"minMax"===(null===(s=e[l])||void 0===s?void 0:s.filterType)&&{min:null===(u=e[l])||void 0===u?void 0:u.min,max:null===(c=e[l])||void 0===c?void 0:c.max}))),["slider","range"].includes(null===(m=e[l])||void 0===m?void 0:m.filterType)&&{min:null===(f=e[l])||void 0===f?void 0:f.min,max:null===(p=e[l])||void 0===p?void 0:p.max}),["select","combobox"].includes(h.fieldType)&&(0,i.Z)({filterStyle:null===(b=e[l])||void 0===b?void 0:b.filterStyle},d&&{value:null===(v=e[l])||void 0===v?void 0:v.value})))})),c(n)})),className:"p-1 grid gap-1",children:[(0,P.jsx)(u.rG,{control:b,name:"fields",multiple:!0,label:"Filter Fields",sortable:!0,options:(o.length?t.sort((function(e,n,t){return null!==o&&void 0!==o&&o.includes(e.value)?o.findIndex((function(n){return n===e.value}))>o.findIndex((function(e){return e===n.value}))?1:-1:1})).reverse().map((function(e,n,t){return(0,i.Z)((0,i.Z)({},e),{},{order:t.length-n})})):t).map((function(e){return{label:e.label,value:e.name,data:e}}))}),null===j||void 0===j?void 0:j.map((function(e,n){var l=t.find((function(n){return n.name===e}));if(!l)return null;if(["input","textarea"].includes(l.fieldType)){if("string"===l.dataType)return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{children:[(0,P.jsxs)("strong",{children:[l.label,":"]})," Text Search"]}),d&&(0,P.jsx)(u.II,(0,i.Z)({label:"Value"},p("".concat(l.name,".value"))))]},n);var r,a;if("number"===l.dataType)return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{className:"mb_5",children:[(0,P.jsxs)("strong",{children:[l.label,":"]})," "]}),(0,P.jsx)(u.hQ,{control:b,name:"".concat(l.name,".filterType"),label:"Filter Style",options:[{label:"Min-Max",value:"minMax"},{label:"Exact Match",value:"match"},{label:"Range",value:"range"}],formOptions:{required:"Select an option"}}),!d&&["slider","range"].includes(x("".concat(l.name,".filterType")))&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({type:"number",label:"Min"},p("".concat(l.name,".min"),{required:"Please enter a value"})),{},{error:null===(r=g[l.name])||void 0===r?void 0:r.min})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({type:"number",label:"Max"},p("".concat(l.name,".max"),{required:"Please enter a value"})),{},{error:null===(a=g[l.name])||void 0===a?void 0:a.max}))]}),d&&(0,P.jsxs)(P.Fragment,{children:["minMax"===x("".concat(l.name,".filterType"))&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(u.II,(0,i.Z)({type:"number",label:"Minimum"},p("".concat(l.name,".min")))),(0,P.jsx)(u.II,(0,i.Z)({type:"number",label:"Maximum"},p("".concat(l.name,".max"))))]}),"match"===x("".concat(l.name,".filterType"))&&(0,P.jsx)(u.II,(0,i.Z)({type:"number",label:"Value"},p("".concat(l.name,".value"))))]})]},n)}else if(["select","combobox"].includes(l.fieldType))return(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"mb_5",children:(0,P.jsxs)("strong",{children:[l.label,":"]})}),d?(0,P.jsx)(u.OC,(0,i.Z)((0,i.Z)((0,i.Z)({label:"Value",multiple:!0,control:b,name:"".concat(l.name,".value")},"predefined"===l.optionType&&{options:l.options}),"collection"===l.optionType&&{url:"".concat(w.Hv.dynamic,"/").concat(l.collection)}),{},{getQuery:function(e,n){return(0,i.Z)((0,i.Z)({},e&&(0,F.Z)({},l.optionLabel,e)),n&&(0,F.Z)({},l.optionValue,n))},handleData:function(e){return{label:e[l.optionLabel],value:e[l.optionValue]}}})):(0,P.jsx)(u.hQ,{control:b,name:"".concat(l.name,".filterStyle"),label:"Filter Style",options:[{label:"List",value:"list"},{label:"Dropdown",value:"dropdown"}],formOptions:{required:"Select an option"}})]},n)})),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:"Update"})})]})},Q=function(e){var n=e.fields,t=void 0===n?[]:n,l=e.value,o=void 0===l?[]:l,c=e.onSuccess,d=(0,s.cI)(),m=d.handleSubmit,f=(d.register,d.control),p=d.watch,b=d.reset,v=d.getValues,h=(d.formState.errors,p("fields")),x=(0,a.useState)(Math.random()),g=(0,r.Z)(x,2),j=(g[0],g[1]);return(0,a.useEffect)((function(){var e={fields:o.map((function(e){return e.fieldName}))};o.forEach((function(n){var t=n.fieldName,l=(0,D.Z)(n,O);Object.entries(l).forEach((function(n){var l=(0,r.Z)(n,2),i=l[0],a=l[1];"object"!==typeof a?(e["".concat(t)]={},e["".concat(t)][i]=a):Object.entries(a).forEach((function(n){var l=(0,r.Z)(n,2),i=l[0],a=l[1];e["".concat(t,".").concat(i)]=a}))}))})),b(e)}),[]),(0,P.jsxs)("form",{onSubmit:m((function(e){var n=[];e.fields.forEach((function(l){var a,o,s=t.find((function(e){return e.name===l}));s&&n.push((0,i.Z)((0,i.Z)({fieldName:l},["input"].includes(s.fieldType)&&"number"===s.dataType&&{oparator:null===(a=e[l])||void 0===a?void 0:a.oparator}),["select","combobox"].includes(s.fieldType)&&{oparator:null===(o=e[l])||void 0===o?void 0:o.oparator,includes:Object.entries(e[l]).filter((function(e){var n=(0,r.Z)(e,2),t=(n[0],n[1]);return(null===t||void 0===t?void 0:t.length)>0})).reduce((function(e,n){var t=(0,r.Z)(n,2),l=t[0],i=t[1];return e[l]=i,e}),{})}))})),c(n)})),className:"p-1 grid gap-1",children:[(0,P.jsx)(u.rG,{control:f,name:"fields",multiple:!0,label:"Filter Fields",sortable:!0,options:(o.length?t.sort((function(e,n,t){return null!==o&&void 0!==o&&o.includes(e.value)?o.findIndex((function(n){return n===e.value}))>o.findIndex((function(e){return e===n.value}))?1:-1:1})).reverse().map((function(e,n,t){return(0,i.Z)((0,i.Z)({},e),{},{order:t.length-n})})):t).map((function(e){return{label:e.label,value:e.name,data:e}}))}),null===h||void 0===h?void 0:h.map((function(e,n){var l=t.find((function(n){return n.name===e}));if(!l)return null;if(["input"].includes(l.fieldType)){if("number"===l.dataType)return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{className:"mb_5",children:[(0,P.jsxs)("strong",{children:[l.label,":"]})," "]}),(0,P.jsx)(u.hQ,{control:f,name:"".concat(l.name,".oparator"),label:"Oparator",options:[{label:"Greater than",value:"greaterThan"},{label:"Less than",value:"lessThan"}],formOptions:{required:"Select an option"}})]},n)}else if(["select","combobox"].includes(l.fieldType))return(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"mb_5",children:(0,P.jsxs)("strong",{children:[l.label," Mapping:"]})}),(0,P.jsx)(u.hQ,{className:"mb_5",control:f,name:"".concat(l.name,".oparator"),label:"Oparator",options:[{label:"Match ".concat(l.label),value:"match"},{label:"Custom Mapping",value:"customMapping"}],formOptions:{required:"Select an option"},onChange:function(){j(Math.random())}}),"customMapping"===v("".concat(l.name,".oparator"))&&(0,P.jsx)(G,{field:l,control:f})]},n)})),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:"Update"})})]})},B=function(e){var n=e.fields,t=void 0===n?[]:n,l=e.value,o=void 0===l?[]:l,c=e.onSuccess,d=(0,s.cI)(),m=d.handleSubmit,f=(d.register,d.control),p=d.watch,b=d.reset,v=d.getValues,h=(d.formState.errors,p("fields")),x=(0,a.useState)(Math.random()),g=(0,r.Z)(x,2),j=(g[0],g[1]);return(0,a.useEffect)((function(){var e={fields:o.map((function(e){return e.fieldName}))};o.forEach((function(n){var t=n.fieldName,l=(0,D.Z)(n,q);Object.entries(l).forEach((function(n){var l=(0,r.Z)(n,2),i=l[0],a=l[1];"object"!==typeof a?(e["".concat(t)]={},e["".concat(t)][i]=a):Object.entries(a).forEach((function(n){var l=(0,r.Z)(n,2),i=l[0],a=l[1];e["".concat(t,".").concat(i)]=a}))}))})),b(e)}),[]),(0,P.jsxs)("form",{onSubmit:m((function(e){var n=[];e.fields.forEach((function(l){var a,o,s=t.find((function(e){return e.name===l}));s&&n.push((0,i.Z)((0,i.Z)({fieldName:l},["input"].includes(s.fieldType)&&"number"===s.dataType&&{oparator:null===(a=e[l])||void 0===a?void 0:a.oparator}),["select","combobox"].includes(s.fieldType)&&{oparator:null===(o=e[l])||void 0===o?void 0:o.oparator,includes:Object.entries(e[l]).filter((function(e){var n=(0,r.Z)(e,2),t=(n[0],n[1]);return(null===t||void 0===t?void 0:t.length)>0})).reduce((function(e,n){var t=(0,r.Z)(n,2),l=t[0],i=t[1];return e[l]=i,e}),{})}))})),c(n)})),className:"p-1 grid gap-1",children:[(0,P.jsx)(u.rG,{control:f,name:"fields",multiple:!0,label:"Filter Fields",sortable:!0,options:(o.length?t.sort((function(e,n,t){return null!==o&&void 0!==o&&o.includes(e.value)?o.findIndex((function(n){return n===e.value}))>o.findIndex((function(e){return e===n.value}))?1:-1:1})).reverse().map((function(e,n,t){return(0,i.Z)((0,i.Z)({},e),{},{order:t.length-n})})):t).map((function(e){return{label:e.label,value:e.name,data:e}}))}),null===h||void 0===h?void 0:h.map((function(e,n){var l=t.find((function(n){return n.name===e}));if(!l)return null;if(["input"].includes(l.fieldType)){if("number"===l.dataType)return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{className:"mb_5",children:[(0,P.jsxs)("strong",{children:[l.label,":"]})," "]}),(0,P.jsx)(u.hQ,{control:f,name:"".concat(l.name,".oparator"),label:"Oparator",options:[{label:"Greater than",value:"greaterThan"},{label:"Less than",value:"lessThan"}],formOptions:{required:"Select an option"}})]},n)}else if(["select","combobox"].includes(l.fieldType))return(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"mb_5",children:(0,P.jsxs)("strong",{children:[l.label," Mapping:"]})}),(0,P.jsx)(u.hQ,{className:"mb_5",control:f,name:"".concat(l.name,".oparator"),label:"Oparator",options:[{label:"Match ".concat(l.label),value:"match"},{label:"Custom Mapping",value:"customMapping"}],formOptions:{required:"Select an option"},onChange:function(){j(Math.random())}}),"customMapping"===v("".concat(l.name,".oparator"))&&(0,P.jsx)(G,{field:l,control:f})]},n)})),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:"Update"})})]})},J=function(e){var n=e.edit,t=e.onSuccess,o=(0,a.useState)(!1),d=(0,r.Z)(o,2),m=d[0],f=d[1],p=(0,a.useState)(null),b=(0,r.Z)(p,2),v=b[0],h=b[1],x=(0,a.useState)(null),g=(0,r.Z)(x,2),j=g[0],N=g[1],Z=(0,s.cI)({resolver:(0,S.y)(c.Ry({title:c.Z_().required("Section Title is required"),viewStyle:c.Z_().required("Select a view style")}))}),w=Z.handleSubmit,_=Z.register,k=Z.control,T=Z.watch,A=Z.reset,E=(Z.getValues,Z.setValue),F=Z.formState.errors,D=T("items");return(0,a.useEffect)((function(){A({title:(null===n||void 0===n?void 0:n.title)||"",viewStyle:(null===n||void 0===n?void 0:n.viewStyle)||"list",items:(null===n||void 0===n?void 0:n.items)||[]})}),[n]),(0,P.jsxs)("form",{onSubmit:w((function(e){if(D.length<=0)return N("Add at least one item");t((0,i.Z)((0,i.Z)({},e),{},{_id:(null===n||void 0===n?void 0:n._id)||Math.random().toString(36).substr(-8)}))})),className:"p-1 grid gap-1",children:[j&&(0,P.jsx)("p",{className:"error",children:j}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({},_("title")),{},{label:"Section Title",error:F.title})),(0,P.jsx)(u.hQ,{label:"View Style",name:"viewStyle",control:k,options:[{label:"List",value:"list"},{label:"Grid",value:"grid"}],error:F.viewStyle}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Items"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return f(!0)},children:"Add Item"})]}),(0,P.jsx)(u.iA,{columns:[{label:"Field"},{label:"URL"},{label:"Actions"}],children:null===D||void 0===D?void 0:D.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.label}),(0,P.jsx)("td",{children:e.href}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){h(e),f(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this item?",callback:function(){E("items",D.filter((function(n){return n._id!==e._id})))}})}}]})]},e.label)}))})]}),(0,P.jsx)(I.u,{open:m,head:!0,label:"".concat(v?"Update":"Add"," Element"),className:y,setOpen:function(){f(!1),h(null)},children:(0,P.jsx)(W,{edit:v,onSuccess:function(e){E("items",v?D.map((function(n){return n._id===e._id?e:n})):[].concat((0,l.Z)(D),[e])),f(!1),h(null),N(null)}})}),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:n?"Update Section":"Add Section"})})]})},W=function(e){var n=e.edit,t=e.onSuccess,l=(0,s.cI)({resolver:(0,S.y)(c.Ry({label:c.Z_().required("Label is required"),href:c.Z_().matches(/^\/[a-zA-Z0-9\-._~!$&'()*+,;=:@]+$/,"Invalid sub-path format").required("Field is required")}))}),r=l.handleSubmit,o=l.control,d=l.register,m=l.reset,f=l.formState.errors;return(0,a.useEffect)((function(){m({label:(null===n||void 0===n?void 0:n.label)||"",href:(null===n||void 0===n?void 0:n.href)||"",type:(null===n||void 0===n?void 0:n.type)||"dynamicPage",files:(null===n||void 0===n?void 0:n.files)||[]})}),[n]),(0,P.jsxs)("form",{onSubmit:r((function(e){t((0,i.Z)((0,i.Z)({},e),{},{_id:(null===n||void 0===n?void 0:n._id)||Math.random().toString(36).substr(-8)}))})),className:"p-1 grid gap-1",children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({},d("label")),{},{label:"Label",error:f.label})),(0,P.jsx)(u.hQ,{label:"URL Type",name:"type",control:o,options:[{label:"Dynamic",value:"dynamicPage"},{label:"Internal Link",value:"internalLink"},{label:"External Link",value:"externalLink"}]}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({},d("href")),{},{label:"Path",placeholder:"/some-path",error:f.href})),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:n?"Update Element":"Add Element"})})]})},G=function(e){var n=e.field,t=e.control,l=(0,a.useState)([]),i=(0,r.Z)(l,2),o=i[0],s=i[1],c=(0,S.i)(w.Hv.dynamic+"/".concat(n.collection||"")).get;return(0,a.useEffect)((function(){"collection"===n.optionType?c().then((function(e){var t=e.data;null!==t&&void 0!==t&&t.success&&s(t.data.map((function(e){return{label:e[n.optionLabel],value:e[n.optionValue]}})))})):"array"===n.optionType&&s(n.options)}),[]),(0,P.jsx)("div",{children:(0,P.jsx)(u.iA,{columns:[{label:"Viewed ".concat(n.label)},{label:"Filter for recommendation"}],children:o.map((function(e){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.label}),(0,P.jsx)("td",{children:(0,P.jsx)(u.OC,{control:t,name:"".concat(n.name,".").concat(e.value),multiple:!0,options:o})})]},e.value)}))})})},K=function(e){var n,t,c,d,m,f,p,b,v,h,x,g,j,N=e.next,Z=(0,a.useState)(null),k=(0,r.Z)(Z,2),T=k[0],A=k[1],E=(0,a.useState)([]),F=(0,r.Z)(E,2),D=F[0],R=F[1],O=(0,a.useState)([]),q=(0,r.Z)(O,2),L=q[0],M=q[1],W=(0,a.useState)(!1),G=(0,r.Z)(W,2),K=G[0],z=G[1],X=(0,a.useState)(!1),Y=(0,r.Z)(X,2),$=(Y[0],Y[1]),ee=(0,a.useState)(!1),ne=(0,r.Z)(ee,2),te=ne[0],le=ne[1],ie=(0,a.useState)(!1),re=(0,r.Z)(ie,2),ae=re[0],oe=re[1],se=(0,a.useState)(!1),ue=(0,r.Z)(se,2),ce=ue[0],de=ue[1],me=(0,a.useContext)(o.D),fe=me.business,pe=me.config,be=me.user,ve=me.setConfig,he=(0,s.cI)(),xe=he.handleSubmit,ge=he.register,je=he.reset,ye=he.watch,Ne=he.setValue,Ze=he.control,Se=he.formState.errors,Ce=(0,a.useState)(!1),Ie=(0,r.Z)(Ce,2),we=Ie[0],_e=Ie[1],Pe=(0,_.s0)(),ke=(0,S.i)(w.Hv.userConfig),Te=ke.put,Ae=ke.loading,Ee=(0,a.useState)(null),Fe=(0,r.Z)(Ee,2),De=Fe[0],He=Fe[1],Re=(0,S.i)(w.Hv.collections+"/Product"),Oe=Re.get;Re.loading;(0,a.useEffect)((function(){var e,n,t,l,i,r,a,o,s,u,c,d,m,f,p,b,v,h,x,g,j,y,N,Z,S,C,I,w,_,P,k,T,A,E,F,D,H,R,O;je({siteTitle:(null===pe||void 0===pe||null===(e=pe.siteConfig)||void 0===e?void 0:e.siteTitle)||(null===fe||void 0===fe||null===(n=fe.business)||void 0===n?void 0:n.name)||(null===be||void 0===be?void 0:be.name)||"",siteDescription:(null===pe||void 0===pe||null===(t=pe.siteConfig)||void 0===t?void 0:t.siteDescription)||"",businessType:(null===pe||void 0===pe?void 0:pe.businessType)||"",headerColor:null===pe||void 0===pe||null===(l=pe.siteConfig)||void 0===l||null===(i=l.theme)||void 0===i?void 0:i.headerColor,footerColor:null===pe||void 0===pe||null===(r=pe.siteConfig)||void 0===r||null===(a=r.theme)||void 0===a?void 0:a.footerColor,elements:null!==pe&&void 0!==pe&&null!==(o=pe.siteConfig)&&void 0!==o&&null!==(s=o.productCard)&&void 0!==s&&s.length?null===pe||void 0===pe||null===(u=pe.siteConfig)||void 0===u?void 0:u.productCard:[],productViewElements:(null===pe||void 0===pe||null===(c=pe.siteConfig)||void 0===c||null===(d=c.productViewPage)||void 0===d?void 0:d.productElements)||[],currency:(null===pe||void 0===pe||null===(m=pe.siteConfig)||void 0===m?void 0:m.currency)||"",sidebarFilters:(null===pe||void 0===pe||null===(f=pe.siteConfig)||void 0===f||null===(p=f.browsePage)||void 0===p?void 0:p.sidebarFilters)||[],recommendationFilters:(null===pe||void 0===pe||null===(b=pe.siteConfig)||void 0===b||null===(v=b.productViewPage)||void 0===v?void 0:v.recommendationFilters)||[],comparisonFilters:(null===pe||void 0===pe||null===(h=pe.siteConfig)||void 0===h||null===(x=h.productViewPage)||void 0===x?void 0:x.comparisonFilters)||[],recommendationLimit:null===pe||void 0===pe||null===(g=pe.siteConfig)||void 0===g||null===(j=g.productViewPage)||void 0===j?void 0:j.recommendationLimit,comparisonLimit:null===pe||void 0===pe||null===(y=pe.siteConfig)||void 0===y||null===(N=y.productViewPage)||void 0===N?void 0:N.comparisonLimit,viewWhatsApp:(null===pe||void 0===pe||null===(Z=pe.siteConfig)||void 0===Z||null===(S=Z.productViewPage)||void 0===S?void 0:S.viewWhatsApp)||!1,viewAddToCart:(null===pe||void 0===pe||null===(C=pe.siteConfig)||void 0===C||null===(I=C.productViewPage)||void 0===I?void 0:I.viewAddToCart)||!1,viewLandingPage:(null===pe||void 0===pe||null===(w=pe.siteConfig)||void 0===w||null===(_=w.landingPage)||void 0===_?void 0:_.viewLandingPage)||!1,heroImages:(null===pe||void 0===pe||null===(P=pe.siteConfig)||void 0===P||null===(k=P.landingPage)||void 0===k||null===(T=k.hero)||void 0===T?void 0:T.slides)||[],viewHeroSection:(null===pe||void 0===pe||null===(A=pe.siteConfig)||void 0===A||null===(E=A.landingPage)||void 0===E||null===(F=E.hero)||void 0===F?void 0:F.viewHeroSection)||!1,landingPageShelves:(null===pe||void 0===pe||null===(D=pe.siteConfig)||void 0===D||null===(H=D.landingPage)||void 0===H?void 0:H.shelves)||[],footerElements:null===pe||void 0===pe||null===(R=pe.siteConfig)||void 0===R||null===(O=R.footer)||void 0===O?void 0:O.sections})}),[pe]);var qe=ye("sidebarFilters"),Ue=ye("recommendationFilters"),Le=ye("comparisonFilters"),Me=ye("viewLandingPage"),Ve=ye("viewHeroSection"),Qe=ye("viewWhatsApp"),Be=ye("landingPageShelves"),Je=ye("footerElements"),We=ye("category"),Ge=ye("subcategory");return(0,a.useEffect)((function(){var e;null!==pe&&void 0!==pe&&null!==(e=pe.siteConfig)&&void 0!==e&&e.productCard&&0===D.length&&Oe({query:{relatedCollections:!0}}).then((function(e){var n=e.data;if(n.success){var t=n.data.fields.filter((function(e){return!["images","title"].includes(e.name)})).map((function(e){return{label:e.label,value:e.name}}));t.push({value:"review",label:"Review"}),"service"===pe.businessType&&t.push({value:"dateRange",label:"Date Range"}),A(n.data),R(t.filter((function(e){return!["dateRange"].includes(e.value)})).sort((function(e,n,t){var l;return null!==(l=pe.siteConfig.productCard)&&void 0!==l&&l.includes(e.value)?pe.siteConfig.productCard.findIndex((function(n){return n===e.value}))>pe.siteConfig.productCard.findIndex((function(e){return e===n.value}))?1:-1:1})).reverse()),t.push({value:"compare",label:"Compare"}),M(t.filter((function(e){return!["description","whatsappNumber"].includes(e.value)})).sort((function(e,n){var t,l,i,r;return null!==(t=pe.siteConfig.productViewPage)&&void 0!==t&&null!==(l=t.productElements)&&void 0!==l&&l.includes(e.value)?(null===(i=pe.siteConfig.productViewPage)||void 0===i?void 0:i.productElements.findIndex((function(n){return n===e.value})))>(null===(r=pe.siteConfig.productViewPage)||void 0===r?void 0:r.productElements.findIndex((function(e){return e===n.value})))?1:-1:1})).reverse())}})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}),[null===pe||void 0===pe||null===(n=pe.siteConfig)||void 0===n?void 0:n.productCard,D]),(0,P.jsxs)("form",{className:"grid gap-1",onSubmit:xe((function(e){var n=(0,i.Z)((0,i.Z)({},pe),{},{businessType:e.businessType,siteConfig:(0,i.Z)((0,i.Z)({},null===pe||void 0===pe?void 0:pe.siteConfig),{},{theme:{headerColor:e.headerColor,footerColor:e.footerColor},siteTitle:e.siteTitle,siteDescription:e.siteDescription,productCard:e.elements.filter((function(e){return D.find((function(n){return n.value===e}))})),currency:e.currency,browsePage:(0,i.Z)((0,i.Z)({},pe.siteConfig.browsePage),{},{sidebarFilters:e.sidebarFilters}),productViewPage:{viewWhatsApp:Qe,viewAddToCart:e.viewAddToCart||!1,productElements:e.productViewElements.filter((function(e){return L.find((function(n){return n.value===e}))})),recommendationFilters:e.recommendationFilters,recommendationLimit:e.recommendationLimit,comparisonFilters:e.comparisonFilters,comparisonLimit:e.comparisonLimit},landingPage:{viewLandingPage:Me,hero:{viewHeroSection:e.viewHeroSection},shelves:e.landingPageShelves},footer:{sections:e.footerElements.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{items:e.items.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{condition:"dynamicPage"===e.type})}))})}))}})});(0,H.Ty)("_id",n).forEach((function(e){e.path.reduce((function(e,n,t,l){return t===l.length-1&&e[n].length<=20&&delete e[n],e[n]}),n)}));var t=new FormData;Object.entries(n).forEach((function(e){var n=(0,r.Z)(e,2),l=n[0],i=n[1];t.append(l,"object"===typeof i?JSON.stringify(i):i)})),e.heroImages.forEach((function(e){t.append("siteConfig.landingPage.hero.slides",(null!==e&&void 0!==e&&e.url?JSON.stringify(e):e)||null)})),Te(t).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});ve(n.data),(0,I.N)((0,i.Z)({type:"information",message:"Updates have been saved."},we&&{callback:function(){return Pe(w.Hb.dashboard.replace("*","")+w.Hb.dynamicTables.replace("*",""))}}))})).catch((function(e){return(0,I.N)({type:"error",data:e.message})}))})),children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Site Title"},ge("siteTitle")),{},{required:!0,error:null===Se||void 0===Se?void 0:Se.siteTitle})),(0,P.jsx)(u.gx,(0,i.Z)((0,i.Z)({label:"Site Description"},ge("siteDescription")),{},{required:!0,error:null===Se||void 0===Se?void 0:Se.siteDescription})),(0,P.jsx)(u.hQ,{label:"Business Type",name:"businessType",control:Ze,options:[{label:"Product",value:"product"},{label:"Service",value:"service"}]}),(0,P.jsx)(u.hQ,{label:"Currency",name:"currency",control:Ze,options:[{label:"USD",value:"USD"},{label:"INR",value:"INR"}]}),(0,P.jsx)(u.rG,{control:Ze,name:"elements",multiple:!0,label:"Product Card Elements (Move items to reorder)",sortable:!0,options:null!==pe&&void 0!==pe&&null!==(t=pe.siteConfig)&&void 0!==t&&null!==(c=t.productCard)&&void 0!==c&&c.length?D.sort((function(e,n,t){var l;return null!==(l=pe.siteConfig.productCard)&&void 0!==l&&l.includes(e.value)?pe.siteConfig.productCard.findIndex((function(n){return n===e.value}))>pe.siteConfig.productCard.findIndex((function(e){return e===n.value}))?1:-1:1})).reverse().map((function(e,n,t){return(0,i.Z)((0,i.Z)({},e),{},{order:t.length-n})})):D}),(0,P.jsx)("hr",{}),(0,P.jsx)("h2",{children:"Theme"}),(0,P.jsxs)("div",{className:"flex gap-1",children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Header Color",type:"Color",className:"flex-1"},ge("headerColor")),{},{error:Se.headerColor})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Footer Color",type:"Color",className:"flex-1"},ge("footerColor")),{},{error:Se.footerColor}))]}),(0,P.jsx)("hr",{}),(0,P.jsx)("h2",{children:"Landing Page"}),(0,P.jsx)(u.hQ,{label:"View Landing Page",name:"viewLandingPage",control:Ze,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),Me&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h4",{children:"Hero Section"}),(0,P.jsx)(u.hQ,{label:"View Hero Section",name:"viewHeroSection",control:Ze,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),Ve&&(0,P.jsx)(u.Dj,{thumbnail:!0,multiple:!0,control:Ze,name:"heroImages",label:"Hero Images"}),(0,P.jsx)(U,{fields:null===T||void 0===T||null===(d=T.fields)||void 0===d?void 0:d.filter((function(e){return!["file"].includes(e.inputType)})),shelves:Be,onChange:function(e){Ne("landingPageShelves",e),$(!1)}})]}),(0,P.jsx)("hr",{}),(0,P.jsx)("h2",{children:"Product View Page"}),(0,P.jsx)(u.hQ,{label:"Show WhatsApp Chat Button",name:"viewWhatsApp",control:Ze,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),Qe&&(0,P.jsx)("p",{className:"subtitle1",children:"Make sure to put a WhatsApp number in Business Information."}),(0,P.jsx)(u.rG,{control:Ze,name:"productViewElements",multiple:!0,label:"Product Page Elements (Move items to reorder)",sortable:!0,options:null!==pe&&void 0!==pe&&null!==(m=pe.siteConfig)&&void 0!==m&&null!==(f=m.productViewPage)&&void 0!==f&&null!==(p=f.productElements)&&void 0!==p&&p.length?L.sort((function(e,n,t){var l,i,r,a;return null!==(l=pe.siteConfig.productViewPage)&&void 0!==l&&null!==(i=l.productElements)&&void 0!==i&&i.includes(e.value)?(null===(r=pe.siteConfig.productViewPage)||void 0===r?void 0:r.productElements.findIndex((function(n){return n===e.value})))>(null===(a=pe.siteConfig.productViewPage)||void 0===a?void 0:a.productElements.findIndex((function(e){return e===n.value})))?1:-1:1})).reverse().map((function(e,n,t){return(0,i.Z)((0,i.Z)({},e),{},{order:t.length-n})})):L}),(0,P.jsx)(u.hQ,{label:"View Add to Cart",name:"viewAddToCart",control:Ze,options:[{label:"Yes",value:!0},{label:"No",value:!1}]}),(0,P.jsx)("hr",{}),(0,P.jsxs)("div",{style:{margin:"1rem 0"},children:[(0,P.jsxs)("div",{className:"flex gap-1 justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Sidebar filters"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return z(!0)},disabled:!(We&&Ge),children:"Update Sidebar Filters"})]}),(0,P.jsxs)("div",{className:"flex gap-1  mb-1",children:[(0,P.jsx)(u.OC,{label:"Category",control:Ze,name:"category",url:"".concat(w.Hv.dynamic,"/Category"),getQuery:function(e,n){return(0,i.Z)((0,i.Z)({},e&&{name:e}),n&&{name:n})},handleData:function(e){return{label:e.name,value:e.name}},onChange:function(){return Ne("subcategory","")}}),(0,P.jsx)(u.OC,{disabled:!We,label:"Subcategory",control:Ze,name:"subcategory",url:"".concat(w.Hv.dynamic,"/Subcategory"),getQuery:function(e,n){return(0,i.Z)((0,i.Z)({category:We},e&&{name:e}),n&&{name:n})},handleData:function(e){return{label:e.name,value:e.name}}})]}),We&&Ge?(0,P.jsx)(u.iA,{columns:[{label:"Field"},{label:"Filter Type"},{label:"Filter Style"}],children:null===(b=(qe||[]).find((function(e){return e.category===We&&e.subcategory===Ge})))||void 0===b||null===(v=b.filters)||void 0===v?void 0:v.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.fieldName}),(0,P.jsx)("td",{children:e.filterType}),(0,P.jsx)("td",{children:e.filterStyle})]},n)}))}):(0,P.jsx)("p",{children:"Please select category and subcategory to update sidebar filters."})]}),(0,P.jsx)("hr",{}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Recommendation Filters"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return oe(!0)},children:"Update recommendation Filters"})]}),(0,P.jsx)(u.iA,{columns:[{label:"Field"},{label:"Oparator"}],children:null===Ue||void 0===Ue?void 0:Ue.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.fieldName}),(0,P.jsx)("td",{children:e.oparator})]},n)}))})]}),(0,P.jsx)(u.hQ,{label:"Recommendation limit",name:"recommendationLimit",control:Ze,options:[{label:"5",value:5},{label:"10",value:10},{label:"20",value:20},{label:"30",value:30}]}),(0,P.jsx)("hr",{}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Comparison Filters"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return de(!0)},children:"Update Comparison Filters"})]}),(0,P.jsx)(u.iA,{columns:[{label:"Field"},{label:"Oparator"}],children:null===Le||void 0===Le?void 0:Le.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.fieldName}),(0,P.jsx)("td",{children:e.oparator})]},n)}))})]}),(0,P.jsx)(u.hQ,{label:"Comparison limit",name:"comparisonLimit",control:Ze,options:[{label:"2",value:2},{label:"5",value:5},{label:"10",value:10}]}),(0,P.jsx)("hr",{}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Footer Elements"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return le(!0)},children:"Add Footer Section"})]}),(0,P.jsx)(u.iA,{columns:[{label:"Section Title"},{label:"Elements"},{label:"Actions"}],children:null===Je||void 0===Je?void 0:Je.map((function(e,n){var t;return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.title}),(0,P.jsx)("td",{children:null===(t=e.items)||void 0===t?void 0:t.length}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){He(e),le(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this section?",callback:function(){Ne("footerElements",Je.filter((function(n){return n._id!==e._id})))}})}}]})]},e.title)}))})]}),(0,P.jsx)(I.u,{open:te,head:!0,label:"".concat(De?"Update":"Add"," Section"),className:y,setOpen:function(){le(!1),He(null)},children:(0,P.jsx)(J,{edit:De,onSuccess:function(e){Ne("footerElements",De?Je.map((function(n){return n._id===e._id?e:n})):[].concat((0,l.Z)(Je),[e])),le(!1),He(null)}})}),(0,P.jsx)(I.u,{open:ae,head:!0,label:"Update Recommendation Filters",className:y,setOpen:function(){return oe(!1)},children:(0,P.jsx)(Q,{fields:null===T||void 0===T||null===(h=T.fields)||void 0===h?void 0:h.filter((function(e){return!(["file"].includes(e.inputType)||["input","textarea"].includes(e.fieldType)&&"string"===e.dataType)})),value:Ue,onSuccess:function(e){Ne("recommendationFilters",e),oe(!1)}})}),(0,P.jsx)(I.u,{open:ce,head:!0,label:"Update Comparison Filters",className:y,setOpen:function(){return de(!1)},children:(0,P.jsx)(B,{fields:null===T||void 0===T||null===(x=T.fields)||void 0===x?void 0:x.filter((function(e){return!(["file"].includes(e.inputType)||["input","textarea"].includes(e.fieldType)&&"string"===e.dataType)})),value:Le,onSuccess:function(e){Ne("comparisonFilters",e),de(!1)}})}),(0,P.jsx)(I.u,{open:K,head:!0,label:"Update Sidebar Filters",setOpen:function(){return z(!1)},children:(0,P.jsx)(V,{fields:null===T||void 0===T||null===(g=T.fields)||void 0===g?void 0:g.filter((function(e){return!(["richText"].includes(e.fieldType)||["file"].includes(e.inputType)||["category","subcategory","variants"].includes(e.name))})).filter((function(e){return!e.subcategory||e.subcategory===Ge})),value:null===(j=(qe||[]).find((function(e){return e.category===We&&e.subcategory===Ge})))||void 0===j?void 0:j.filters,onSuccess:function(e){Ne("sidebarFilters",[].concat((0,l.Z)((qe||[]).filter((function(e){return!(e.category===We&&e.subcategory===Ge)}))),[{filters:e,category:We,subcategory:Ge}])),z(!1)}})}),(0,P.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,P.jsx)("button",{className:"btn",disabled:Ae,children:"Save Changes"}),N&&(0,P.jsx)("button",{className:"btn",disabled:Ae,onClick:function(){return _e(!0)},children:"Next"})]})]})},z=function(e){var n=e.docs,t=e.setDocs,i=(0,a.useState)(null),o=(0,r.Z)(i,2),s=o[0],c=o[1],d=(0,a.useState)(!1),m=(0,r.Z)(d,2),p=m[0],b=m[1],v=(0,S.i)(w.Hv.faqDocuments+"/_id"),h=v.remove;v.loading;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center",children:[(0,P.jsx)("h3",{children:"AI Chat Knowledge Base"}),(0,P.jsx)("button",{type:"button",className:"btn",onClick:function(){return b(!0)},children:"Add New Topic"})]}),(0,P.jsx)(u.iA,{className:f,columns:[{label:"Topic"},{label:"Files"},{label:"URLs"},{label:"Token Count"},{label:"Action"}],children:n.map((function(e,n){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.topic}),(0,P.jsx)("td",{children:e.files.length}),(0,P.jsx)("td",{children:e.urls.length}),(0,P.jsx)("td",{children:e.tokenCount}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){c(e),b(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this Document?",callback:function(){h(void 0,{params:{_id:e._id}}).then((function(n){var l=n.data;if(!l.success)return(0,I.N)({type:"error",message:l.success});t((function(n){return n.filter((function(n){return n._id!==e._id}))}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}})}}]})]},n)}))}),(0,P.jsx)(I.u,{head:!0,label:s?"Update Topic":"Add Topic",open:p,setOpen:function(){b(!1),c(!1)},className:j,children:(0,P.jsx)(Y,{edit:s,onSuccess:function(e){s?(t((function(n){return n.map((function(n){return n._id===s._id?e:n}))})),c(null)):t((function(n){return[].concat((0,l.Z)(n),[e])})),b(!1)}})})]})},X=c.Ry({topic:c.Z_().required(),description:c.Z_(),files:c.IX().of(c.nK()),urls:c.IX().of(c.Z_().url())}),Y=function(e){var n=e.edit,t=e.onSuccess,o=(0,a.useState)(!1),c=(0,r.Z)(o,2),d=c[0],m=c[1],f=(0,s.cI)({resolver:(0,S.y)(X)}),p=f.handleSubmit,b=f.register,v=f.reset,j=f.control,y=f.watch,N=f.setError,Z=f.setValue,_=f.clearErrors,k=f.formState.errors,T=(0,a.useRef)(),A=(0,S.i)(w.Hv.faqDocuments+"/".concat((null===n||void 0===n?void 0:n._id)||"")),E=A.post,F=A.put,D=A.loading,H=y("urls"),R=y("url");return(0,a.useEffect)((function(){v((0,i.Z)((0,i.Z)({},n),{},{urls:(null===n||void 0===n?void 0:n.urls)||[]}))}),[n]),(0,P.jsxs)("form",{ref:T,className:h,onSubmit:p((function(e){var l=(0,i.Z)((0,i.Z)({},e),{},{files:e.files,urls:JSON.stringify(e.urls)}),a=new FormData;Object.entries(l).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0],l=n[1];if("files"===t&&l){var i=l.filter((function(e){return e.url})),o=l.filter((function(e){return!e.url}));return i.length&&a.append(t,JSON.stringify(i)),void(o.length&&o.forEach((function(e){return a.append(t,e)})))}Array.isArray(l)?l.forEach((function(e){return a.append(t,e)})):l&&a.append(t,l)})),(n?F:E)(a).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});t(n.data)})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Topic"},b("topic")),{},{error:k.topic})),(0,P.jsx)(u.Dj,{label:"File",accept:"txt,pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",control:j,multiple:!0,name:"files"}),(0,P.jsxs)("section",{className:x,children:[(0,P.jsxs)("section",{className:g,children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"URL"},b("url")),{},{error:k.url,onChange:function(e){Z("url",e.target.value),_("url")}})),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){if(!R)return N("url",{type:"manual",message:"Field is required"});var e=R.startsWith("http")?R:"http://"+R;Z("urls",d?H.map((function(n){return n===d?e:n})):[].concat((0,l.Z)(H),[e])),Z("url",""),m(null)},children:d?"Update":"Add"}),d&&(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){Z("url",""),m(null)},children:"Cancel"})]}),(0,P.jsx)(u.iA,{columns:[{label:"URL"},{label:"Action"}],children:(H||[]).map((function(e){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){Z("url",e),m(e)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this URL?",callback:function(){Z("urls",H.filter((function(n){return e!==n})))}})}}]})]},e)}))})]}),(0,P.jsx)(u.gx,(0,i.Z)((0,i.Z)({label:"Description"},b("description")),{},{error:k.description})),(0,P.jsx)("div",{className:"btns",children:(0,P.jsx)("button",{className:"btn",disabled:D,children:"Submit"})})]})},$=function(e){var n=e.next,t=(0,a.useState)([]),l=(0,r.Z)(t,2),i=l[0],o=l[1],s=(0,_.s0)(),u=(0,S.i)(w.Hv.faqDocuments),c=u.get,d=u.loading;return(0,a.useEffect)((function(){c().then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});o(n.data)})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}),[]),(0,P.jsxs)("form",{className:"grid gap-1",children:[(0,P.jsx)(z,{docs:i,setDocs:o}),(0,P.jsx)("div",{className:"flex gap-1 justify-center",children:n&&(0,P.jsx)("button",{className:"btn",disabled:d,onClick:function(){return s(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.config,{state:{next:!0}})},children:"Next"})})]})},ee=function(e){var n=e.docs,t=e.setDocs,i=(0,a.useState)(null),o=(0,r.Z)(i,2),s=o[0],c=o[1],d=(0,a.useState)(!1),m=(0,r.Z)(d,2),p=m[0],b=m[1],v=(0,S.i)(w.Hv.dynamicPages+"/_id"),h=v.remove;v.loading;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center",children:[(0,P.jsx)("h3",{children:"Blogs"}),(0,P.jsx)("button",{type:"button",className:"btn",onClick:function(){return b(!0)},children:"Add New Page"})]}),(0,P.jsx)(u.iA,{className:f,columns:[{label:"Title"},{label:"Description"},{label:"File"},{label:"Action"}],children:n.map((function(e,n){var l,i,r;return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.title}),(0,P.jsx)("td",{children:e.description}),(0,P.jsx)("td",{children:(null===(l=e.file)||void 0===l?void 0:l.name)||(null===(i=e.files)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.name)}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){c(e),b(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this Document?",callback:function(){h(void 0,{params:{_id:e._id}}).then((function(n){var l=n.data;if(!l.success)return(0,I.N)({type:"error",message:l.success});t((function(n){return n.filter((function(n){return n._id!==e._id}))}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}})}}]})]},n)}))}),(0,P.jsx)(I.u,{head:!0,label:s?"Update Page":"Add Page",open:p,setOpen:function(){b(!1),c(!1)},className:j,children:(0,P.jsx)(te,{edit:s,onSuccess:function(e){s?(t((function(n){return n.map((function(n){return n._id===s._id?e:n}))})),c(null)):t((function(n){return[].concat((0,l.Z)(n),[e])})),b(!1)}})})]})},ne=c.Ry({title:c.Z_().required(),description:c.Z_(),path:c.Z_().test("is-valid-sub-path","Invalid sub-path format",(function(e){return void 0===e||""===e||/^\/[a-zA-Z0-9\-._~!$&'()*+,;=:@]+$/.test(e)})),thumbnail:c.nK().required("Please provide an image."),files:c.nK().required("Please provide a file.")}),te=function(e){var n=e.edit,t=e.onSuccess,l=(0,s.cI)({resolver:(0,S.y)(ne)}),o=l.handleSubmit,c=l.register,d=l.reset,m=l.control,f=l.formState.errors,p=(0,a.useRef)(),b=(0,S.i)(w.Hv.dynamicPages+"/".concat((null===n||void 0===n?void 0:n._id)||"")),v=b.post,x=b.put,g=b.loading;return(0,a.useEffect)((function(){var e;d((0,i.Z)((0,i.Z)({},n),{},{thumbnail:(null===n||void 0===n?void 0:n.thumbnail)||null,files:(null===n||void 0===n||null===(e=n.files)||void 0===e?void 0:e[0])||null}))}),[n]),(0,P.jsxs)("form",{ref:p,className:h,onSubmit:o((function(e){var l=(0,i.Z)((0,i.Z)({},e),{},{path:e.path||"/"+e.title.replaceAll(" ","-").replace(/[^a-zA-Z0-9\-._~!$&'()*+,;=:@\/]/g,"")}),a=new FormData;Object.entries(l).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0],l=n[1];["thumbnail","files"].includes(t)?a.append(t,(null!==l&&void 0!==l&&l.url?JSON.stringify(l):l)||null):Array.isArray(l)?l.forEach((function(e){return a.append(t,e)})):l&&a.append(t,l)})),(n?x:v)(a).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});t(n.data)})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Title"},c("title")),{},{error:f.title})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"URL path"},c("path")),{},{error:f.path,placeholder:"/some-path"})),(0,P.jsx)(u.gx,(0,i.Z)((0,i.Z)({label:"Description"},c("description")),{},{error:f.description})),(0,P.jsx)(u.Dj,{label:"Thumbnail",thumbnail:!0,accept:"jpg,jpeg,png,webp",control:m,name:"thumbnail"}),(0,P.jsx)(u.Dj,{label:"File",accept:"txt,pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",control:m,name:"files"}),(0,P.jsx)("div",{className:"btns",children:(0,P.jsx)("button",{className:"btn",disabled:g,children:"Submit"})})]})},le=function(e){var n=e.next,t=(0,a.useState)([]),l=(0,r.Z)(t,2),i=l[0],o=l[1],s=(0,_.s0)(),u=(0,S.i)(w.Hv.dynamicPages),c=u.get,d=u.loading;return(0,a.useEffect)((function(){c().then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});o(n.data)})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}),[]),(0,P.jsxs)("form",{className:"grid gap-1",children:[(0,P.jsx)(ee,{docs:i,setDocs:o}),(0,P.jsx)("div",{className:"flex gap-1 justify-center",children:n&&(0,P.jsx)("button",{className:"btn",disabled:d,onClick:function(){return s(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.config,{state:{next:!0}})},children:"Next"})})]})},ie=t(4165),re=t(5861),ae=t(4330),oe=function(e){var n=e.edit,t=e.onSuccess,o=(0,a.useState)(!1),d=(0,r.Z)(o,2),m=d[0],f=d[1],p=(0,a.useState)(null),b=(0,r.Z)(p,2),h=b[0],x=b[1],g=(0,a.useState)(null),j=(0,r.Z)(g,2),Z=j[0],_=j[1],k=(0,a.useState)(1),T=(0,r.Z)(k,2),A=T[0],E=T[1],F=(0,a.useState)([]),D=(0,r.Z)(F,2),H=D[0],R=D[1],O=(0,a.useState)([]),q=(0,r.Z)(O,2),U=q[0],L=q[1],M=(0,s.cI)({resolver:(0,S.y)(c.Ry({name:c.Z_().required("Report Name is required"),tables:c.IX().of(c.Z_()).required("Please select tables")}))}),V=M.handleSubmit,Q=M.register,B=M.watch,J=M.control,W=M.reset,G=M.setValue,K=M.setError,z=M.formState.errors,X=(0,S.i)(w.Hv.allCollections).get,Y=(0,S.i)(w.Hv.reports+(n?"/".concat(null===n||void 0===n?void 0:n._id):"")),$=Y.post,ee=Y.put,ne=Y.loading,te=(0,S.i)(w.Hv.testReportPipeline),le=te.post,oe=(te.loading,(0,S.i)(w.Hv.generateReportPipeline)),ue=oe.post,ce=oe.loading,de=B("tables"),me=B("columns"),fe=B("pipeline");return(0,a.useEffect)((function(){W({name:(null===n||void 0===n?void 0:n.name)||"",tables:null!==n&&void 0!==n&&n.tables?n.tables.map((function(e){return"".concat(e.module?"".concat(e.module,"-"):"").concat(e.name,"-").concat(e.type)})):[],columns:(null===n||void 0===n?void 0:n.columns)||[],pipeline:JSON.stringify((null===n||void 0===n?void 0:n.pipeline)||[],null,2)})}),[n]),(0,a.useEffect)((function(){X().then((function(e){var n=e.data;n.success&&R(n.data.map((function(e){return{label:e.label,name:e.name,type:e.type,module:e.module,value:"".concat(e.module?"".concat(e.module,"-"):"").concat(e.name,"-").concat(e.type),fields:e.fields}})))})).catch((function(e){return console.log(e)}))}),[]),(0,P.jsxs)("form",{onSubmit:V(function(){var e=(0,re.Z)((0,ie.Z)().mark((function e(l){var r,a,o,s,u;return(0,ie.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(me.length<=0)){e.next=2;break}return e.abrupt("return",_("Add at least one column"));case 2:if(r=H.filter((function(e){return l.tables.includes(e.value)})),a=r.find((function(e){return"module"===e.type}))){e.next=6;break}return e.abrupt("return",K("tables",{type:"custom",message:"Please select a module"}));case 6:if(r=r.filter((function(e){return"module"===e.type?e.value===a.value:e.module===a.name})),G("tables",r.map((function(e){return e.value}))),1!==A){e.next=21;break}o=null,s=Array.from(document.querySelector(".col-table").querySelectorAll("tbody tr")).map((function(e){return e.id})),l.columns=l.columns.sort((function(e,n){return s.findIndex((function(n){return n===e._id}))>s.findIndex((function(e){return e===n._id}))?1:-1})),u=function(){var e=(0,re.Z)((0,ie.Z)().mark((function e(){return(0,ie.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G("columns",l.columns),ue({table:{name:a.name,type:"module"},columns:l.columns}).then((function(e){var n=e.data;n.success?G("pipeline",JSON.stringify(n.data,null,2)):(0,I.N)({type:"error",message:n.message}),E(2)})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{o=JSON.parse(l.pipeline)}catch(Z){o=[]}if(o&&o.length){e.next=20;break}return e.next=17,u();case 17:return e.abrupt("return");case 20:return e.abrupt("return",(0,I.N)({type:"confirmation",message:"Do you want to regenerate the pipeline?",callback:function(){var e=(0,re.Z)((0,ie.Z)().mark((function e(){return(0,ie.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onDecline:function(){return E(2)}}));case 21:e.prev=21,l.pipeline=JSON.parse(l.pipeline),e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(21),e.abrupt("return",K("pipeline",{type:"custom",message:"Pipeline must be valid JSON"}));case 28:(n?ee:$)((0,i.Z)((0,i.Z)({},l),{},{tables:r.map((function(e){return{name:e.name,type:e.type,module:e.module,submodule:e.submodule}}))})).then((function(e){var n=e.data;n.success?t(n.data):(0,I.N)({type:"error",message:n.message})})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}));case 29:case"end":return e.stop()}}),e,null,[[21,25]])})));return function(n){return e.apply(this,arguments)}}()),className:"p-1 grid gap-1 ".concat(N),children:[Z&&(0,P.jsx)("p",{className:"error",children:Z}),1===A&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({},Q("name")),{},{label:"Report Name",error:z.name})),(0,P.jsx)(u.OC,{label:"Tables",multiple:!0,name:"tables",control:J,options:H}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h4",{children:"Columns"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return f(!0)},children:"Add Column"})]}),(0,P.jsx)(u.iA,{sortable:{handle:".handle",columns:me},columns:[{label:"",width:"3rem"},{label:"Label"},{label:"Table"},{label:"field"},{label:"Actions",width:"4rem"}],className:"col-table",children:null===me||void 0===me?void 0:me.map((function(e,n){var t;return(0,P.jsxs)("tr",{id:e._id,style:{gridTemplateColumns:"3rem 1fr 1fr 1fr 4rem"},children:[(0,P.jsx)("td",{children:(0,P.jsxs)("button",{className:"btn clear iconOnly handle",children:[(0,P.jsx)(ae.tgG,{})," ",e.order]})}),(0,P.jsx)("td",{children:e.label}),(0,P.jsx)("td",{children:null===(t=e.table)||void 0===t?void 0:t.name}),(0,P.jsx)("td",{children:"lookup"===e.type?(0,P.jsxs)(P.Fragment,{children:[e.localField," ",(0,P.jsx)(ae.VFe,{})," ",e.foreignField]}):e.field}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){x(e),f(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this item?",callback:function(){G("columns",me.filter((function(n){return n._id!==e._id})))}})}}]})]},e.label)}))})]})]}),2===A&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(u.gx,(0,i.Z)({className:v,label:"MongoDB Pipeline"},Q("pipeline")))}),(0,P.jsx)(I.u,{open:m,head:!0,label:"".concat(h?"Update":"Add"," Column"),className:y,setOpen:function(){f(!1),x(null)},children:(0,P.jsx)(se,{table:de,tables:H,edit:h,onSuccess:function(e){G("columns",h?me.map((function(n){return n._id===e._id?e:n})):[].concat((0,l.Z)(me),[e])),f(!1),x(null),_(null)}})}),2===A&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Preview Data"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){var e={table:{name:H.find((function(e){return"module"===e.type&&de.includes(e.value)})).name,type:"module"}};try{e.pipeline=JSON.parse(fe)}catch(Z){return(0,I.N)({type:"error",message:Z.message})}le(e).then((function(e){var n=e.data;n.success?L(n.data):(0,I.N)({type:"error",message:n.message})})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))},children:"Preview Data"})]}),(0,P.jsx)(u.iA,{columns:me.map((function(e){return{label:e.label}})),children:null===U||void 0===U?void 0:U.map((function(e,n){return(0,P.jsx)("tr",{children:me.map((function(n,t){var l=e[n.label];return Array.isArray(l)?l=l.length:null===l?l=(0,P.jsx)("span",{children:(0,P.jsx)("i",{children:"NULL"})}):"object"===typeof l?l=JSON.stringify(l):l&&"date"===n.dataType?l=(0,P.jsx)(u.W7,{format:"DD MMM YY hh:mma",children:l}):l||(l="--"),(0,P.jsx)("td",{children:l},t)}))},n)}))})]}),(0,P.jsxs)("div",{className:"flex justify-center gap-1",children:[A>1&&(0,P.jsx)("button",{type:"button",className:"btn secondary",onClick:function(){return E(A-1)},children:"Go Back"}),(0,P.jsx)("button",{className:"btn",disabled:ne||ce,children:A<2?"Next":"Submit"})]})]})},se=function(e){var n=e.table,t=e.edit,l=e.onSuccess,r=e.tables,o=(0,a.useMemo)((function(){return(null===r||void 0===r?void 0:r.filter((function(e){return n.includes(e.value)})).map((function(e){return e.fields.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{parent:e})}))})).flat().map((function(e){return{label:"".concat(e.parent.name,": ").concat(e.label),value:"".concat(e.parent.name,"-").concat(e.name),fieldLabel:e.label,parent:e.parent}})))||[]}),[r,n]),d=(0,s.cI)({resolver:(0,S.y)(c.Ry({label:c.Z_().required("Label is required"),type:c.Z_().required("Type is required"),field:c.Z_().when("type",{is:"localField",then:function(e){return e.required("Field is required")},otherwise:function(e){return e}})}))}),m=d.handleSubmit,f=d.control,p=d.register,b=d.reset,v=d.watch,h=d.formState.errors,x=d.setValue,g=(v("table"),v("label"));return(0,a.useEffect)((function(){b({label:(null===t||void 0===t?void 0:t.label)||"",type:(null===t||void 0===t?void 0:t.type)||"localField",localField:(null===t||void 0===t?void 0:t.localField)||"",foreignField:(null===t||void 0===t?void 0:t.foreignField)||"",table:null!==t&&void 0!==t&&t.table?"".concat(null===t||void 0===t?void 0:t.table.name,"-").concat(null===t||void 0===t?void 0:t.table.type):"",field:"".concat(null===t||void 0===t?void 0:t.value)||""})}),[t]),(0,P.jsxs)("form",{onSubmit:m((function(e){var n=r.find((function(n){var t;return n.name===(null===(t=o.find((function(n){return n.value===e.field})))||void 0===t?void 0:t.parent.name)})),i=n.fields.find((function(t){return"".concat(n.name,"-").concat(t.name)===e.field})),a={dataType:i.dataType,_id:(null===t||void 0===t?void 0:t._id)||Math.random().toString(36).substr(-8),label:e.label,value:e.field};"module"===n.type?(a.type="localField",a.field=i.name,i.coll&&(a.type="module-coll-lookup",a.table={name:i.name,type:"module-coll",module:n.name},a.localField=i.coll.name,a.foreignField="_id")):"submodule"===n.type&&(a.type="submodule-lookup",a.table={name:n.name,field:i.name,type:n.type,module:n.module,submodule:n.name},a.localField="_id",a.foreignField="record",i.coll&&(a.type="submodule-coll-lookup",a.table={name:i.name,type:n.type,module:n.module,submodule:n.name},a.localField=i.coll.name,a.foreignField="_id")),l(a)})),className:"p-1 grid gap-1",children:[(0,P.jsx)(u.hQ,{label:"Field",name:"field",control:f,options:o,onChange:function(e){g&&o.some((function(n){return n.fieldLabel===e.fieldLabel}))||x("label",e.fieldLabel)}}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({},p("label")),{},{label:"Label",error:h.label})),!1,(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("button",{className:"btn",children:t?"Update Column":"Add Column"})})]})},ue=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1],o=(0,a.useState)(null),s=(0,r.Z)(o,2),c=s[0],d=s[1],m=(0,a.useState)([]),f=(0,r.Z)(m,2),p=f[0],b=f[1],v=(0,S.i)(w.Hv.reports),h=v.get,x=(v.loading,(0,S.i)(w.Hv.reports+"/{ID}")),g=x.remove,j=x.loading;return(0,a.useEffect)((function(){h().then((function(e){var n=e.data;n.success&&b(n.data)})).catch((function(e){return(0,I.N)({type:"error",message:"Reports could not be fetched."})}))}),[]),(0,P.jsxs)("div",{className:"grid gap-1",children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex justify-space-between align-center mb-1",children:[(0,P.jsx)("h5",{children:"Reports"}),(0,P.jsx)("button",{className:"btn",type:"button",onClick:function(){return i(!0)},children:"Create Report Template"})]}),(0,P.jsx)(u.iA,{columns:[{label:"Report Name"},{label:"Module"},{label:"Actions"}],children:null===p||void 0===p?void 0:p.map((function(e,n){var t,l;return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.name}),(0,P.jsx)("td",{children:null===(t=e.tables)||void 0===t||null===(l=t.find((function(e){return"module"===e.type})))||void 0===l?void 0:l.name}),(0,P.jsx)(u.p2,{actions:[{icon:(0,P.jsx)(C.KHI,{}),label:"Edit",onClick:function(){d(e),i(!0)}},{icon:(0,P.jsx)(C.lp8,{}),label:"Delete",disabled:j,onClick:function(){return(0,I.N)({type:"confirmation",message:"Are you sure you want to remove this section?",callback:function(){g({},{params:{"{ID}":e._id}}).then((function(n){var t=n.data;t.success?b(p.filter((function(n){return n._id!==e._id}))):(0,I.N)({type:"error",message:t.message})})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}})}}]})]},e._id)}))})]}),(0,P.jsx)(I.u,{open:t,head:!0,label:"".concat(c?"Update":"Create"," Report Template"),className:y,setOpen:function(){i(!1),d(null)},children:(0,P.jsx)(oe,{edit:c,onSuccess:function(e){b(c?p.map((function(n){return n._id===e._id?e:n})):[].concat((0,l.Z)(p),[e])),i(!1),d(null)}})})]})},ce=t(5804),de=c.Ry({name:c.Z_().required(),phone:c.Z_().required(),description:c.Z_(),email:c.Z_().required(),domain:c.Z_().required()}),me=function(e){var n,t=e.next,l=(0,a.useContext)(o.D),c=l.user,d=l.setUser,m=l.business,f=l.setBusiness,p=(0,a.useState)(!1),b=(0,r.Z)(p,2),v=b[0],h=b[1],x=(0,s.cI)({resolver:(0,S.y)(de)}),g=x.handleSubmit,j=x.register,y=x.reset,N=x.watch,Z=x.control,C=x.setValue,k=x.formState.errors,T=(0,_.s0)(),A=(N("logo"),(0,a.useState)(!1)),E=(0,r.Z)(A,2),F=E[0],D=E[1],H=(0,S.i)(m?w.Hv.businesses+"/".concat(null===(n=m.business)||void 0===n?void 0:n._id):w.Hv.companyProfile),R=H.put,O=H.loading;return(0,a.useEffect)((function(){var e,n,t,l,r,a,o,s,u,d=(null===m||void 0===m?void 0:m.business)||c;d&&(y({logo:d.logo?{url:d.logo}:null,name:d.name||"",motto:d.motto||"",phone:d.phone||"",whatsappNumber:d.whatsappNumber||"",email:d.email||"",street:(null===(e=d.address)||void 0===e?void 0:e.street)||"",address:{address:(0,i.Z)({},d.address),formatted:(null===(n=d.address)||void 0===n?void 0:n.formatted)||""},latlng:null!==d&&void 0!==d&&null!==(t=d.address)&&void 0!==t&&t.latitude&&null!==d&&void 0!==d&&null!==(l=d.address)&&void 0!==l&&l.longitude?(null===d||void 0===d||null===(r=d.address)||void 0===r?void 0:r.latitude)+","+(null===d||void 0===d||null===(a=d.address)||void 0===a?void 0:a.longitude):"",description:d.description||"",gstin:d.gstin||"",pan:d.pan||"",ifsc:d.ifsc||"",domain:d.domain||"",chatbotDomain:(null===(o=d.chatbot)||void 0===o?void 0:o.domain)||"",favicon:d.favicon?{url:d.favicon}:null}),null!==d&&void 0!==d&&null!==(s=d.address)&&void 0!==s&&s.latitude&&null!==d&&void 0!==d&&null!==(u=d.address)&&void 0!==u&&u.longitude&&D(!0))}),[c,m]),(0,P.jsxs)("form",{className:"grid gap-1",onSubmit:g((function(e){var n,t;if(e.address){var l;if(e.address={street:e.street||null,formatted:(null===(l=e.address)||void 0===l?void 0:l.formatted)||null},e.latlng){var a=e.latlng.split(","),o=(0,r.Z)(a,2),s=o[0],u=o[1];e.address.latitude=s,e.address.longitude=u}delete e.street,delete e.latlng}var c=new FormData;c.append("logo",(null!==(n=e.logo)&&void 0!==n&&n.url?JSON.stringify(e.logo):e.logo)||null),c.append("favicon",(null!==(t=e.favicon)&&void 0!==t&&t.url?JSON.stringify(e.favicon):e.favicon)||null),c.append("name",e.name),c.append("motto",e.motto),c.append("phone",e.phone),c.append("email",e.email),c.append("address",JSON.stringify(e.address)),c.append("gstin",e.gstin),c.append("pan",e.pan),c.append("ifsc",e.ifsc),c.append("domain",e.domain),e.chatbotDomain&&c.append("chatbotDomain",e.chatbotDomain.replace(/^(?:https?:\/\/)?(?:www\.)?([^\/?]+)(?:\/[^?]+)?.*/,"$1")),c.append("whatsappNumber",e.whatsappNumber),c.append("description",e.description),R(c).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});m?f((function(e){return(0,i.Z)((0,i.Z)({},e),{},{business:n.data})})):d(n.data),(0,I.N)((0,i.Z)({type:"information",message:"Updates have been saved."},v&&{callback:function(){return T(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.bankDetails,{state:{next:!0}})}}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsx)("h3",{children:"Business Information"}),(0,P.jsx)(u.Dj,{thumbnail:!0,control:Z,name:"logo",label:"Logo",accept:"image/*"}),(0,P.jsx)(u.Dj,{thumbnail:!0,label:"Favicon",control:Z,name:"favicon",accept:".ico"}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Name"},j("name")),{},{error:k.name})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Business Motto"},j("motto")),{},{error:k.motto})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Phone"},j("phone")),{},{error:k.phone})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Whatapp Business Number"},j("whatsappNumber")),{},{error:k.phone})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Email"},j("email")),{},{error:k.email})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Street Address"},j("street")),{},{error:k.street})),(0,P.jsx)(u.Ph,{label:"City, State, Country",control:Z,name:"address",onChange:function(e){var n=e.place.geometry.location.lat(),t=e.place.geometry.location.lng();C("latlng",n+","+t)}}),(0,P.jsx)(u.b6,{control:Z,name:"latlng",marker:F,onClick:function(e){D(!0)}}),(0,P.jsx)(u.gx,(0,i.Z)((0,i.Z)({label:"Description"},j("description")),{},{error:k.description})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Domain"},j("domain")),{},{error:k.domain})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Chatbot Domain"},j("chatbotDomain")),{},{error:k.chatbotDomain})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"GSTIN"},j("gstin")),{},{error:k.gstin})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"PAN"},j("pan")),{},{error:k.pan})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"IFSC"},j("ifsc")),{},{error:k.ifsc})),(0,P.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,P.jsx)("button",{className:"btn",disabled:O,children:"Save Changes"}),t&&(0,P.jsx)("button",{className:"btn",disabled:O,onClick:function(){return h(!0)},children:"Next"})]})]})},fe=function(e){var n=e.next,t=(0,a.useContext)(o.D),l=t.user,c=t.setUser,d=t.business,m=t.setBusiness,f=(0,a.useState)(!1),p=(0,r.Z)(f,2),b=p[0],v=p[1],h=(0,_.s0)(),x=(0,s.cI)(),g=x.handleSubmit,j=x.register,y=x.reset,N=x.formState.errors;(0,a.useEffect)((function(){var e,n,t,i,r=(null===d||void 0===d?void 0:d.business)||l;y({bankName:(null===r||void 0===r||null===(e=r.bankDetails)||void 0===e?void 0:e.bankName)||"",branch:(null===r||void 0===r||null===(n=r.bankDetails)||void 0===n?void 0:n.branch)||"",accNo:(null===r||void 0===r||null===(t=r.bankDetails)||void 0===t?void 0:t.accNo)||"",accName:(null===r||void 0===r||null===(i=r.bankDetails)||void 0===i?void 0:i.accName)||""})}),[l,d]);var Z=(0,S.i)(d?w.Hv.businesses+"/".concat(d.business._id):w.Hv.companyProfile),C=Z.put,k=Z.loading;return(0,P.jsxs)("form",{className:"grid gap-1",onSubmit:g((function(e){C({bankDetails:{bankName:e.bankName,branch:e.branch,accNo:e.accNo,accName:e.accName}}).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});d?m((function(e){return(0,i.Z)((0,i.Z)({},e),{},{business:n.data})})):c(n.data),(0,I.N)((0,i.Z)({type:"information",message:"Updates have been saved."},b&&{callback:function(){return h(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.ownerDetails,{state:{next:!0}})}}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsx)("h3",{children:"Bank Detail"}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Bank Name"},j("bankName")),{},{error:N.bankName})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Branch"},j("branch")),{},{error:N.branch})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Account No."},j("accNo")),{},{error:N.accNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Account Name"},j("accName")),{},{error:N.accName})),(0,P.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,P.jsx)("button",{className:"btn",disabled:k,children:"Save Changes"}),n&&(0,P.jsx)("button",{className:"btn",disabled:k,onClick:function(){return v(!0)},children:"Next"})]})]})},pe=function(e){var n=e.next,t=(0,a.useContext)(o.D),l=t.user,c=t.setUser,d=t.business,m=t.setBusiness,f=(0,a.useState)(!1),p=(0,r.Z)(f,2),b=p[0],v=p[1],h=(0,_.s0)(),x=(0,s.cI)(),g=x.handleSubmit,j=x.control,y=x.register,N=x.reset,Z=(x.watch,x.formState.errors),C=(0,S.i)(d?w.Hv.businesses+"/".concat(d.business._id):w.Hv.companyProfile),k=C.put,T=C.loading;return(0,a.useEffect)((function(){var e,n,t,i,r,a=(null===d||void 0===d?void 0:d.business)||l;N({ownerName:(null===a||void 0===a||null===(e=a.ownerDetails)||void 0===e?void 0:e.name)||"",ownerPhone:(null===a||void 0===a||null===(n=a.ownerDetails)||void 0===n?void 0:n.phone)||"",ownerEmail:(null===a||void 0===a||null===(t=a.ownerDetails)||void 0===t?void 0:t.email)||"",signature:null!==a&&void 0!==a&&null!==(i=a.ownerDetails)&&void 0!==i&&i.signature?{url:null===a||void 0===a||null===(r=a.ownerDetails)||void 0===r?void 0:r.signature}:null})}),[l,d]),(0,P.jsxs)("form",{className:"grid gap-1",onSubmit:g((function(e){var n,t=new FormData;t.append("ownerSignature",(null!==(n=e.signature)&&void 0!==n&&n.url?JSON.stringify(e.signature):e.signature)||null),t.append("ownerDetails[name]",e.ownerName),t.append("ownerDetails[phone]",e.ownerPhone),t.append("ownerDetails[email]",e.ownerEmail),k(t).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});d?m((function(e){return(0,i.Z)((0,i.Z)({},e),{},{business:n.data})})):c(n.data),(0,I.N)((0,i.Z)({type:"information",message:"Updates have been saved."},b&&{callback:function(){return h(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.termsAndConditions,{state:{next:!0}})}}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsx)("h3",{children:"Owner Detail"}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Name"},y("ownerName")),{},{error:Z.ownerName})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Phone"},y("ownerPhone")),{},{error:Z.ownerPhone})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Email"},y("ownerEmail")),{},{error:Z.ownerEmail})),(0,P.jsx)(u.Dj,{thumbnail:!0,control:j,name:"signature",label:"Signature",accept:"image/*"}),(0,P.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,P.jsx)("button",{className:"btn",disabled:T,children:"Save Changes"}),n&&(0,P.jsx)("button",{className:"btn",disabled:T,onClick:function(){return v(!0)},children:"Next"})]})]})},be=c.Ry({nextInvoiceNo:c.Rx().min(1,"Invoice Number can not be less than 1").required().typeError("Enter a valid number"),nextSalesReturnNo:c.Rx().min(1,"Sales return number can not be less than 1").required().typeError("Enter a valid number"),nextPurchaseNo:c.Rx().min(1,"Purchase Number can not be less than 1").required().typeError("Enter a valid number"),nextPurchaseReturnNo:c.Rx().min(1,"Purchase Return Number can not be less than 1").required().typeError("Enter a valid number"),nextReceiptNo:c.Rx().min(1,"Receipt Number can not be less than 1").required().typeError("Enter a valid number"),nextJournalNo:c.Rx().min(1,"Journal Number can not be less than 1").required().typeError("Enter a valid number"),printCurrency:c.Z_().max(3,"Currency can only be 3 characters long")}),ve=function(e){var n=e.next,t=(0,a.useContext)(o.D),c=t.config,d=t.setConfig,m=(0,a.useState)(!1),f=(0,r.Z)(m,2),p=f[0],v=f[1],h=(0,_.s0)(),x=(0,s.cI)({resolver:(0,S.y)(be)}),g=x.handleSubmit,j=x.register,y=x.reset,N=x.control,Z=x.formState.errors,k=(0,a.useState)([]),T=(0,r.Z)(k,2),A=T[0],E=T[1],F=(0,S.i)(w.Hv.userConfig),D=F.get,H=F.put,R=F.loading;return(0,a.useEffect)((function(){var e,n;c&&(y({nextInvoiceNo:c.nextInvoiceNo,nextSalesReturnNo:c.nextSalesReturnNo,nextPurchaseNo:c.nextPurchaseNo,nextPurchaseReturnNo:c.nextPurchaseReturnNo,nextReceiptNo:c.nextReceiptNo,nextJournalNo:c.nextJournalNo,printQuoteCurrency:(null===c||void 0===c||null===(e=c.printQuote)||void 0===e?void 0:e.currency)||c.print.currency,printQuoteItemColumns:(null===c||void 0===c||null===(n=c.printQuote)||void 0===n?void 0:n.itemColumns)||c.print.itemColumns,printQuoteBusinessInfo:c.printQuote.businessInfo,printCurrency:c.print.currency,printItemColumns:c.print.itemColumns,printInvoiceNoSuffix:c.print.invoiceNoSuffix,printPurchaseNoSuffix:c.print.purchaseNoSuffix,numberSeparator:null===c||void 0===c?void 0:c.numberSeparator}),E(c.unitsOfMeasure))}),[c]),(0,a.useEffect)((function(){D().then((function(e){var n=e.data;n.success||(0,I.N)({type:"error",message:n.message}),d(n.data)})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))}),[]),(0,P.jsxs)("form",{className:"grid gap-1",onSubmit:g((function(e){H({unitsOfMeasure:A,nextInvoiceNo:e.nextInvoiceNo,nextSalesReturnNo:e.nextSalesReturnNo,nextPurchaseNo:e.nextPurchaseNo,nextPurchaseReturnNo:e.nextPurchaseReturnNo,nextReceiptNo:e.nextReceiptNo,nextJournalNo:e.nextJournalNo,numberSeparator:e.numberSeparator,print:{itemColumns:e.printItemColumns,currency:e.printCurrency,invoiceNoSuffix:e.printInvoiceNoSuffix,purchaseNoSuffix:e.printPurchaseNoSuffix},printQuote:{itemColumns:e.printItemColumns,currency:e.printCurrency,businessInfo:e.printQuoteBusinessInfo}}).then((function(e){var n=e.data;if(!n.success)return(0,I.N)({type:"error",message:n.message});d(n.data),(0,I.N)((0,i.Z)({type:"information",message:"Updates have been saved."},p&&{callback:function(){return h(w.Hb.dashboard.replace("*","")+w.Hb.settings.baseUrl.replace("*","")+w.Hb.settings.siteConfig,{state:{next:!0}})}}))})).catch((function(e){return(0,I.N)({type:"error",message:e.message})}))})),children:[(0,P.jsxs)("section",{className:"unitsOfMeasure",children:[(0,P.jsx)("label",{children:"Units Of Measure"}),(0,P.jsxs)("ul",{className:"chips flex align-center",children:[A.map((function(e,n){return(0,P.jsxs)("li",{className:"chip",children:[(0,P.jsx)("span",{children:e}),(0,P.jsx)("button",{type:"button",className:"clear",onClick:function(){return E((function(n){return n.filter((function(n){return n!==e}))}))},children:(0,P.jsx)(C.aHS,{})})]},n)})),(0,P.jsx)("li",{children:(0,P.jsx)(he,{onSuccess:function(e){E((function(n){return(0,l.Z)(new Set([].concat((0,l.Z)(n),[e])))}))}})})]})]}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Next Invoice Number"},j("nextInvoiceNo")),{},{error:Z.nextInvoiceNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Next Sales Return Number"},j("nextSalesReturnNo")),{},{error:Z.nextSalesReturnNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Next Purchase Number"},j("nextPurchaseNo")),{},{error:Z.nextPurchaseNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Next Purchase Return Number"},j("nextPurchaseReturnNo")),{},{error:Z.nextPurchaseReturnNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Next Receipt Number"},j("nextReceiptNo")),{},{error:Z.nextReceiptNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Next Journal Number"},j("nextJournalNo")),{},{error:Z.nextJournalNo})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Invoice No Suffix"},j("printInvoiceNoSuffix")),{},{error:Z.printInvoiceNoSuffix})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Purchase No Suffix"},j("printPurchaseNoSuffix")),{},{error:Z.printPurchaseNoSuffix})),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Print Currency"},j("printCurrency")),{},{error:Z.printCurrency})),(0,P.jsx)(u.hQ,{label:"Number Separator",control:N,name:"numberSeparator",options:[{label:"Indian",value:"en-IN"},{label:"US",value:"en-US"}]}),(0,P.jsx)(u.rG,{control:N,name:"printItemColumns",className:b,multiple:!0,label:"Print Items Columns",options:[{label:"No",value:"no"},{label:"Product",value:"product"},{label:"Qty",value:"qty"},{label:"Unit",value:"unit"},{label:"Total",value:"total"}]}),(0,P.jsx)(u.II,(0,i.Z)((0,i.Z)({label:"Print Quote Currency"},j("printQuoteCurrency")),{},{error:Z.printQuoteCurrency})),(0,P.jsx)(u.rG,{control:N,name:"printQuoteItemColumns",className:b,multiple:!0,label:"Print Quote Items Columns",options:[{label:"No",value:"no"},{label:"Product",value:"product"},{label:"Qty",value:"qty"},{label:"Unit",value:"unit"},{label:"Total",value:"total"}]}),(0,P.jsx)(u.rG,{control:N,name:"printQuoteBusinessInfo",className:b,multiple:!0,label:"Print Quote Business Information",options:[{label:"GSTIN",value:"gstin"},{label:"PAN",value:"pan"},{label:"IFSC",value:"ifsc"},{label:"Bank Name",value:"bank"},{label:"Branch Name",value:"branch"},{label:"Account Number",value:"accountNumber"},{label:"Address",value:"address"},{label:"phone",value:"phone"},{label:"email",value:"email"}]}),(0,P.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,P.jsx)("button",{className:"btn",disabled:R,children:"Save Changes"}),n&&(0,P.jsx)("button",{className:"btn",disabled:R,onClick:function(){return v(!0)},children:"Next"})]})]})},he=function(e){var n=e.onSuccess,t=(0,a.useState)(""),l=(0,r.Z)(t,2),i=l[0],o=l[1];return(0,P.jsxs)("div",{className:p,children:[(0,P.jsx)(u.II,{value:i,onChange:function(e){return o(e.target.value)}}),(0,P.jsx)("button",{type:"button",className:"btn",onClick:function(){i&&(n(i),o(""))},children:"Add"})]})},xe=function(e){var n,t=e.setSidebarOpen,l=(0,_.TH)(),i=(0,a.useState)(null===(n=l.state)||void 0===n?void 0:n.next),o=(0,r.Z)(i,2),s=o[0];o[1];return(0,P.jsxs)("div",{className:d,children:[(0,P.jsx)("div",{className:"flex",children:(0,P.jsxs)("div",{className:"flex align-center pointer gap_5  ml-1",onClick:function(){return t((function(e){return!e}))},children:[(0,P.jsx)(ce.Ps6,{style:{fontSize:"1.75rem"}}),(0,P.jsx)("h2",{children:"Settings"})]})}),(0,P.jsx)(u.mQ,{tabs:[{label:"Business Information",path:w.Hb.settings.businessInformation},{label:"Bank Detail",path:w.Hb.settings.bankDetails},{label:"Owner Detail",path:w.Hb.settings.ownerDetails},{label:"Terms & Conditions",path:w.Hb.settings.termsAndConditions},{label:"AI Chat Knowledge Base",path:w.Hb.settings.aiChatKnowledgeBase},{label:"Configurations",path:w.Hb.settings.config},{label:"Site Configurations",path:w.Hb.settings.siteConfig},{label:"Blogs",path:w.Hb.settings.dynamicPages},{label:"Reports",path:w.Hb.settings.reports}]}),(0,P.jsxs)(_.Z5,{children:[(0,P.jsx)(_.AW,{path:w.Hb.settings.businessInformation,element:(0,P.jsx)(me,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.bankDetails,element:(0,P.jsx)(fe,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.ownerDetails,element:(0,P.jsx)(pe,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.termsAndConditions,element:(0,P.jsx)(E,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.config,element:(0,P.jsx)(ve,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.siteConfig,element:(0,P.jsx)(K,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.aiChatKnowledgeBase,element:(0,P.jsx)($,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.dynamicPages,element:(0,P.jsx)(le,{next:s})}),(0,P.jsx)(_.AW,{path:w.Hb.settings.reports,element:(0,P.jsx)(ue,{next:s})})]})]})}}}]);
//# sourceMappingURL=751.084b397b.chunk.js.map