"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[705],{6705:function(e,s,a){a.r(s),a.d(s,{default:function(){return ye}});var n=a(2982),l=a(885),t=a(2791),i=a(4581),c=a(3504),o=a(6871),r=a(1080),d=a(4316),u="dashboard_container__CJ-Zj",h="dashboard_header__A-GbQ",p="dashboard_open__VxtbW",b="dashboard_user__lgQuI",m="dashboard_profile__p0WaJ",x="dashboard_staff__GN9rN",j="dashboard_role__IegIN",f="dashboard_links__eOBiz",_="dashboard_divider__TjVAj",v="dashboard_icon__i7rwP",g="dashboard_filled__Zx1f0",y="dashboard_label__gWa7t",N="dashboard_active__IFcu5",S="dashboard_actions__Rs2TV",k="dashboard_logoutBtn__c5AlX",z="dashboard_sidebarBackdrop__kNjTR",H="dashboard_content__5dEuV",I="dashboard_loading__3+3+D",W="dashboard_title__giUfP",A="dashboard_btns__3uzc8",O="dashboard_btn__uvpoB",w="dashboard_head__s9K2p",T="dashboard_col__4J29p",P="dashboard_body__67EGa",C="dashboard_row__dGEX6",M="dashboard_settingsLoading__Tk0oq",R="dashboard_tabs__KDebq",D="dashboard_tab__LPpG3",B="dashboard_sq__zMtMy",G=a(2202),F=a(8750),V=a(5454),Z=a(7666),q=a(1909),U=a(1765),E=a(2187),K=a(5804),L=a(358),Y=a(2942),J=a(4794),Q=a(5470),X=a(1134),$=a(184),ee=(0,t.lazy)((function(){return a.e(690).then(a.bind(a,5690))})),se=(0,t.lazy)((function(){return a.e(751).then(a.bind(a,4751))})),ae=(0,t.lazy)((function(){return a.e(791).then(a.bind(a,3791))})),ne=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(98)]).then(a.bind(a,6098))})),le=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(717)]).then(a.bind(a,9717))})),te=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(132)]).then(a.bind(a,4132))})),ie=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(337)]).then(a.bind(a,337))})),ce=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(165)]).then(a.bind(a,5023))})),oe=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(97)]).then(a.bind(a,5097))})),re=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(518)]).then(a.bind(a,2518))})),de=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(946)]).then(a.bind(a,2946))})),ue=(0,t.lazy)((function(){return a.e(323).then(a.bind(a,8323))})),he=(0,t.lazy)((function(){return a.e(336).then(a.bind(a,3336))})),pe=(0,t.lazy)((function(){return a.e(370).then(a.bind(a,7370))})),be=(0,t.lazy)((function(){return a.e(391).then(a.bind(a,8391))})),me=(0,t.lazy)((function(){return a.e(170).then(a.bind(a,601))})),xe=(0,t.lazy)((function(){return Promise.all([a.e(146),a.e(632)]).then(a.bind(a,9632))})),je=(0,t.lazy)((function(){return a.e(22).then(a.bind(a,2022))})),fe=function(e){var s,a,n,l,u,g,H,I,W,A,O=e.sidebarOpen,w=e.sidebarItems,T=e.setSidebarOpen,P=(0,t.useContext)(i.D),C=P.user,M=P.setUser,R=P.userType,D=P.setConfig,B=(0,o.TH)(),q=(0,V.i)(r.Hv["".concat(null===C||void 0===C?void 0:C.userType,"Logout")]||"/").post;return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{className:"".concat(h," ").concat(O?p:""),children:[(0,$.jsxs)("div",{className:"".concat(b," ").concat("staff"===C.userType?x:""),children:[(0,$.jsx)("div",{className:m,children:C.logo||null!==(s=C.businesses)&&void 0!==s&&null!==(a=s[0])&&void 0!==a&&null!==(n=a.business)&&void 0!==n&&n.logo||C.photo?(0,$.jsx)("img",{src:"https://dev-cdn.9m.wtf/crm/"+((null===C||void 0===C?void 0:C.logo)||(null===(l=C.businesses)||void 0===l||null===(u=l[0])||void 0===u||null===(g=u.business)||void 0===g?void 0:g.logo)||(null===C||void 0===C?void 0:C.photo)),alt:"".concat(null===C||void 0===C?void 0:C.name," Logo"),onError:function(e){e.target.src="/assets/user.png"}}):(0,$.jsx)(G.BKo,{style:{transform:"translateY(-2px)"}})}),(0,$.jsx)("div",{children:"staff"===C.userType?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("h2",{className:"ellipsis l-1",children:null===(H=C.businesses)||void 0===H||null===(I=H[0])||void 0===I||null===(W=I.business)||void 0===W?void 0:W.name}),(0,$.jsx)("p",{className:j,children:C.name})]}):(0,$.jsx)("h2",{className:"ellipsis l-1",children:C.name})})]}),O&&"staff"===R&&(null===C||void 0===C||null===(A=C.businesses)||void 0===A?void 0:A.length)>1?(0,$.jsx)(_e,{}):(0,$.jsx)("span",{}),(0,$.jsx)("ul",{className:f,children:w.map((function(e,s,a){var n=null;s>0&&e.section!==a[s-1].section&&(n=(0,$.jsx)("li",{className:_,children:(0,$.jsx)("hr",{})},s));var l=function(s){var a=s.children;return e.target?(0,$.jsx)("a",{href:e.path,target:e.target,onClick:function(){window.innerWidth<=480&&T(!1)},children:a}):(0,$.jsx)(c.rU,{to:e.path,onClick:function(){window.innerWidth<=480&&T(!1)},children:a})};return(0,$.jsxs)(t.Fragment,{children:[n,(0,$.jsx)("li",{className:null!==B&&void 0!==B&&B.pathname.startsWith("/dashboard/".concat(e.path))?N:"",children:(0,$.jsxs)(l,{children:[(0,$.jsxs)("span",{className:v,style:{transitionDelay:"".concat((window.innerWidth<=480?500:0)+50*(O?s:a.length-s),"ms")},children:[e.icon,e.activeIcon]}),(0,$.jsx)("span",{className:y,style:{transitionDelay:"".concat((window.innerWidth<=480?500:0)+50*(O?s:a.length-s),"ms")},children:e.label})]})})]},s)}))}),(0,$.jsxs)("div",{className:"".concat(S," flex gap-1 center"),children:[(0,$.jsx)("a",{href:"".concat("https://apps.infinai.in","/dashboard"),children:(0,$.jsx)("button",{title:"Micro Apps",className:"clear ".concat(k),children:(0,$.jsx)(d.Wuc,{})})}),(0,$.jsx)("button",{title:"Log out",className:"clear ".concat(k),onClick:function(){(0,F.N)({type:"confirmation",message:"Are you sure you want to log out?",callback:function(){q().then((function(e){e.data.success&&(M(null),D(null),window.location.href="".concat("https://apps.infinai.in","/signin?_target=").concat(window.location.origin,"/dashboard/accounting"))}))}})},children:(0,$.jsx)(Z.pGv,{})})]}),(0,$.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," Infin AI Technologies,",(0,$.jsx)("br",{})," All Rights Reserved."]})]}),(0,$.jsx)("div",{className:z,onClick:function(){return T(!1)}})]})},_e=function(){var e=(0,t.useContext)(i.D),s=e.user,a=e.business,l=e.setBusiness,c=e.setConfig,o=(0,X.cI)({defaultValues:{business:(null===a||void 0===a?void 0:a._id)||""}}),r=o.control,d=o.watch,u=o.setValue,h=d("business");return(0,t.useEffect)((function(){var e;a&&!h&&null!==s&&void 0!==s&&null!==(e=s.businesses)&&void 0!==e&&e.length&&u("business",s.businesses[0].business._id)}),[a,h]),(0,$.jsx)(Q.hQ,{label:"Business",control:r,name:"business",options:((null===s||void 0===s?void 0:s.businesses)||[]).map((function(e){var s,a;return{label:null===(s=e.business)||void 0===s?void 0:s.name,value:null===(a=e.business)||void 0===a?void 0:a._id,item:e}})),onChange:function(e){var s;l({business:e.item.business,permissions:(0,n.Z)((null===(s=e.item)||void 0===s?void 0:s.roles.map((function(e){return e.permissions})))||[]).flat()}),c(e.item.config)}})},ve=function(){return(0,$.jsxs)("div",{className:I,children:[(0,$.jsxs)("div",{className:"".concat(h," flex align-center justify-space-between"),children:[(0,$.jsx)("div",{className:"".concat(W," skl-loading")}),(0,$.jsxs)("div",{className:"".concat(A," flex gap_5"),children:[(0,$.jsx)("div",{className:"".concat(O," skl-loading")}),(0,$.jsx)("div",{className:"".concat(O," skl-loading")})]})]}),(0,$.jsxs)("div",{className:H,children:[(0,$.jsxs)("div",{className:w,children:[Array(3).fill(null).map((function(e,s){return(0,$.jsx)("div",{style:{width:"".concat(Math.floor(51*Math.random())+25,"%")},className:"".concat(T," skl-loading")},s)})),(0,$.jsx)("div",{className:"".concat(T," skl-loading")})]}),(0,$.jsx)("div",{className:P,children:Array(4).fill(null).map((function(e,s){return(0,$.jsxs)("div",{className:C,children:[(0,$.jsx)("div",{style:{width:"".concat(Math.floor(51*Math.random())+25,"%")},className:"".concat(T," skl-loading")}),(0,$.jsx)("div",{style:{width:"".concat(Math.floor(51*Math.random())+25,"%")},className:"".concat(T," skl-loading")}),(0,$.jsx)("div",{style:{width:"".concat(Math.floor(51*Math.random())+25,"%")},className:"".concat(T," skl-loading")})]},s)}))})]})]})},ge=function(){return(0,$.jsxs)("div",{className:M,children:[(0,$.jsx)("div",{className:"".concat(R," flex wrap gap_5"),children:Array(5).fill(null).map((function(e,s){return(0,$.jsx)("div",{className:"".concat(D," skl-loading")},s)}))}),(0,$.jsx)("div",{className:"".concat(W," skl-loading")}),(0,$.jsx)("div",{className:"".concat(B," skl-loading")}),(0,$.jsx)("div",{className:"".concat(W," skl-loading")}),(0,$.jsx)("div",{className:"".concat(W," skl-loading")}),(0,$.jsx)("div",{className:"".concat(W," skl-loading")})]})},ye=function(){var e=(0,t.useContext)(i.D),s=e.user,a=e.business,n=e.userType,c=e.checkPermission,d=(0,t.useState)([{icon:(0,$.jsx)(K.u9h,{style:{fontSize:"1.2em",marginTop:"-0.15em"}}),activeIcon:(0,$.jsx)(K.ufG,{style:{fontSize:"1.2em",marginTop:"-0.15em"},className:g}),label:"Home",path:r.Hb.dashboard.replace("/*","")}]),h=(0,l.Z)(d,2),p=h[0],b=h[1],m=(0,t.useState)(window.innerWidth>1220),x=(0,l.Z)(m,2),j=x[0],f=x[1];return(0,t.useEffect)((function(){var e=[];"company"===n||"staff"===n&&a?(e=[{section:"home",icon:(0,$.jsx)(K.u9h,{}),activeIcon:(0,$.jsx)(K.ufG,{className:g}),label:"Home",path:r.Hb.dashboard.replace("/*","")}],["admin"].includes(n)&&e.push({section:"home",icon:(0,$.jsx)(q.cCR,{style:{fontSize:"1.2em"}}),activeIcon:(0,$.jsx)(q.KfF,{style:{fontSize:"1.2em"},className:g}),label:"Businesses",path:r.Hb.businesses}),e.push({section:"home",icon:(0,$.jsx)(U.UFN,{style:{fontSize:"1.2em"}}),activeIcon:(0,$.jsx)(U.HVl,{className:g,style:{fontSize:"1.2em"}}),label:"Micro Apps",path:r.Hb.businesses,target:"_blank"}),e.push({section:"collection",icon:(0,$.jsx)(K.FmP,{style:{marginTop:"0.2em",transform:"rotate(-90deg)"}}),activeIcon:(0,$.jsx)(K.WHc,{style:{marginTop:"0.2em",transform:"rotate(-90deg)"},className:g}),label:"Accounting",path:r.Hb.accounting}),c("quote_read")&&e.push({section:"collection",icon:(0,$.jsx)(K.xNm,{style:{marginTop:"0.15em"}}),activeIcon:(0,$.jsx)(K.WYG,{style:{marginTop:"0.15em"},className:g}),label:"Quotes",path:r.Hb.quotes}),c("order_read")&&e.push({section:"collection",icon:(0,$.jsx)(K.Nrh,{}),activeIcon:(0,$.jsx)(K.aDs,{className:g}),label:"Orders",path:r.Hb.orders}),c("invoice_read")&&e.push({section:"collection",icon:(0,$.jsx)(U.BgS,{style:{fontSize:"1.15em"}}),activeIcon:(0,$.jsx)(U.Yj0,{style:{fontSize:"1.15em"},className:g}),label:"Invoices",path:r.Hb.sales}),c("sales_return_read")&&e.push({section:"collection",icon:(0,$.jsx)(U.BgS,{style:{fontSize:"1.15em"}}),activeIcon:(0,$.jsx)(U.Yj0,{style:{fontSize:"1.15em"},className:g}),label:"Sales Returns",path:r.Hb.salesReturns}),c("purchase_read")&&e.push({section:"collection",icon:(0,$.jsx)(Y.CNd,{style:{fontSize:"1.1em"}}),activeIcon:(0,$.jsx)(Y.uhg,{style:{fontSize:"1.1em"},className:g}),label:"Purchases",path:r.Hb.purchases}),c("purchase_return_read")&&e.push({section:"collection",icon:(0,$.jsx)(Y.CNd,{style:{fontSize:"1.1em"}}),activeIcon:(0,$.jsx)(Y.uhg,{style:{fontSize:"1.1em"},className:g}),label:"Purchase Returns",path:r.Hb.purchaseReturns}),c("reciept_read")&&e.push({section:"collection",icon:(0,$.jsx)(E.d79,{}),activeIcon:(0,$.jsx)(E.Mpc,{className:g}),label:"Receipts",path:r.Hb.receipts}),c("payment_read")&&e.push({section:"collection",icon:(0,$.jsx)(Y.WoA,{style:{fontSize:"1.1em"}}),activeIcon:(0,$.jsx)(Y.WGO,{style:{fontSize:"1.1em"},className:g}),label:"Payments",path:r.Hb.payments}),c("journal_read")&&e.push({section:"collection",icon:(0,$.jsx)(Y.WpK,{style:{fontSize:"1.1em"}}),activeIcon:(0,$.jsx)(Y.l1b,{style:{fontSize:"1.1em"},className:g}),label:"Journals",path:r.Hb.journals}),e.push({icon:(0,$.jsx)(U.ohS,{style:{fontSize:"1.2em"}}),activeIcon:(0,$.jsx)(U.Xx7,{className:g,style:{fontSize:"1.2em"}}),label:"Reports",path:r.Hb.reports}),c("dynamic_table_read")&&e.push({icon:(0,$.jsx)(U.B$u,{style:{fontSize:"1.2em"}}),activeIcon:(0,$.jsx)(U.$pL,{className:g,style:{fontSize:"1.2em"}}),label:"Manage Data",path:r.Hb.dynamicTables.replace("/*","")}),c("chat_read")&&e.push({icon:(0,$.jsx)(E.P4D,{style:{fontSize:"1.2em"}}),activeIcon:(0,$.jsx)(E._j0,{className:g,style:{fontSize:"1.2em"}}),label:"Chats",path:r.Hb.chats}),c("employee_read")&&e.push({section:"management",icon:(0,$.jsx)(L.TSD,{}),activeIcon:(0,$.jsx)(L.IKj,{className:g}),label:"Staffs",path:r.Hb.employees}),c("role_read")&&e.push({section:"management",icon:(0,$.jsx)(E.$rG,{}),activeIcon:(0,$.jsx)(E.OYx,{className:g}),label:"Roles",path:r.Hb.roles}),["company","admin"].includes(n)&&e.push({section:"management",icon:(0,$.jsx)(K.FBj,{}),activeIcon:(0,$.jsx)(K.VJk,{className:g}),label:"Settings",path:r.Hb.settings.baseUrl})):"staff"!==n||a||(e=[{section:"home",icon:(0,$.jsx)(K.u9h,{}),activeIcon:(0,$.jsx)(K.ufG,{className:g}),label:"Home",path:r.Hb.dashboard.replace("/*","")},{section:"other-app",icon:(0,$.jsx)(U.UFN,{style:{fontSize:"1.2em"}}),activeIcon:(0,$.jsx)(U.HVl,{className:g,style:{fontSize:"1.2em"}}),label:"Micro Apps",path:r.Hb.businesses,target:"_blank"}]),b(e)}),[n,s,a]),s?"admin"===n?(0,$.jsxs)("div",{className:u,children:[(0,$.jsx)(fe,{sidebarOpen:j,sidebarItems:p,setSidebarOpen:f}),(0,$.jsx)("div",{className:H,children:(0,$.jsx)(o.Z5,{children:(0,$.jsx)(o.AW,{path:"*",element:(0,$.jsxs)("div",{children:[(0,$.jsx)("div",{className:"flex p-1 align-center gap-1",children:(0,$.jsxs)("div",{className:"flex align-center pointer gap_5  ml-1",onClick:function(){return f((function(e){return!e}))},children:[(0,$.jsx)(K.Ps6,{style:{fontSize:"1.75rem"}}),(0,$.jsx)("h2",{children:"Dashboard"})]})}),(0,$.jsx)("div",{style:{padding:"1rem"},children:(0,$.jsx)("h2",{children:"Please login as a company or staff."})})]})})})})]}):"staff"!==localStorage.getItem("userType")||a?(0,$.jsxs)("div",{className:u,children:[(0,$.jsx)(fe,{sidebarOpen:j,sidebarItems:p,setSidebarOpen:f}),(0,$.jsx)("div",{className:H,children:(0,$.jsxs)(o.Z5,{children:[c("quote_read")&&(0,$.jsx)(o.AW,{path:r.Hb.quotes,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(ie,{setSidebarOpen:f})})}),c("order_read")&&(0,$.jsx)(o.AW,{path:r.Hb.orders,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(te,{setSidebarOpen:f})})}),c("invoice_read")&&(0,$.jsx)(o.AW,{path:r.Hb.sales,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(ne,{setSidebarOpen:f})})}),c("sales_return_read")&&(0,$.jsx)(o.AW,{path:r.Hb.salesReturns,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(le,{setSidebarOpen:f})})}),c("purchase_read")&&(0,$.jsx)(o.AW,{path:r.Hb.purchases,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(ce,{setSidebarOpen:f})})}),c("purchase_return_read")&&(0,$.jsx)(o.AW,{path:r.Hb.purchaseReturns,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(oe,{setSidebarOpen:f})})}),c("reciept_read")&&(0,$.jsx)(o.AW,{path:r.Hb.receipts,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(re,{setSidebarOpen:f})})}),c("payment_read")&&(0,$.jsx)(o.AW,{path:r.Hb.payments,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(de,{setSidebarOpen:f})})}),c("journal_read")&&(0,$.jsx)(o.AW,{path:r.Hb.journals,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(ue,{setSidebarOpen:f})})}),(0,$.jsx)(o.AW,{path:r.Hb.reports,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(xe,{setSidebarOpen:f})})}),(0,$.jsx)(o.AW,{path:r.Hb.accounting,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(je,{setSidebarOpen:f})})}),c("dynamic_table_read")&&(0,$.jsx)(o.AW,{path:r.Hb.dynamicTables,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(he,{setSidebarOpen:f})})}),c("role_read")&&(0,$.jsx)(o.AW,{path:r.Hb.roles,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(pe,{setSidebarOpen:f})})}),c("employee_read")&&(0,$.jsx)(o.AW,{path:r.Hb.employees,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(be,{setSidebarOpen:f})})}),c("chat_read")&&(0,$.jsx)(o.AW,{path:r.Hb.chats,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(me,{setSidebarOpen:f})})}),"admin"===n&&(0,$.jsx)(o.AW,{path:r.Hb.businesses,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ve,{}),children:(0,$.jsx)(ae,{setSidebarOpen:f})})}),["company","admin"].includes(n)&&(0,$.jsx)(o.AW,{path:r.Hb.settings.baseUrl,element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ge,{}),children:(0,$.jsx)(se,{setSidebarOpen:f})})}),(0,$.jsx)(o.AW,{path:"/",element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ge,{}),children:(0,$.jsx)(ee,{setSidebarOpen:f})})})]})})]}):(0,$.jsxs)("div",{className:u,children:[(0,$.jsx)(fe,{sidebarOpen:j,sidebarItems:p,setSidebarOpen:f}),(0,$.jsx)("div",{className:H,children:(0,$.jsx)(o.Z5,{children:(0,$.jsx)(o.AW,{path:"/",element:(0,$.jsx)(t.Suspense,{fallback:(0,$.jsx)(ge,{}),children:(0,$.jsx)(ee,{setSidebarOpen:f})})})})})]}):(0,$.jsx)("div",{children:(0,$.jsx)(J.frZ,{className:"loadingSpinner"})})}}}]);
//# sourceMappingURL=705.d939664e.chunk.js.map