"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[632],{9632:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var a=t(2982),r=t(885),c=t(2791),s=t(5470),i=t(8750),l="receipts_content__Nsv9h",d="receipts_addReceiptFormModal__MtncI",o="receipts_addReceiptForm__Fvy25",u="receipts_receiptDetail__slala",p="receipts_head__D3Krr",f="receipts_receipts__lcH0o",h=t(5454),m=t(1080),x=t(1413),j=t(1146),v=(t(4581),t(184)),_=t(1134),g=t(5804);function N(e){var n,t,a=e.report._id,i=(0,_.cI)(),l=i.register,d=i.watch,p=i.setValue,N=(0,c.useRef)(),D=((0,j.useReactToPrint)({content:function(){return N.current}}),(0,c.useState)({})),b=(0,r.Z)(D,2),y=b[0],S=b[1],k=(0,h.i)(m.Hv.generateReport+"/".concat(a)),R=k.get,Z=k.loading,I=d("startDate"),C=d("endDate");return(0,c.useEffect)((function(){var e={};I&&C&&(e.startDate=I,e.endDate=C),R({query:e}).then((function(e){var n=e.data;null!==n&&void 0!==n&&n.success&&S(n.data)}))}),[I,C]),(0,v.jsx)("div",{className:"grid gap-1 p-1 ".concat(o),children:(0,v.jsx)("div",{className:"grid wrap gap-1 ".concat(u),children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex gap-1 align-center",children:[(0,v.jsx)("h2",{children:y.name}),(0,v.jsxs)("div",{className:"flex gap-1 m-a mr-0 align-end",children:[(0,v.jsx)(s.II,(0,x.Z)({label:"Start Date",type:"date"},l("startDate"))),(0,v.jsx)(s.II,(0,x.Z)({label:"End Date",type:"date"},l("endDate"))),(0,v.jsx)("button",{className:"btn clear iconOnly",onClick:function(){p("startDate",""),p("endDate","")},children:(0,v.jsx)(g.z3f,{})})]})]}),(0,v.jsx)(s.iA,{loading:Z,className:f,columns:null===(n=y.columns)||void 0===n?void 0:n.map((function(e){return{label:e.label}})),children:null===(t=y.records)||void 0===t?void 0:t.map((function(e,n){return(0,v.jsx)("tr",{children:y.columns.map((function(n,t){var a=e[n.label];return Array.isArray(a)?a=a.length:null===a?a=(0,v.jsx)("span",{children:(0,v.jsx)("i",{children:"NULL"})}):"object"===typeof a?a=JSON.stringify(a):a&&"date"===n.dataType?a=(0,v.jsx)(s.W7,{format:"DD MMM YY hh:mma",children:a}):a||(a="--"),(0,v.jsx)("td",{children:a},t)}))},n)}))})]})})})}var D=function(e){var n=e.setSidebarOpen,t=(0,c.useState)([]),o=(0,r.Z)(t,2),u=o[0],x=o[1],j=(0,c.useState)(null),_=(0,r.Z)(j,2),D=_[0],b=_[1],y=(0,c.useState)(!1),S=(0,r.Z)(y,2),k=S[0],R=S[1],Z=(0,h.i)(m.Hv.reports),I=Z.get,C=Z.loading;return(0,c.useEffect)((function(){I().then((function(e){var n=e.data;if(n.success)return x(n.data)})).catch((function(e){return(0,i.N)({type:"error",message:e.message})}))}),[]),(0,v.jsxs)("div",{className:"".concat(l," grid gap-1 m-a p-1"),children:[(0,v.jsx)("div",{className:"flex ".concat(p),children:(0,v.jsxs)("div",{className:"flex align-center pointer gap_5  ml-1",onClick:function(){return n((function(e){return!e}))},children:[(0,v.jsx)(g.Ps6,{style:{fontSize:"1.75rem"}}),(0,v.jsx)("h2",{children:"Reports"})]})}),(0,v.jsx)(s.iA,{loading:C,className:f,columns:[{label:"Name"}],children:u.map((function(e){return(0,v.jsx)("tr",{style:{cursor:"pointer"},onClick:function(){b(e),R(!0)},children:(0,v.jsx)("td",{children:e.name})},e._id)}))}),(0,v.jsx)(i.u,{open:k,head:!0,label:"Report",className:d,setOpen:function(){b(null),R(!1)},children:(0,v.jsx)(N,{report:D,onSuccess:function(e){D?(x((function(n){return n.map((function(n){return n._id===e._id?e:n}))})),b(null)):x((function(n){return[].concat((0,a.Z)(n),[e])})),R(!1)}})})]})}}}]);
//# sourceMappingURL=632.9d1e0714.chunk.js.map