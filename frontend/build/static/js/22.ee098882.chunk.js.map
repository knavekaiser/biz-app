{"version":3,"file":"static/js/22.ee098882.chunk.js","mappings":"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","sources":["webpack://cash-app/./src/Views/Dashboard/Accounting/quotes.module.scss?8207","Views/Dashboard/Accounting/MasterForm.js","Views/Dashboard/Accounting/Filters.js","Views/Dashboard/Accounting/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"quotes_content__d6QGt\",\"innerWrapper\":\"quotes_innerWrapper__0o8+D\",\"sidebar\":\"quotes_sidebar__OueuR\",\"addButton\":\"quotes_addButton__XE+Gn\",\"btns\":\"quotes_btns__y2nuy\",\"listItem\":\"quotes_listItem__ityEv\",\"label\":\"quotes_label__VuSPM\",\"accountName\":\"quotes_accountName__zyenQ\",\"highlight\":\"quotes_highlight__DDeNz\",\"nestedList\":\"quotes_nestedList__B-cIy\",\"open\":\"quotes_open__aa1x+\",\"innerContent\":\"quotes_innerContent__wCHU6\",\"innerContentWrapper\":\"quotes_innerContentWrapper__rKsb7\",\"vouchers\":\"quotes_vouchers__t8sKZ\",\"footer\":\"quotes_footer__AWxAV\",\"analysysPlaceholder\":\"quotes_analysysPlaceholder__0wx94\",\"voucherFilters\":\"quotes_voucherFilters__UNLDz\",\"masterFormModal\":\"quotes_masterFormModal__36AN0\",\"masterForm\":\"quotes_masterForm__dXJKs\",\"print\":\"quotes_print__ir6Gn\",\"logo\":\"quotes_logo__Vsg-f\",\"box\":\"quotes_box__+p8As\",\"items\":\"quotes_items__ANNmM\",\"taxes\":\"quotes_taxes__cyTAG\",\"totalAmount\":\"quotes_totalAmount__rIs44\",\"word\":\"quotes_word__sjhD8\",\"digit\":\"quotes_digit__VyweO\",\"sign\":\"quotes_sign__sG6wg\",\"signature\":\"quotes_signature__YnCoV\",\"head\":\"quotes_head__uo7Hz\",\"quotes\":\"quotes_quotes__tCxCu\",\"date\":\"quotes_date__KOSsI\",\"customer\":\"quotes_customer__6hEHP\",\"net\":\"quotes_net__h-6C4\",\"actions\":\"quotes_actions__Qdwow\",\"addQuoteForm\":\"quotes_addQuoteForm__fmLXp\",\"itemForm\":\"quotes_itemForm__E47xe\",\"itemName\":\"quotes_itemName__hYpvW\",\"mainForm\":\"quotes_mainForm__Neb5l\"};","import { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Input, Combobox, CustomRadio } from \"Components/elements\";\nimport { useYup, useFetch } from \"hooks\";\nimport { Prompt } from \"Components/modal\";\nimport * as yup from \"yup\";\nimport s from \"./quotes.module.scss\";\nimport { endpoints } from \"config\";\n\nconst mainSchema = yup.object({\n  name: yup.string().required(\"Please enter a name\"),\n  parent: yup.string(),\n  type: yup\n    .string()\n    .oneOf([\n      \"Cash\",\n      \"Bank\",\n      \"Customers\",\n      \"Suppliers\",\n      \"Sales\",\n      \"Purchase\",\n      \"Stock\",\n      \"null\",\n      \"Tax\",\n      null,\n    ])\n    .nullable(),\n  isGroup: yup.boolean().required(),\n  openingBalance: yup\n    .number()\n    .min(0, \"Opening balance can't be less than 0.\")\n    .required(\"Please enter opening balance\")\n    .typeError(\"Please enter a valid number\"),\n});\n\nconst Form = ({ edit, masters = [], onSuccess }) => {\n  const {\n    handleSubmit,\n    register,\n    reset,\n    control,\n    formState: { errors },\n  } = useForm({\n    resolver: useYup(mainSchema),\n  });\n\n  const {\n    post: createMaster,\n    put: updateMaster,\n    loading,\n  } = useFetch(endpoints.accountingMasters + `/${edit?._id || \"\"}`);\n\n  useEffect(() => {\n    reset({\n      name: edit?.name || \"\",\n      parent: edit?.parent || \"null\",\n      type: edit?.type || \"null\",\n      isGroup: edit?.isGroup ?? true,\n      openingBalance: Math.abs(edit?.openingBalance || 0),\n      balanceType:\n        edit?.balanceType || (edit?.openingBalance < 0 ? \"credit\" : \"debit\"),\n    });\n  }, [edit]);\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const payload = {\n          ...values,\n          openingBalance:\n            values.balanceType === \"credit\"\n              ? -values.openingBalance\n              : values.openingBalance,\n        };\n        if (values.parent === \"null\") {\n          payload.parent = null;\n        }\n        if (values.type === \"null\") {\n          payload.type = null;\n        }\n        (edit?._id ? updateMaster : createMaster)(payload)\n          .then(({ data }) => {\n            if (!data.success) {\n              return Prompt({ type: \"error\", message: data.message });\n            }\n            onSuccess(data.data);\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      })}\n      className={`${s.masterForm} grid gap-1`}\n    >\n      <Input label=\"Name\" {...register(\"name\")} required error={errors.name} />\n\n      <Combobox\n        label=\"Parent\"\n        name=\"parent\"\n        control={control}\n        options={[\n          { label: \"None\", value: \"null\" },\n          ...masters.map((item) => ({ label: item.name, value: item._id })),\n        ]}\n      />\n\n      <Combobox\n        label=\"Type\"\n        name=\"type\"\n        control={control}\n        options={[\n          { label: \"None\", value: \"null\" },\n          { label: \"Cash\", value: \"Cash\" },\n          { label: \"Bank\", value: \"Bank\" },\n          { label: \"Customers\", value: \"Customers\" },\n          { label: \"Suppliers\", value: \"Suppliers\" },\n          { label: \"Sales\", value: \"Sales\" },\n          { label: \"Purchase\", value: \"Purchase\" },\n          { label: \"Stock\", value: \"Stock\" },\n          { label: \"Tax\", value: \"Tax\" },\n        ]}\n      />\n\n      <Combobox\n        label=\"Is Group\"\n        name=\"isGroup\"\n        control={control}\n        formOptions={{ required: true }}\n        options={[\n          { label: \"No\", value: false },\n          { label: \"Yes\", value: true },\n        ]}\n      />\n\n      <label\n        style={{\n          fontWeight: \"semibold\",\n          fontSize: \"14px\",\n        }}\n      >\n        Opening Balance *\n      </label>\n      <CustomRadio\n        control={control}\n        name=\"balanceType\"\n        options={[\n          { label: \"Credit\", value: \"credit\" },\n          { label: \"Debit\", value: \"debit\" },\n        ]}\n      />\n      <Input\n        type=\"number\"\n        {...register(\"openingBalance\")}\n        required\n        error={errors.openingBalance}\n      />\n\n      <div className=\"btns\">\n        <button className=\"btn\" disabled={loading}>\n          {edit?._id ? \"Update\" : \"Submit\"}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import { useForm } from \"react-hook-form\";\nimport { Input, Combobox } from \"Components/elements\";\nimport s from \"./quotes.module.scss\";\n\nexport const VoucherFilters = ({ filters, setFilters }) => {\n  const {\n    handleSubmit,\n    register,\n    reset,\n    control,\n    formState: { errors },\n  } = useForm();\n\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const filters = {};\n        if (values.type) {\n          filters.type = values.type;\n        }\n        if (values.startDate && values.endDate) {\n          filters.startDate = values.startDate;\n          filters.endDate = values.endDate;\n        }\n        setFilters(filters);\n      })}\n      className={`${s.voucherFilters} grid gap-1`}\n    >\n      <Combobox\n        label=\"Type\"\n        name=\"type\"\n        control={control}\n        options={[\n          { label: \"Invoice\", value: \"Invoice\" },\n          { label: \"Sales Return\", value: \"Sales Return\" },\n          { label: \"Purchase\", value: \"Purchase\" },\n          { label: \"Purchase Return\", value: \"Purchase Return\" },\n          { label: \"Receipt\", value: \"Receipt\" },\n          { label: \"Payment\", value: \"Payment\" },\n        ]}\n      />\n\n      <Input\n        label=\"Start Date\"\n        type=\"datetime-local\"\n        {...register(\"startDate\")}\n        required\n        error={errors.startDate}\n      />\n      <Input\n        label=\"End Date\"\n        type=\"datetime-local\"\n        {...register(\"endDate\")}\n        required\n        error={errors.endDate}\n      />\n\n      <div className=\"flex gap-1\">\n        <button className=\"btn\">Search</button>\n        <button\n          className=\"btn secondary\"\n          type=\"button\"\n          onClick={() => {\n            reset();\n            setFilters({});\n          }}\n        >\n          Clear\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport const AnalysysFilters = ({ filters, setFilters }) => {\n  const {\n    handleSubmit,\n    register,\n    reset,\n    control,\n    formState: { errors },\n  } = useForm();\n\n  return (\n    <form\n      onSubmit={handleSubmit((values) => {\n        const filters = {};\n        if (values.type) {\n          filters.type = values.type;\n        }\n        if (values.startDate && values.endDate) {\n          filters.startDate = values.startDate;\n          filters.endDate = values.endDate;\n        }\n        setFilters(filters);\n      })}\n      className={`${s.voucherFilters} grid gap-1`}\n    >\n      <Input\n        label=\"Start Date\"\n        type=\"date\"\n        {...register(\"startDate\")}\n        required\n        error={errors.startDate}\n      />\n      <Input\n        label=\"End Date\"\n        type=\"date\"\n        {...register(\"endDate\")}\n        required\n        error={errors.endDate}\n      />\n\n      <div className=\"flex gap-1\">\n        <button className=\"btn\">Search</button>\n        <button\n          className=\"btn secondary\"\n          type=\"button\"\n          onClick={() => {\n            reset();\n            setFilters({});\n          }}\n        >\n          Clear\n        </button>\n      </div>\n    </form>\n  );\n};\n","import { useState, useEffect, useMemo, useRef, useContext } from \"react\";\nimport { Table, Moment, Tabs } from \"Components/elements\";\nimport { Prompt, Modal } from \"Components/modal\";\nimport s from \"./quotes.module.scss\";\nimport { useFetch } from \"hooks\";\nimport { endpoints } from \"config\";\n\nimport MasterForm from \"./MasterForm\";\nimport {\n  BsDashSquare,\n  BsFillPlusSquareFill,\n  BsList,\n  BsPlusSquare,\n} from \"react-icons/bs\";\nimport { FiEdit3 } from \"react-icons/fi\";\nimport { PiTreeViewBold } from \"react-icons/pi\";\nimport { CgSpinner } from \"react-icons/cg\";\nimport { VoucherFilters, AnalysysFilters } from \"./Filters\";\nimport { SiteContext } from \"SiteContext\";\n\nconst buildTree = (accounts) => {\n  const accountMap = {};\n  accounts.forEach((account) => {\n    account.children = [];\n    accountMap[account._id] = account;\n  });\n\n  const tree = [];\n\n  accounts.forEach((account) => {\n    if (account.parent) {\n      const parent = accountMap[account.parent];\n      if (parent) {\n        parent.children.push(account);\n      }\n    } else {\n      tree.push(account);\n    }\n  });\n\n  return tree;\n};\n\nconst AccountNode = ({\n  masters,\n  account,\n  setAddMaster,\n  activeGroup,\n  activeLeaf,\n  activeLeavs = [],\n  defaultBalanceType,\n  onClick = () => {},\n}) => {\n  const [children, setChildren] = useState([]);\n  const [open, setOpen] = useState(false);\n  const { get: getMasters, loading } = useFetch(endpoints.accountingMasters);\n\n  useEffect(() => {\n    if (account.children) {\n      if (\n        account.children.length &&\n        account.totalChildren > account.children.length\n      ) {\n        getMasters({ query: { parent: account._id } })\n          .then(({ data }) => {\n            if (data.success) {\n              setChildren(data.data);\n              setOpen(true);\n            } else {\n              Prompt({ type: \"error\", message: data.message });\n            }\n          })\n          .catch((err) => Prompt({ type: \"error\", message: err.message }));\n      } else {\n        setChildren(account.children);\n        setOpen(account?.isGroup ? account.children.length > 0 : false);\n      }\n    }\n  }, [account.children]);\n\n  return (\n    <li style={{ whiteSpace: \"nowrap\" }} className={s.listItem}>\n      <div className={s.label}>\n        {account.isGroup && (\n          <>\n            {(children?.length || account.totalChildren) > 0 ? (\n              <button\n                onClick={() => {\n                  if (children?.length === account.totalChildren) {\n                    setOpen(!open);\n                  } else {\n                    getMasters({ query: { parent: account._id } })\n                      .then(({ data }) => {\n                        if (data.success) {\n                          setChildren(data.data);\n                          setOpen(true);\n                        } else {\n                          Prompt({ type: \"error\", message: data.message });\n                        }\n                      })\n                      .catch((err) =>\n                        Prompt({ type: \"error\", message: err.message })\n                      );\n                  }\n                }}\n              >\n                {loading ? (\n                  <CgSpinner className=\"spin\" />\n                ) : open ? (\n                  <BsDashSquare />\n                ) : (\n                  <BsPlusSquare />\n                )}\n              </button>\n            ) : (\n              <button\n                style={{\n                  height: \"16px\",\n                  width: \"16px\",\n                  // background: \"none\",\n                  border: \"1px dashed #818181\",\n                  borderRadius: \"2px\",\n                  pointerEvents: \"none\",\n                }}\n              />\n            )}\n          </>\n        )}\n        <strong\n          className={`${s.accountName} ${\n            (account.isGroup && activeGroup === account._id) ||\n            (!account.isGroup && activeLeaf === account._id) ||\n            activeLeavs.includes(account._id)\n              ? s.highlight\n              : \"\"\n          }`}\n          onClick={() => {\n            onClick(account);\n          }}\n        >\n          {account.name}\n        </strong>\n        <div className={s.btns}>\n          <button className={s.addButton} onClick={() => setAddMaster(account)}>\n            <FiEdit3 />\n          </button>\n          {account.isGroup && (\n            <button\n              className={s.addButton}\n              onClick={() => {\n                setAddMaster({\n                  parent: account._id,\n                  type: account.type || \"\",\n                  balanceType: defaultBalanceType,\n                });\n              }}\n            >\n              <BsFillPlusSquareFill />\n            </button>\n          )}\n        </div>\n      </div>\n      {open && children.length > 0 && (\n        <ul\n          className={`${s.nestedList} ${\n            account.isGroup && activeGroup === account._id ? s.highlight : \"\"\n          }`}\n        >\n          {children.map((child) => (\n            <AccountNode\n              key={child._id}\n              defaultBalanceType={defaultBalanceType}\n              masters={masters}\n              activeGroup={activeGroup}\n              activeLeaf={activeLeaf}\n              activeLeavs={activeLeavs}\n              account={child}\n              setAddMaster={setAddMaster}\n              onClick={onClick}\n            />\n          ))}\n        </ul>\n      )}\n    </li>\n  );\n};\n\nconst Accounting = ({ setSidebarOpen }) => {\n  const { config } = useContext(SiteContext);\n  const [addMaster, setAddMaster] = useState(null);\n  const [masters, setMasters] = useState([]);\n  const [tab, setTab] = useState(\"voucherListing\");\n  const [open, setOpen] = useState(true);\n  const [analysysAcc, setAnalysysAcc] = useState(null);\n  const [ledger, setLedger] = useState({});\n  const [vouchers, setVouchers] = useState([]);\n  const [journalAcc, setJournalAcc] = useState([]);\n\n  const { get: getMasters } = useFetch(endpoints.accountingMasters);\n\n  const treeData = useMemo(() => buildTree(masters), [masters]);\n\n  useEffect(() => {\n    getMasters({ query: { isGroup: \"true\" } })\n      .then(({ data }) => {\n        if (data.success) {\n          return setMasters(data.data);\n        }\n      })\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\n  }, []);\n\n  return (\n    <div className={`${s.content} grid gap-1 m-a`}>\n      <div className={`flex ${s.head}`}>\n        <div\n          className={`flex align-center pointer gap_5  ml-1`}\n          onClick={() => setSidebarOpen((prev) => !prev)}\n        >\n          <BsList style={{ fontSize: \"1.75rem\" }} />\n          <h2>Accounting</h2>\n          {/* <button\n            className=\"btn clear iconOnly\"\n            onClick={(e) => {\n              e.stopPropagation();\n              setAddQuote(true);\n            }}\n          >\n            <GoPlus />\n          </button> */}\n        </div>\n      </div>\n\n      <div className={`${s.innerWrapper} ${open ? s.open : \"\"}`}>\n        <div className={s.sidebar}>\n          <button className={s.addButton} onClick={() => setAddMaster({})}>\n            <BsFillPlusSquareFill />\n          </button>\n          <ul>\n            {masters.length > 0 ? (\n              treeData.map((account) => (\n                <AccountNode\n                  defaultBalanceType={\n                    account.name === \"Assets\" ? \"debit\" : \"credit\"\n                  }\n                  masters={masters}\n                  key={account._id}\n                  account={account}\n                  setAddMaster={setAddMaster}\n                  activeGroup={tab === \"analysys\" ? analysysAcc?._id : null}\n                  activeLeaf={tab === \"ledgers\" ? ledger?.account?._id : null}\n                  activeLeavs={\n                    tab === \"journals\" ? journalAcc.map((acc) => acc._id) : []\n                  }\n                  onClick={(account) => {\n                    if (tab === \"journals\") {\n                      if (!account.isGroup) {\n                        setJournalAcc((prev) =>\n                          prev.some((acc) => acc._id === account._id)\n                            ? prev.filter((acc) => acc._id !== account._id)\n                            : [...prev, account].filter(\n                                (acc, i, arr) =>\n                                  arr.findIndex(\n                                    (item) => item._id === acc._id\n                                  ) === i\n                              )\n                        );\n                      }\n                      return;\n                    }\n                    if (account.isGroup) {\n                      setAnalysysAcc(account);\n                      setTab(\"analysys\");\n                    } else {\n                      const firstRecords = (vouchers || []).filter(\n                        (item) => item.accountId === account._id\n                      );\n                      const otherRecords = (vouchers || []).filter((item) =>\n                        firstRecords.some((rec) => rec.rec_id === item.rec_id)\n                      );\n                      const allRecords = [\n                        ...firstRecords,\n                        ...otherRecords,\n                      ].filter(\n                        (obj, index, self) =>\n                          index ===\n                          self.findIndex(\n                            (o) =>\n                              o.rec_id === obj.rec_id && o.index === obj.index\n                          )\n                      );\n\n                      const detailedRows = allRecords\n                        .filter((row) => row.accountId !== account._id)\n                        .reduce((p, c) => {\n                          const index = p.findIndex((item) =>\n                            item.some((row) => row.rec_id === c.rec_id)\n                          );\n                          if (index === -1) {\n                            p.push([c]);\n                          } else {\n                            p[index].push(c);\n                          }\n                          return p;\n                        }, [])\n                        .map((item) => {\n                          const accRec = allRecords.find(\n                            (rec) => rec.rec_id === item[0].rec_id\n                          );\n                          if (item.length <= 1) {\n                            return {\n                              ...item[0],\n                              debit: accRec.debit,\n                              credit: accRec.credit,\n                            };\n                          } else {\n                            return {\n                              ...item[0],\n                              details: item.map((row) => ({\n                                label: row.accountName,\n                                value: row.credit || row.debit,\n                              })),\n                              // credit: item.reduce((p, c) => p + c.credit, 0),\n                              // debit: item.reduce((p, c) => p + c.debit, 0),\n                              debit: accRec.debit,\n                              credit: accRec.credit,\n                            };\n                          }\n                        })\n                        .sort((a, b) => (new Date(a) > new Date(b) ? 1 : -1))\n                        .sort((a, b) => (a.index > b.index ? 1 : -1))\n                        .reduce((p, c) => {\n                          if (c.details?.length) {\n                            p.push(\n                              ...[\n                                c,\n                                ...c.details.map((item) => ({\n                                  createdAt: null,\n                                  no: null,\n                                  type: null,\n                                  accountName: (\n                                    <p>\n                                      {item.label}:{\" \"}\n                                      {item.value.fix(\n                                        2,\n                                        config?.numberSeparator\n                                      )}\n                                    </p>\n                                  ),\n                                  debit: null,\n                                  credit: null,\n                                })),\n                              ]\n                            );\n                          } else {\n                            p.push(c);\n                          }\n                          return p;\n                        }, []);\n                      setLedger({\n                        account,\n                        rows: detailedRows,\n                      });\n                      setTab(\"ledgers\");\n                    }\n                  }}\n                />\n              ))\n            ) : (\n              <p\n                style={{\n                  marginTop: \"1rem\",\n                  marginBottom: \"1rem\",\n                  textAlign: \"center\",\n                  textWrap: \"balance\",\n                  color: \"#797979\",\n                }}\n              >\n                No accounts have been added yet.\n              </p>\n            )}\n          </ul>\n        </div>\n        <div className={s.innerContent}>\n          <div className=\"flex gap-1 align-center\">\n            <button\n              className=\"btn clear iconOnly\"\n              onClick={() => setOpen(!open)}\n            >\n              <PiTreeViewBold />\n            </button>\n            <Tabs\n              activeTab={tab}\n              tabs={[\n                { label: \"Voucher Listing\", value: \"voucherListing\" },\n                { label: \"Ledgers\", value: \"ledgers\" },\n                { label: \"Accounting Analysys\", value: \"analysys\" },\n                // { label: \"Journals\", value: \"journals\" },\n              ]}\n              onChange={(tab) => setTab(tab.value)}\n            />\n          </div>\n          {tab === \"voucherListing\" && (\n            <Vouchers vouchers={vouchers} setVouchers={setVouchers} />\n          )}\n          {tab === \"ledgers\" && (\n            <Ledgers account={ledger?.account} rows={ledger?.rows} />\n          )}\n          {tab === \"analysys\" && <Analysys account={analysysAcc} />}\n        </div>\n      </div>\n\n      <Modal\n        open={addMaster}\n        head\n        label={`${addMaster?._id ? \"Update\" : \"Add\"} Account`}\n        className={s.masterFormModal}\n        setOpen={() => {\n          setAddMaster(null);\n        }}\n      >\n        <MasterForm\n          edit={addMaster}\n          masters={masters}\n          onSuccess={() => {\n            getMasters({ query: { isGroup: \"true\" } })\n              .then(({ data }) => {\n                if (data.success) {\n                  return setMasters(data.data);\n                }\n              })\n              .catch((err) => Prompt({ type: \"error\", message: err.message }));\n            setAddMaster(false);\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nconst Vouchers = ({ vouchers, setVouchers }) => {\n  const { config } = useContext(SiteContext);\n  const [filters, setFilters] = useState({});\n  const voucherTableRef = useRef();\n\n  const { get: getVouchers } = useFetch(endpoints.accountingVouchers);\n\n  useEffect(() => {\n    getVouchers({ query: filters })\n      .then(({ data }) => {\n        if (data.success) {\n          setVouchers(data.data);\n        } else {\n          Prompt({ type: \"error\", message: data.message });\n        }\n      })\n      .catch((err) => Prompt({ type: \"error\", message: err.message }));\n  }, [filters]);\n\n  return (\n    <div className={s.innerContentWrapper}>\n      <VoucherFilters filters={filters} setFilters={setFilters} />\n      <Table\n        ref={voucherTableRef}\n        countRecord={() =>\n          vouchers.reduce(\n            (p, c, i, arr) => p + (arr[i - 1]?.rec_id !== c.rec_id ? 1 : 0),\n            0\n          )\n        }\n        className={s.vouchers}\n        columns={[\n          { label: \"Date\" },\n          { label: \"No\" },\n          { label: \"Type\" },\n          { label: \"Account Name\" },\n          { label: \"Debit\", className: \"text-right\" },\n          { label: \"Credit\", className: \"text-right\" },\n          // { label: \"Action\" },\n        ]}\n        tfoot={() => (\n          <tfoot>\n            <tr className={s.footer}>\n              <td />\n              <td />\n              <td />\n              <td className=\"text-right\">Total</td>\n              <td className=\"text-right\">\n                {vouchers\n                  .reduce((p, c) => p + c.debit, 0)\n                  .fix(2, config?.numberSeparator)}\n              </td>\n              <td className=\"text-right\">\n                {vouchers\n                  .reduce((p, c) => p + c.credit, 0)\n                  .fix(2, config?.numberSeparator)}\n              </td>\n            </tr>\n          </tfoot>\n        )}\n      >\n        {vouchers.map((row, i, arr) => (\n          <tr key={i}>\n            <td className=\"grid\">\n              {arr[i - 1]?.rec_id !== row.rec_id && (\n                <>\n                  <Moment style={{ fontSize: \"14px\" }} format=\"DD MMM YYYY\">\n                    {row.createdAt}\n                  </Moment>\n                  <Moment format=\"hh:mma\">{row.createdAt}</Moment>\n                </>\n              )}\n            </td>\n            <td>{arr[i - 1]?.rec_id !== row.rec_id && row.no}</td>\n            <td>{arr[i - 1]?.rec_id !== row.rec_id && row.type}</td>\n            <td>{row.accountName}</td>\n            <td className=\"text-right\">\n              {row.debit ? row.debit.fix(2, config?.numberSeparator) : null}\n            </td>\n            <td className=\"text-right\">\n              {row.credit ? row.credit.fix(2, config?.numberSeparator) : null}\n            </td>\n          </tr>\n        ))}\n      </Table>\n    </div>\n  );\n};\n\nconst Ledgers = ({ account, rows }) => {\n  const { config } = useContext(SiteContext);\n  const [data, setData] = useState([]);\n  const [openingBalance, setOpeningBalance] = useState(0);\n  const [filters, setFilters] = useState({});\n  const { get: getData } = useFetch(endpoints.accountingLedgers);\n\n  const closingBalance =\n    openingBalance +\n    data.reduce((p, c) => p + c.debit, 0) -\n    data.reduce((p, c) => p + c.credit, 0);\n  useEffect(() => {\n    if (account) {\n      const query = { accountId: account._id };\n      if (filters.startDate && filters.endDate) {\n        query.startDate = filters.startDate;\n        query.endDate = filters.endDate;\n      }\n      getData({ query })\n        .then(({ data }) => {\n          if (data.success) {\n            setData(data.data);\n            setOpeningBalance(data.openingBalance || 0);\n          } else {\n            Prompt({ type: \"error\", message: data.message });\n          }\n        })\n        .catch((err) => Prompt({ type: \"error\", message: err.message }));\n    } else {\n      setData([]);\n    }\n  }, [account, filters]);\n  return (\n    <div className={s.innerContentWrapper}>\n      {account ? (\n        <>\n          <AnalysysFilters filter={filters} setFilters={setFilters} />\n          <p\n            style={{ fontWeight: \"600\", fontSize: \"1.2em\" }}\n            className=\"mt-1 pl_5\"\n          >\n            {account.name}\n          </p>\n          <Table\n            className={s.vouchers}\n            columns={[\n              { label: \"Date\" },\n              { label: \"No\" },\n              { label: \"Type\" },\n              { label: \"Account Name\" },\n              { label: \"Debit\", className: \"text-right\" },\n              { label: \"Credit\", className: \"text-right\" },\n            ]}\n            tfoot={\n              <tfoot style={{ marginTop: \"0\" }}>\n                <tr className={s.footer}>\n                  <td />\n                  <td />\n                  <td style={{ fontWeight: \"bold\" }}>Totals</td>\n                  <td />\n                  <td className=\"text-right\">\n                    {data\n                      .reduce((p, c) => p + c.debit, 0)\n                      .fix(2, config?.numberSeparator)}\n                  </td>\n                  <td className=\"text-right\">\n                    {data\n                      .reduce((p, c) => p + c.credit, 0)\n                      .fix(2, config?.numberSeparator)}\n                  </td>\n                </tr>\n                <tr className={s.footer}>\n                  <td />\n                  <td />\n                  <td style={{ fontWeight: \"bold\" }}>Closing Balance</td>\n                  <td />\n                  {closingBalance < 0 ? (\n                    <>\n                      <td />\n                      <td className=\"text-right\">\n                        {Math.abs(closingBalance).fix(\n                          2,\n                          config?.numberSeparator\n                        )}\n                      </td>\n                    </>\n                  ) : (\n                    <>\n                      <td className=\"text-right\">\n                        {Math.abs(closingBalance).fix(\n                          2,\n                          config?.numberSeparator\n                        )}\n                      </td>\n                      <td />\n                    </>\n                  )}\n                </tr>\n              </tfoot>\n            }\n          >\n            <tr>\n              <td />\n              <td />\n              <td style={{ fontWeight: \"bold\" }} className=\"grid\">\n                Opening Balance\n              </td>\n              <td />\n              {openingBalance < 0 ? (\n                <>\n                  <td />\n                  <td className=\"text-right\">\n                    {Math.abs(openingBalance || 0).fix(\n                      2,\n                      config?.numberSeparator\n                    )}\n                  </td>\n                </>\n              ) : (\n                <>\n                  <td className=\"text-right\">\n                    {Math.abs(openingBalance || 0).fix(\n                      2,\n                      config?.numberSeparator\n                    )}\n                  </td>\n                  <td />\n                </>\n              )}\n            </tr>\n            {data.map((row, i, arr) => {\n              return (\n                <tr key={i}>\n                  <td className=\"grid\">\n                    {row.createdAt && arr[i - 1]?.rec_id !== row.rec_id && (\n                      <>\n                        <Moment\n                          style={{ fontSize: \"14px\" }}\n                          format=\"DD MMM YYYY\"\n                        >\n                          {row.createdAt}\n                        </Moment>\n                        <Moment format=\"hh:mma\">{row.createdAt}</Moment>\n                      </>\n                    )}\n                  </td>\n                  <td>{arr[i - 1]?.rec_id !== row.rec_id && row.no}</td>\n                  <td>{arr[i - 1]?.rec_id !== row.rec_id && row.type}</td>\n                  <td className=\"grid\">\n                    {row.details?.length > 0 ? \"Details:\" : row.accountName}\n                  </td>\n                  <td className=\"text-right\">\n                    {row.debit\n                      ? row.debit.fix(2, config?.numberSeparator)\n                      : null}\n                  </td>\n                  <td className=\"text-right\">\n                    {row.credit\n                      ? row.credit.fix(2, config?.numberSeparator)\n                      : null}\n                  </td>\n                </tr>\n              );\n            })}\n          </Table>\n        </>\n      ) : (\n        <p className={s.analysysPlaceholder}>No account has been selected.</p>\n      )}\n    </div>\n  );\n};\n\nconst Analysys = ({ account }) => {\n  const { config } = useContext(SiteContext);\n  const [months, setMonths] = useState([]);\n  const [filters, setFilters] = useState({});\n  const [openingBalances, setOpeningBalances] = useState({});\n  const [data, setData] = useState([]);\n  const [calculation, setCalculation] = useState(\"sum_debit\");\n\n  const totalOpeningBalance = Object.values(openingBalances || {}).reduce(\n    (p, c) => p + (c || 0),\n    0\n  );\n  const totalClosingBalance = data.reduce(\n    (p, row) =>\n      p +\n      ((openingBalances[row._id] || 0) +\n        row.entries.flat().reduce((p, c) => p + c.debit, 0) -\n        row.entries.flat().reduce((p, c) => p + c.credit, 0)),\n    0\n  );\n\n  const { get, loading } = useFetch(endpoints.accountingMonthlyAnalysys);\n  useEffect(() => {\n    if (account) {\n      const query = { accountId: account._id };\n      if (filters.startDate && filters.endDate) {\n        query.startDate = filters.startDate;\n        query.endDate = filters.endDate;\n      }\n      get({ query })\n        .then(({ data }) => {\n          if (data.success) {\n            setData(data.data);\n            setMonths(data.months);\n            setOpeningBalances(data.openingBalances);\n          } else {\n            Prompt({ type: \"error\", message: data.message });\n          }\n        })\n        .catch((err) => Prompt({ type: \"error\", message: err.message }));\n    } else {\n      setData([]);\n      setMonths([]);\n    }\n  }, [account, filters]);\n  useEffect(() => {\n    if (account) {\n      setCalculation(\n        [\"Liabilities\", \"Income\"].includes(account?.name)\n          ? \"sum_credit\"\n          : \"sum_debit\"\n      );\n    }\n  }, [account]);\n  return (\n    <div className={s.innerContentWrapper}>\n      {account ? (\n        <div>\n          <AnalysysFilters filters={filters} setFilters={setFilters} />\n          <div className=\"mt-1 flex gap-2 align-center\">\n            <p\n              style={{ fontWeight: \"600\", fontSize: \"1.2em\" }}\n              className=\"pl_5\"\n            >\n              {account.name}\n            </p>\n            <div className=\"flex gap-2\">\n              <label className=\"flex align-center gap_5\">\n                <input\n                  name=\"calculation\"\n                  type=\"radio\"\n                  value=\"statement\"\n                  checked={calculation === \"statement\"}\n                  onChange={(e) => setCalculation(e.target.value)}\n                />\n                Accounting Statement\n              </label>\n              <label className=\"flex align-center gap_5\">\n                <input\n                  name=\"calculation\"\n                  type=\"radio\"\n                  value=\"sum_debit\"\n                  checked={calculation === \"sum_debit\"}\n                  onChange={(e) => setCalculation(e.target.value)}\n                />\n                Sum Of Debits\n              </label>\n              <label className=\"flex align-center gap_5\">\n                <input\n                  name=\"calculation\"\n                  type=\"radio\"\n                  value=\"sum_credit\"\n                  checked={calculation === \"sum_credit\"}\n                  onChange={(e) => setCalculation(e.target.value)}\n                />\n                Sum Of Credit\n              </label>\n              <label className=\"flex align-center gap_5\">\n                <input\n                  name=\"calculation\"\n                  type=\"radio\"\n                  value=\"net\"\n                  checked={calculation === \"net\"}\n                  onChange={(e) => setCalculation(e.target.value)}\n                />\n                Net\n              </label>\n              <label className=\"flex align-center gap_5\">\n                <input\n                  name=\"calculation\"\n                  type=\"radio\"\n                  value=\"balance\"\n                  checked={calculation === \"balance\"}\n                  onChange={(e) => setCalculation(e.target.value)}\n                />\n                Balance\n              </label>\n            </div>\n          </div>\n          <Table\n            loading={loading}\n            className={s.analysys}\n            columns={[\n              { label: account.name },\n              ...(calculation === \"statement\"\n                ? [\n                    { label: \"Opening Balance\", className: \"text-right\" },\n                    { label: \"Total Debit\", className: \"text-right\" },\n                    { label: \"Total Credit\", className: \"text-right\" },\n                    { label: \"Closing Balance\", className: \"text-right\" },\n                  ]\n                : (months || []).map((item) => ({\n                    label: item.label,\n                    className: \"text-right\",\n                  }))),\n            ]}\n            tfoot={\n              <tfoot style={{ marginTop: \"0\" }}>\n                <tr\n                  className={s.footer}\n                  style={{\n                    borderTop: \"1px solid #979797\",\n                    padding: \"0 0.5rem\",\n                    paddingTop: \"1rem\",\n                  }}\n                >\n                  <td>Total</td>\n                  {calculation === \"statement\" ? (\n                    <>\n                      <td className=\"text-right\">\n                        {Math.abs(totalOpeningBalance).fix(\n                          2,\n                          config?.numberSeparator\n                        )}{\" \"}\n                        {totalOpeningBalance < 0 ? \"Cr.\" : \"Dr.\"}\n                      </td>\n                      <td className=\"text-right\">\n                        {data\n                          .reduce(\n                            (p, row) =>\n                              p +\n                              row.entries\n                                .flat()\n                                .reduce((p, c) => p + c.debit, 0),\n                            0\n                          )\n                          .fix(2, config?.numberSeparator)}\n                      </td>\n                      <td className=\"text-right\">\n                        {data\n                          .reduce(\n                            (p, row) =>\n                              p +\n                              row.entries\n                                .flat()\n                                .reduce((p, c) => p + c.credit, 0),\n                            0\n                          )\n                          .fix(2, config?.numberSeparator)}\n                      </td>\n                      <td className=\"text-right\">\n                        {Math.abs(totalClosingBalance).fix(\n                          2,\n                          config?.numberSeparator\n                        )}{\" \"}\n                        {totalClosingBalance < 0 ? \"Cr.\" : \"Dr.\"}\n                      </td>\n                    </>\n                  ) : (\n                    (months || []).map((month, i) => (\n                      <td key={i} className=\"text-right\">\n                        {analyzeAccounts(\n                          calculation,\n                          data.reduce((prev, curr, j) => {\n                            prev.push(...curr.entries[i]);\n                            return prev;\n                          }, []),\n                          0,\n                          config?.numberSeparator\n                        )}\n                      </td>\n                    ))\n                  )}\n                </tr>\n              </tfoot>\n            }\n          >\n            {(data || []).map((row, i, arr) => {\n              const closingBalance =\n                (openingBalances[row._id] || 0) +\n                row.entries.flat().reduce((p, c) => p + c.debit, 0) -\n                row.entries.flat().reduce((p, c) => p + c.credit, 0);\n              return (\n                <tr key={i}>\n                  <td className=\"grid\">{row.name}</td>\n                  {calculation === \"statement\" ? (\n                    <>\n                      <td className=\"text-right\">\n                        {Math.abs(openingBalances[row._id])?.fix(\n                          2,\n                          config?.numberSeparator\n                        )}{\" \"}\n                        {openingBalances[row._id] < 0 ? \"Cr.\" : \"Dr.\"}\n                      </td>\n                      <td className=\"text-right\">\n                        {row.entries\n                          .flat()\n                          .reduce((p, c) => p + c.debit, 0)\n                          .fix(2, config?.numberSeparator)}\n                      </td>\n                      <td className=\"text-right\">\n                        {row.entries\n                          .flat()\n                          .reduce((p, c) => p + c.credit, 0)\n                          .fix(2, config?.numberSeparator)}\n                      </td>\n                      <td className=\"text-right\">\n                        {Math.abs(closingBalance).fix(\n                          2,\n                          config?.numberSeparator\n                        )}{\" \"}\n                        {closingBalance < 0 ? \"Cr.\" : \"Dr.\"}\n                      </td>\n                    </>\n                  ) : (\n                    (months || []).map((month, i) => (\n                      <td key={i} className=\"text-right\">\n                        {analyzeAccounts(\n                          calculation,\n                          row.entries[i],\n                          row.openingBalance,\n                          config?.numberSeparator\n                        )}\n                      </td>\n                    ))\n                  )}\n                </tr>\n              );\n            })}\n          </Table>\n        </div>\n      ) : (\n        <p className={s.analysysPlaceholder}>No group has been selected.</p>\n      )}\n    </div>\n  );\n};\n\nconst analyzeAccounts = (calculation, entries, openingBalance = 0, locale) => {\n  let result = null;\n  if (calculation === \"sum_debit\") {\n    result = entries.reduce((p, c) => p + c.debit, 0);\n  } else if (calculation === \"statement\") {\n    result = entries.reduce((p, c) => p + c.debit - c.credit, 0);\n  } else if (calculation === \"sum_credit\") {\n    result = entries.reduce((p, c) => p + c.credit, 0);\n  } else if (calculation === \"net\") {\n    result = entries.reduce((p, c) => p + c.debit - c.credit, 0);\n  } else if (calculation === \"balance\") {\n    result =\n      entries.reduce((p, c) => p + c.debit - c.credit, 0) + openingBalance;\n  }\n  if ([\"net\", \"balance\"].includes(calculation)) {\n    return `${Math.abs(result).fix(2, locale)} ${result < 0 ? \"Cr.\" : \"Dr.\"}`;\n  }\n  return result.fix(2, locale);\n};\n\nexport default Accounting;\n"],"names":["mainSchema","yup","name","required","parent","type","oneOf","nullable","isGroup","openingBalance","min","typeError","edit","masters","onSuccess","useForm","resolver","useYup","handleSubmit","register","reset","control","errors","formState","useFetch","endpoints","_id","createMaster","post","updateMaster","put","loading","useEffect","Math","abs","balanceType","onSubmit","values","payload","then","data","success","Prompt","message","catch","err","className","s","label","error","options","value","map","item","formOptions","style","fontWeight","fontSize","disabled","VoucherFilters","filters","setFilters","startDate","endDate","onClick","AnalysysFilters","AccountNode","account","setAddMaster","activeGroup","activeLeaf","activeLeavs","defaultBalanceType","useState","children","setChildren","open","setOpen","getMasters","get","length","totalChildren","query","whiteSpace","height","width","border","borderRadius","pointerEvents","includes","child","Vouchers","vouchers","setVouchers","config","useContext","SiteContext","voucherTableRef","useRef","getVouchers","ref","countRecord","reduce","p","c","i","arr","rec_id","columns","tfoot","debit","fix","numberSeparator","credit","row","format","createdAt","no","accountName","Ledgers","rows","setData","setOpeningBalance","getData","closingBalance","accountId","filter","marginTop","details","Analysys","months","setMonths","openingBalances","setOpeningBalances","calculation","setCalculation","totalOpeningBalance","Object","totalClosingBalance","entries","flat","checked","onChange","e","target","borderTop","padding","paddingTop","month","analyzeAccounts","prev","curr","j","push","locale","result","setSidebarOpen","addMaster","setMasters","tab","setTab","analysysAcc","setAnalysysAcc","ledger","setLedger","journalAcc","setJournalAcc","treeData","useMemo","accounts","accountMap","forEach","tree","buildTree","acc","firstRecords","otherRecords","some","rec","allRecords","obj","index","self","findIndex","o","detailedRows","accRec","find","sort","a","b","Date","marginBottom","textAlign","textWrap","color","activeTab","tabs","head","MasterForm"],"sourceRoot":""}