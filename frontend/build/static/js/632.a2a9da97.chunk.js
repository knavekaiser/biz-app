"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[632],{9632:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var c=t(2982),r=t(885),a=t(2791),s=t(3806),i=t(2202),l=t(8750),o="receipts_content__Nsv9h",u="receipts_addReceiptFormModal__MtncI",d="receipts_addReceiptForm__Fvy25",p="receipts_receiptDetail__slala",f="receipts_head__D3Krr",h="receipts_receipts__lcH0o",m="receipts_actions__-tIac",_=t(5454),x=t(1080),j=t(1146),v=(t(4581),t(184));function g(e){var n,t,c=e.report._id,i=(0,a.useRef)(),l=((0,j.useReactToPrint)({content:function(){return i.current}}),(0,a.useState)({})),o=(0,r.Z)(l,2),u=o[0],f=o[1],m=(0,_.i)(x.Hv.generateReport+"/".concat(c)),g=m.get,N=m.loading;return(0,a.useEffect)((function(){g().then((function(e){var n=e.data;null!==n&&void 0!==n&&n.success&&f(n.data)}))}),[]),(0,v.jsx)("div",{className:"grid gap-1 p-1 ".concat(d),children:(0,v.jsx)("div",{className:"grid wrap gap-1 ".concat(p),children:(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:u.name}),(0,v.jsx)(s.iA,{loading:N,className:h,columns:null===(n=u.columns)||void 0===n?void 0:n.map((function(e){return{label:e.label}})),children:null===(t=u.records)||void 0===t?void 0:t.map((function(e,n){return(0,v.jsx)("tr",{children:u.columns.map((function(n,t){var c=e[n.label];return Array.isArray(c)?c=c.length:null===c?c=(0,v.jsx)("span",{children:(0,v.jsx)("i",{children:"NULL"})}):"object"===typeof c?c=JSON.stringify(c):c&&"date"===n.dataType?c=(0,v.jsx)(s.W7,{format:"DD MMM YY hh:mma",children:c}):c||(c="--"),(0,v.jsx)("td",{children:c},t)}))},n)}))})]})})})}var N=t(5804),b=function(e){var n=e.setSidebarOpen,t=(0,a.useState)([]),d=(0,r.Z)(t,2),p=d[0],j=d[1],b=(0,a.useState)(null),y=(0,r.Z)(b,2),S=y[0],R=y[1],k=(0,a.useState)(!1),A=(0,r.Z)(k,2),M=A[0],Z=A[1],w=(0,_.i)(x.Hv.reports),D=w.get,C=w.loading;return(0,a.useEffect)((function(){D().then((function(e){var n=e.data;if(n.success)return j(n.data)})).catch((function(e){return(0,l.N)({type:"error",message:e.message})}))}),[]),(0,v.jsxs)("div",{className:"".concat(o," grid gap-1 m-a p-1"),children:[(0,v.jsx)("div",{className:"flex ".concat(f),children:(0,v.jsxs)("div",{className:"flex align-center pointer gap_5  ml-1",onClick:function(){return n((function(e){return!e}))},children:[(0,v.jsx)(N.Ps6,{style:{fontSize:"1.75rem"}}),(0,v.jsx)("h2",{children:"Reports"})]})}),(0,v.jsx)(s.iA,{loading:C,className:h,columns:[{label:"Name"},{label:"Action"}],children:p.map((function(e){return(0,v.jsxs)("tr",{style:{cursor:"pointer"},children:[(0,v.jsx)("td",{children:e.name}),(0,v.jsx)(s.p2,{className:m,actions:[{icon:(0,v.jsx)(i.z5B,{}),label:"View",callBack:function(){R(e),Z(!0)}}]})]},e._id)}))}),(0,v.jsx)(l.u,{open:M,head:!0,label:"Report",className:u,setOpen:function(){R(null),Z(!1)},children:(0,v.jsx)(g,{report:S,onSuccess:function(e){S?(j((function(n){return n.map((function(n){return n._id===e._id?e:n}))})),R(null)):j((function(n){return[].concat((0,c.Z)(n),[e])})),Z(!1)}})})]})}}}]);
//# sourceMappingURL=632.a2a9da97.chunk.js.map